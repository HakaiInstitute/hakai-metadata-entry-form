{"version":3,"sources":["static/cioos-banner-fr-v2-1.png","static/cioos-banner-en-v2.png","regions.js","firebase.js","auth.js","components/I18n.jsx","providers/UserProvider.jsx","components/NavDrawer.jsx","components/Success.jsx","components/validate.js","utils/misc.js","components/SimpleModal.jsx","components/Submissions.jsx","components/Contacts.jsx","components/FormComponents/RequiredMark.jsx","components/FormComponents/QuestionStyles.jsx","components/FormComponents/StartTab.jsx","isoCodeLists.js","utils/i18nDictionaryFr.js","utils/i18n.js","components/FormComponents/Contact.jsx","components/FormComponents/SelectInput.jsx","components/FormComponents/ContactTab.jsx","components/FormComponents/BilingualTextInput.jsx","components/FormComponents/Distribution.jsx","components/FormComponents/DistributionTab.jsx","components/FormComponents/CheckBoxList.jsx","components/FormComponents/DateInput.jsx","keywordList.js","components/FormComponents/KeywordsInput.jsx","components/FormComponents/IdentificationTab.jsx","components/FormComponents/MetadataTab.jsx","components/FormComponents/Instruments.jsx","components/FormComponents/Platform.jsx","components/FormComponents/PlatformTab.jsx","components/FormComponents/MapSelect.jsx","components/FormComponents/SpatialTab.jsx","components/MetadataForm.jsx","components/EditContact.jsx","components/Reviewer.jsx","components/Admin.jsx","components/NotFound.jsx","components/BaseLayout.jsx","components/RegionSelect.jsx","components/App.jsx","serviceWorker.js","index.jsx"],"names":["module","exports","regions","stlaurent","en","fr","atlantic","pacific","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","provider","auth","GoogleAuthProvider","setCustomParameters","promt","En","children","useParams","language","Fr","I18n","UserContext","createContext","user","authIsLoading","UserProvider","props","componentDidMount","region","match","params","unsubscribe","onAuthStateChanged","userAuth","displayName","email","uid","Sentry","database","ref","child","update","on","permissionsFB","permissions","toJSON","admins","Object","values","reviewers","isAdmin","includes","isReviewer","setState","state","this","translate","functions","httpsCallable","Provider","value","Component","withRouter","cioosLogo","cioosLogoEN","cioosLogoFR","useStyles","makeStyles","theme","root","display","flexGrow","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","menuButton","marginRight","languageSelector","borderColor","color","spacing","hide","flexShrink","whiteSpace","drawerOpen","drawerClose","overflowX","breakpoints","up","toolbar","alignItems","justifyContent","padding","mixins","content","MiniDrawer","history","useHistory","classes","useTheme","useContext","userIsReviewer","userIsAdmin","pathWithoutLang","useLocation","pathname","split","map","e","slice","join","baseURL","React","useState","Boolean","open","setOpen","translations","home","new","contacts","saved","review","admin","signIn","logout","regionText","className","CssBaseline","AppBar","position","clsx","Toolbar","style","backgroundColor","IconButton","aria-label","onClick","edge","Menu","src","alt","Typography","variant","noWrap","flex","Select","onChange","push","target","MenuItem","Drawer","paper","direction","ChevronRight","ChevronLeft","ListItem","key","ListItemIcon","Avatar","photoURL","ListItemText","primary","Divider","List","Tooltip","placement","title","button","signInWithPopup","then","AccountCircle","ListAlt","disabled","RateReview","SupervisorAccount","signOut","ExitToApp","Submissions","validateLatitude","num","validateLongitude","polygonIsValid","polygon","obj1","obj2","coordinates","c","length","JSON","parse","stringify","filter","lat","lon","parseFloat","contactIsFilled","contact","role","orgName","indName","validators","val","abstract","identifier","keywords","eov","north","south","east","west","progress","distribution","Array","isArray","dist","name","url","verticalExtentMin","verticalExtentMax","platformID","record","noPlatform","platformDescription","instruments","instrument","id","license","find","created","verticalExtentDirection","validateField","fieldName","valueToValidate","validationFunction","percentValid","fields","keys","numTotal","validFields","field","invalidFields","console","log","camelToSentenceCase","text","result","replace","charAt","toUpperCase","deepCopy","obj","firebaseToJSObject","input","out","forEach","entries","rand","Math","round","random","getModalStyle","top","left","transform","palette","background","border","boxShadow","shadows","SimpleModal","onClose","onAccept","modalStyle","Modal","aria-labelledby","aria-describedby","type","records","deleteModalOpen","publishModalOpen","modalKey","loading","currentUser","set","recordsRef","once","recordFirebase","recordID","status","uuidv4","Date","toISOString","remove","modalName","timeAgo","TimeAgo","addLocale","toggleModal","deleteRecord","submitRecord","CircularProgress","marginTop","Button","startIcon","Add","sort","a","b","percentValidInt","recordIsComplete","submitTooltip","chipText","editRecord","ListItemAvatar","Description","Chip","label","submitted","published","secondary","format","ListItemSecondaryAction","cloneRecord","FileCopy","Visibility","Edit","Delete","Publish","Contacts","modalOpen","Grid","container","item","xs","PermContactCalendar","trim","addItem","RequiredMark","passes","fontSize","bottom","SupplementalText","component","QuestionText","marginBottom","paperClass","margin","StartTab","Paper","Save","eovList","roleCodes","progressCodes","depthDirections","dictionary","oxygen","nutrients","nitrate","phosphate","silicate","inorganicCarbon","dissolvedOrganicCarbon","seaSurfaceHeight","seawaterDensity","potentialTemperature","potentialDensity","speedOfSound","seaIce","seaState","seaSurfaceSalinity","seaSurfaceTemperature","subSurfaceCurrents","subSurfaceSalinity","subSurfaceTemperature","surfaceCurrents","pressure","other","resourceProvider","custodian","owner","distributor","originator","pointOfContact","principalInvestigator","processor","publisher","author","sponsor","coAuthor","collaborator","editor","mediator","rightsHolder","contributor","funder","stakeholder","deprecated","proposed","withdrawn","notAccepted","accepted","valid","tentative","superseded","retired","pending","final","underDevelopment","required","planned","onGoing","obsolete","historicalArchive","completed","farming","biota","boundaries","climatologyMeteorologyAtmosphere","economy","elevation","environment","geoscientificInformation","health","imageryBaseMapsEarthCover","intelligenceMilitary","inlandWaters","location","oceans","planningCadastre","society","structure","transportation","utilitiesCommunication","extraTerrestrial","disaster","watershed","crustacean","sampling","crayfish","mariculture","fluorescence","spawning","hydrocarbon","incidents","macroalgae","marsh","meteorology","wetlands","enhancement","mollusc","seabirds","phytoplankton","fish","radiation","salinity","sediment","taxonomy","sustainabilty","waves","wind","depthPositive","heigthPositive","locale","enToFr","Contact","showRolePicker","options","optionLabels","href","FormControl","minWidth","InputLabel","multiple","inputProps","Input","fullWidth","renderValue","selected","valueCode","indexOf","v","i","Checkbox","checked","fontWeight","marginleft","TextField","onBlur","orgURL","orgAdress","orgCity","orgCountry","orgEmail","indPosition","indEmail","SelectInput","showDefaultLabel","ContactTab","handleInputChange","userContacts","initial","contactList","handleChange","newValue","propName","index","removeItem","justify","changes","concat","height","labelId","BilingualTextInput","multiline","error","translationButonDisabled","awaitingTranslation","setAwaitingTranslation","handleEvent","newData","languages","lang","InputProps","startAdornment","InputAdornment","size","endIcon","alternateLanguage","fromLang","translatedText","translation","data","Distribution","description","removeDistribution","nameLabel","descriptionLabel","handler","DistributionTab","CheckBoxList","FormControlLabel","control","ele","arr","newCheckedValuesArray","formatDate","date","d","getDate","m","getMonth","y","getFullYear","DateInput","utils","DateFnsUtils","dateSelected","KeyboardButtonProps","keywordList","KeywordsInput","selectedKeyword","setKeyword","reverse","hasKeyWordsinBothLanguages","kws","Autocomplete","paddingLeft","onInputChange","keyword","filterOptions","filtered","createFilterOptions","inputValue","selectOnFocus","clearOnBlur","freeSolo","handleHomeEndKeys","renderOption","option","getOptionLabel","renderInput","userKeywordList","onDelete","deletedChipLang","IdentificationTab","dateStart","dateEnd","datePublished","dateRevised","datasetIdentifier","MetadataTab","limitations","comment","manufacturer","version","Instruments","manufacturerLabel","versionLabel","typeLabel","inst","Platform","PlatformTab","instrumentsWithoutPlatform","withLeaflet","onDeleted","editableFG","setEditableFG","setLayerError","coordTest","polyTest","clearExtraLayers","drawnItems","layerid","leafletElement","_layers","layer","removeLayer","limitDecimals","x","Number","toPrecision","L","EditToolbar","include","enable","featureGroup","clearLayers","bboxIsDrawn","fieldsAreEmpty","Map","center","zoom","TileLayer","attribution","FeatureGroup","featureGroupRef","onEdited","onCreated","layerType","polygonStrings","getLatLngs","lng","bounds","getBounds","getNorthEast","wrap","getSouthWest","draw","marker","circle","polyline","circlemarker","edit","test_string","test","hasPolygon","positions","polygonList","coordList","matchAll","point","parsePolyString","test_n","test_s","test_e","test_w","hasBoundingBox","inputMode","pattern","SpatialTab","paddingBottom","TabPanel","hidden","Box","MetadataForm","event","saveDisabled","category","tabIndex","highlightMissingRequireFields","userID","userDataRef","recordFireBase","newNode","tabProps","Fab","right","handleSubmitClick","Tabs","scrollButtons","Tab","tabRoot","contextType","withStyles","EditContact","dbRef","off","rootRef","isFilledEnoughToSave","handleCancelClick","MetadataRecordListItem","onViewClick","onDeleteClick","onSubmitClick","showPublishAction","userinfo","users","modalUserID","k","recordsForReview","recordsPublished","unique","Set","Admin","permissionsFirebase","updatePermissions","NotFound","createMuiTheme","MuiTextField","MuiSelect","MuiButton","BaseLayout","ThemeProvider","path","exact","Success","Reviewer","Error","images","flexWrap","image","down","opacity","focusVisible","imageButton","common","white","imageSrc","backgroundSize","backgroundPosition","imageBackdrop","black","imageTitle","imageMarked","ButtonBases","ButtonBase","focusRipple","focusVisibleClassName","backgroundImage","App","basename","to","window","hostname","dsn","integrations","Integrations","BrowserTracing","tracesSampleRate","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.fac4b5dd.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAV0AAAAlCAYAAADhjjqvAAAACXBIWXMAAAhDAAAIQwGFAW1/AAAPnUlEQVR4nO1dTYhrSRU+/cABF2IyuBOcNm/lykAe4kKwBzLr6U3e1rhJ76QHhDwFsRcu0iDY7kxvzGxcpBHajSBpmB5ciJCGnqWLtNHZqIt0D4g/KJRc+c7MN2eq6ta9SfekZ+qDeq9zb/2c+rnfPTl16mTHOSdbgF0R2ReRPRF5XUTeE5ETpLttEDAjIyNjE3jyMY7iHkh1KSLnItLA328TARefj3AvIyMj49HjITXdXRBpQahtEbkG2Z5Dm23gWl9ELlGmT6SbNd+MjIxHj/vWdNsgymsQqX5Wc8KESPQQmu0llZ9QmcOs+WZsIToiUmgu3S2dnKGIzDdU10xERhuq61OLTWu6DTIN7INAL6HNLkvKLUGwoXy7IN9s883YNhTENhCRp1smVxck+UJELtasa4j6DkTkZkPyfSqxCU23De3zGmkPJKva7EkJ4Qq02DJiXqK+V/H3D7dM8y0W5RRaD6cp7sWg2lJZvpT2VBtprtGXFupYeOofgWDWQaek/irjkIJC3hXqX+HzwrQzxnh2oBmyPD2PnA7X58jTkg/mW/O3zJhqGV99HcrbJO3ZV9eUNFhbz5zKz1DvjPraNeX0uq1L6+nROHQxbiyrr+wMZYf4rOvFjq223fT0YxgoMwq0OQ2M64Cu8zNhvwHMqe6y+Wa5Z0YGrm9MnztYeyKFplsjNZxzE+fc0n2AO+fcZY10jRqK/0+cc33n3F6CTH206fD/EeSq26e6qeWcm9M4zJxzIyS+vnDOdQJt9JBnmiDDwDm3CrQ3dR/GqGKfmqiPMaK0oOvzSH9CqVWh/qKPw5L62lgzZX1aod0uxqiQfYx2Wrju0N4M97uUp4m6NF+X6l8gn50jZ65rXQO634qMk807o/szMzYzc5/Lc70dM3cjqof7ofmGCbLastz3DtoaonwxD9r2lGS08s6RVyLzERt3lXWKeprUH6E2pqa/K1Nf2XzP8XmAunnOF6as1lWbdJUo90GQKclHiG1D1ocgcybiCQjVV0cD9xzqWX4M5KvEGiLMJi2wVWDxppLuKJGQBiTXjEgjllq0UGYRQm3S4vc92KHUozLTkod4SC+WmOx7WDdl/fLJyWSsD499qGyqSroO49ilz3VJl0mjLulOqZ822X7o56qkq+t0hTmfY6yVlJpG7oVH3nHCfKSQLn/WeRYi2Z6Rl6+VzXfXk39I7emztECf1yJd1XAvoW3WqUNQ1uH/BkjTarht3D9Be47aPgLpF3l2cU0J/KHI177dYmlAC9DmSyFdbWte8gDYh8yZB9KXmrRIyrRLTZ3AQvUl7d8qIW+VlEK6Qi8g1XB1DvhFoA+WvtgWpK2VPYSMHj3scyJElcESqSMy0GRJd0FaW6sC6TL0JRP69sMkpuWHCbLashIg6qmnrK7pzkfFfV/O0HzExl3bHZP2yveGRqtVJcb2I0a6vpcIk/mCZB8x6Va16Ra212/Blesc9ts66MPW+yp5MBwhMa5x/xBt7ZB/r5At+I/4XNh4vykinxOR74nI30TkjZoypkBtW2cJeU9F5JmI3NZsZ4SyzytsZDzHBkq3xE46hs2wkPE4se4r1C8lNuQm2baeJ47VpvEM/bqFjU9tb2foxxltNL2gjacB2SdjOMXa3DH9e4Gx7+Jvi6co8yyhvwf4f1ySz5ZRuey6Y5uoruMBPi/wmddCFVnrQuV9gfXaKZmP0LgvyJ6rfTjDGKhN/RTXe6jvDNd6a+6HMG5MX/6PKqRbbGL9RER+RR4JdUhXCXfPuIepK1m/pLwepjhCHbsYpCNcf1dEXhaRl0TkMyLy40+Ai5ka+I9r7BwfYLENA4tJN2tu6MFOxQUWaitC6mO0u4kd9HVQtP8aEaHi1kNIxxiLZ5DdbhxVGZ+zmvNmcQuZumu4p11grgV90/m2JPYaPvc8daSgBXm5z1cYR16DXeSx468EquNedT70BcH9vUW9SoDaho7lgpSHlH5fmfL89xVdO8bn913tUkm3DY3zPSLFJd1LBRPutadMv6Y3wh0IvCj7Z3PvCcj4PqCDW3dxpqBFizNVC2XcYIE1A14HKvupv3gpjk09jCZkv60p+yagniGqzfdKCHAFbYpfJOsQ5vOAllsHZ2t+UzhGv+YYlxB5XWDOWoH7MQwwblZO1TTVo2KKteFbFzruV2vOx4XpwwXW5BWSEix/I7hIfKldEJlqn0d4jqx8H1ZmEuxhDfJS2Df3Jtj8SqlHvQ3aJfnUXlvXzvcXY+v5N+RPlbNKapJds6qnAKeYTde3E141DSL1q20s1U4csgc6z+bbJmSPpVSbrtrWnMfrYmrmjr1DVmYzquPpJ3uo6Bj3PDvhuoPeM7Zk56lT83bJPsj3FsamOzVz2/TUr/m7RmbeiedxGJMNPiarbwxCm7fqzWBl8sk7LpmP0Lg7aptt07xWeSxWRtYBzV1ovlnumZGB8/Haed+OXLZYG/AgKEjr3HN/P3HRpxKuYFPsDv9XfQgnkFPbKwj3D9SHOnWWpZ5x4RrVILAY6Y48C6dq0sVnd651sVuCqJrYHWrTssdSKunmlNPWpDLzgm5YNQK21ktsXMVQZlKwWMKUYTfVynACU0cf5RtQ+X9HfZhUrDMFZ7A16depIexDK3zdqGsPVOjXo3W+4qrNzNp0N1H3Q9SfkfGJQYx0j7BJJSAy33Hb4to72GTz4aQi4XLb+xU26vqUn+U8pyPJQqfnNo0b2O52YKO6oBM5c7JjZWQochyDTylCpKskdg0Si21EhbwYJrhelXAl4kLmgx413ve8GJYUway4/3kcH66y+VcVukuuri83dPSyzoabaol1NjUUqoHaXeJN1C0PUP8nDbohVHfzMuMRw0e6qg2egHzLXLh8pKvRweoQriLFhaxN5B5qZ0LhIt+gaw+BY7iv6MNVJybCJojL58oi5NbTvKf6t4V0Q7EBfPemnjP1IV/dkYlVwP0cmNgSg5I4Bk0638/1L0ybK/I88MUkEFOfjWvB93iXfh5w+/P1g8twu7E4ETZP09QTmp9QmUcLS7q7IKc+Dh4cJQSruUY5NUUw4a4bASzmQqayHpYQ+zkRd0Hkb4rIV8le/RA4ACG1ami76tu6TuhAfbB9frJ6bR2fzBYI1pIuO6R/nGiSD+oBRd8Sc28HZqIBxuwA31ZanvHXwDz6zUaJWsdyjDF5Sm5RShpPqT0dswGVFcpvfaCbSCr/a5Df+mHr3+oOpXkGdK/lyc8I9UOI+AeeOsaeawrtny0Xmh8JlHm88Hgq9OGyVWVXWD0GNG7CJo/f+lzIWNZU+fZNWZcYWGdTaRjZyS87BjxdwwtAA41Y1xhNnYBnQ2pSz4WQy9w6sm/KeyEUG8B3T8zZf1/yHanVY54Dc86fUyyOwdwTb4JjXKjbkkNbsRgREoi/MKe4F/aedUOTSD8kEK+gLE4Ee8vMTduh+QmVebSJNd0TCs94mGBWYJyT98AmNFyGat3fQN2vQMO9rmAmOKfNtDv8/R55OdTFQ715VcMY1viqrifCjgNHkPUYbKviEVOBRjIoObjxAu2OtijQtzWpDOirbY+c6vVQhZ3nFjnZK/hAQafk9N2CTBJCWqMeomBt9wzy2rk5o6/+48SN2quKG7qxfgzopB3P6w2d/LJrtSijB2U6kbXM85Na5tGASXef3K3KzAoN2sAqyO/n2KQSDJAzAcx1U6xPm2upZFeQ5N9F5Lci8hbkeqnGS4E9LDQ27ytrmBmGWOyzhLxCD1Kdo7BXeCCbsJGlLjw99XNRciJMA1MPSmI0MDoUw+AgElOCjxdPt8DU4IM9w39GX9v1K/YmXxg2joGekjs1R1eFjv92zNzUiRGxKZTFKwjFiSjyaZlUs1OdMlsNa9M9Asn5iGgP9y/R+UPkPcSPSb4DctPFu08bckrgu2QrPiftIkbQxfUvGlm+UtH1S48JM/EWn7+NAD4hl7cYTunI4Dyi9bbIZezUY/dMxTG97UObHooBeUtcUGCaEG5BMjfQSGMubhrARoNcHyS8SM6QT18aZS+OEQUdvw8i8cUGsLiAzC8jL4/HjedaF7LeeLS/MvRIs9bYCvb46rFns6xqTIIO1p/Pr9o3zqF+lMUr8MWJaJENeBU5li40P1KhzOMB2cb0qG+brh1RSMVLimvL9pRdOu1V99RXg+Lxqk25SG+5MJYV21Cbs70+wem1unbokZFwGgjKHbO/VQ1izvVuOoi5rw5ff7YhiHkdm649muyzjWoYwi7Z4mOn7dTGqnZgns8W8obi6HbNtSb1fUyycfhNPb46Q7mpp15fjFr+rLFsezQn1tbs68fQczx6hjwDYwtne/7Q3NN+dyLzEyvzaG26+sc+OnOdQLI2nVBcg6MAsdVNey6OfgWy1Ji9vnvXgWPOqanp+aUIJpWyRcKR+lPbHHoI0hEJpwQuD6WWhwS5P6mBy2P99dW/qlh/1Xi6PEbNwL2pJ0ZA6OVlYzowadlf+BgE4hgMPfGOx/TyHptxc/g/FiNCAvEMuB/8iye+8rF+hOIVxOJE2BjAQvdC8xMrsymOefCkP0x5hEMDP6Wv+am4g9ngLvEHJqtgl2LlWryLrz9t2sgr8wmeoH92A65Bv7f2kK5kGeuhTRutGRmPAmrTVR/bqoSrwczVW0HtwZs6aluQ4X8C974Dm2+bbLZLPIChTTq7oaa4Ixv0rr9oxhbiOhNuxmODarqXpDFW8Qq4Rn7WMFVrXOc0GtfzfRH5Bx6u4lDDX0Xk6wFNWj0wXschiIkJlC5GM+dyE3hg7Kwhc0ZGRkYUSrrqhXBSwZWrTafPLPrkfVAHDfJoYE1GzQ1lxLhrjjCf0E+8/wKBzn9G9/Rr6luZdDMyMu4TSrrFP18GAU0STQwh+6hiSTEPqkJNFj6tu2q9rP3+WkS+JiJfwL1/wo1LzSHr/O5bRkZGRimeEMksK5gXGigXI+fUKGEWE/Ln9eGyIjGqHbd4qXyJCLfAZ8nfeFObfxkZGRlBPAGBvkME9XqCiWHfbKD5oORZ5eBBP+EocVXSVRSE+svI/Uy6GRkZ944nhmzu8Gu/ZUSZ6lrVr+CCtU/hJGNknvJrFSH811x/m/5urLnxl5GRkVGKJ9BGmWwmJSaGPZB0ilZ4STbYGFLi4iqK+v5UQ9stSPW7IvIDEfm9iPzGvFw2HagnIyMj4yPwke45SDDkr9qvGAS8zLabGheXUcfEMIEm/SN4LvzLkOxuzU2/jIyMjGRY84IidIhAN9CqkC4fWvDVd05eE1XqrEK6hyBVJf/lmiEdMzIyMmqhcBlzHt/UPfJfteTVqOGV0AZR2kMJqeYHi1R/XW6bXy4NRDHaoTwn2V0sIyPjXiEi/wPZThAuBd75uwAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,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\"","const regions = {\n  stlaurent: { en: \"St Laurence\", fr: \"Saint-Laurent\" },\n  atlantic: { en: \"Atlantic\", fr: \"Atlantique\" },\n  pacific: { en: \"Pacific\", fr: \"Pacifique\" },\n};\n\nexport default regions;\n","import firebase from \"firebase/app\";\nimport \"firebase/database\";\nimport \"firebase/auth\";\nimport \"firebase/functions\";\nimport \"firebase/firestore\";\n\nconst config = {\n  apiKey: \"AIzaSyAdlELZS5Lbea5NquotMT8amwO-Lc_7ogc\",\n  authDomain: \"cioos-metadata-form.firebaseapp.com\",\n  databaseURL: \"https://cioos-metadata-form.firebaseio.com\",\n  projectId: \"cioos-metadata-form\",\n  storageBucket: \"cioos-metadata-form.appspot.com\",\n  messagingSenderId: \"646114203434\",\n  appId: \"1:646114203434:web:bccceadc5144270f98f053\",\n};\n\nfirebase.initializeApp(config);\n\nexport default firebase;\n","import firebase from \"./firebase\";\n\nconst provider = new firebase.auth.GoogleAuthProvider();\n\nprovider.setCustomParameters({ promt: \"select_account\" });\n\nexport const auth = firebase.auth();\n\nexport const signInWithGoogle = () => auth.signInWithPopup(provider);\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nexport const GetLanguage = () => {\n  const { language } = useParams();\n  return language;\n};\n\nexport const En = ({ children }) => {\n  const { language } = useParams();\n  return language === \"en\" && <>{children}</>;\n};\n\nexport const Fr = ({ children }) => {\n  const { language } = useParams();\n  return language === \"fr\" && <>{children}</>;\n};\n\n// Just returns text \"en\" or \"fr\"\nexport const I18n = ({ en, fr }) => {\n  const { language = \"en\" } = useParams();\n  return language === \"en\" ? en : fr;\n};\n\nexport const getValueinFirstLanguage = (obj) => {\n  // obj is,eg,  {en:\"sun\",fr:\"soleil\"}\n  // return field in first language found\n  return Object.values(obj).find(() => true);\n};\n","import React, { Component, createContext } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport * as Sentry from \"@sentry/react\";\nimport { auth } from \"../auth\";\nimport firebase from \"../firebase\";\n\nexport const UserContext = createContext({ user: null, authIsLoading: false });\n\nclass UserProvider extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: null,\n      authIsLoading: false,\n      admins: [],\n      reviewers: [],\n      isReviewer: false,\n    };\n  }\n\n  componentWillUnmount() {\n    if (this.unsubscribe) this.unsubscribe();\n  }\n\n  componentDidMount = () => {\n    const { match } = this.props;\n\n    const { region } = match.params;\n\n    this.unsubscribe = auth.onAuthStateChanged((userAuth) => {\n      if (userAuth) {\n        const { displayName, email, uid } = userAuth;\n\n        Sentry.addBreadcrumb({ user: email });\n\n        firebase\n          .database()\n          .ref(region)\n          .child(`users`)\n          .child(uid)\n          .child(\"userinfo\")\n          .update({ displayName, email });\n\n        firebase\n          .database()\n          .ref(region)\n          .child(`permissions`)\n          .on(\"value\", (permissionsFB) => {\n            const permissions = permissionsFB.toJSON();\n\n            const admins = Object.values(permissions.admins || {});\n            const reviewers = Object.values(permissions.reviewers || {});\n\n            const isAdmin = admins.includes(email);\n            const isReviewer = reviewers.includes(email);\n\n            this.setState({\n              admins,\n              reviewers,\n              isAdmin,\n              isReviewer,\n            });\n          });\n      }\n      this.setState({ user: userAuth });\n    });\n  };\n\n  render() {\n    const { children } = this.props;\n    const translate = firebase.functions().httpsCallable(\"translate\");\n\n    return (\n      <UserContext.Provider value={{ ...this.state, translate }}>\n        {children}\n      </UserContext.Provider>\n    );\n  }\n}\n\nexport default withRouter(UserProvider);\n","import React, { useContext } from \"react\";\n\nimport { useParams, useLocation, useHistory } from \"react-router-dom\";\n\nimport clsx from \"clsx\";\n\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport {\n  ExitToApp,\n  Contacts,\n  ListAlt,\n  AccountCircle,\n  ChevronLeft,\n  ChevronRight,\n  RateReview,\n  SupervisorAccount,\n  Menu,\n} from \"@material-ui/icons\";\n\nimport {\n  Drawer,\n  Avatar,\n  AppBar,\n  Toolbar,\n  CssBaseline,\n  Typography,\n  Divider,\n  IconButton,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Select,\n  Tooltip,\n  MenuItem,\n} from \"@material-ui/core\";\nimport regions from \"../regions\";\nimport { auth, signInWithGoogle } from \"../auth\";\n\nimport { En, Fr, I18n } from \"./I18n\";\nimport cioosLogoFR from \"../static/cioos-banner-fr-v2-1.png\";\nimport cioosLogoEN from \"../static/cioos-banner-en-v2.png\";\n\nimport { UserContext } from \"../providers/UserProvider\";\n\nconst cioosLogo = { en: cioosLogoEN, fr: cioosLogoFR };\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexGrow: 1,\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  languageSelector: {\n    \"&:before\": {\n      borderColor: \"white\",\n    },\n    \"&:hover:not(.Mui-disabled):before\": {\n      borderColor: \"white\",\n    },\n    color: \"white\",\n    borderColor: \"white\",\n    marginRight: theme.spacing(2),\n  },\n  hide: {\n    display: \"none\",\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    whiteSpace: \"nowrap\",\n  },\n  drawerOpen: {\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerClose: {\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    overflowX: \"hidden\",\n    width: theme.spacing(7) + 1,\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(9) + 1,\n    },\n  },\n  toolbar: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n}));\n\nexport default function MiniDrawer({ children }) {\n  const history = useHistory();\n\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const { user, isReviewer: userIsReviewer, isAdmin: userIsAdmin } = useContext(\n    UserContext\n  );\n\n  let { language = \"en\", region = \"region-select\" } = useParams();\n\n  if (![\"en\", \"fr\"].includes(language)) language = \"en\";\n  if (![\"pacific\", \"atlantic\", \"stlaurent\"].includes(region)) region = \"\";\n\n  const { pathname } = useLocation();\n\n  const pathWithoutLang = pathname\n    .split(\"/\")\n    .map((e) => e)\n    .slice(2)\n    .join(\"/\");\n\n  const baseURL = `/${language}/${region}`;\n\n  // if region not set, keep drawer closed\n  const [open, setOpen] = React.useState(Boolean(region));\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const translations = {\n    home: <I18n en=\"Home\" fr=\"Accueil\" />,\n    new: <I18n en=\"Metadata Editor\" fr=\"Éditeur de méta-données\" />,\n    contacts: <I18n en=\"Contacts\" fr=\"Contacts\" />,\n    saved: <I18n en=\"Saved Records\" fr=\"Enregistrements\" />,\n    review: <I18n en=\"Review submissions\" fr=\"Examen des soumissions\" />,\n    admin: <I18n en=\"Admin\" fr=\"Admin\" />,\n    signIn: <I18n en=\"Sign in\" fr=\"Se Connecter\" />,\n    logout: <I18n en=\"Logout\" fr=\"Déconnexion\" />,\n  };\n\n  const regionText = region ? regions[region][language] : \"\";\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar\n        position=\"fixed\"\n        className={clsx(classes.appBar, {\n          [classes.appBarShift]: open,\n        })}\n      >\n        <Toolbar style={{ backgroundColor: \"#52a79b\" }}>\n          <IconButton\n            color=\"primary\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerOpen}\n            edge=\"start\"\n            className={clsx(classes.menuButton, {\n              [classes.hide]: open,\n            })}\n          >\n            <Menu />\n          </IconButton>\n\n          <img src={cioosLogo[language]} alt=\"CIOOS/SIOOC\" />\n          <Typography\n            variant=\"h5\"\n            noWrap\n            style={{ marginLeft: \"10px\", flex: 1 }}\n          >\n            <En>{regionText} Metadata Entry Tool</En>\n            <Fr>Outil de saisie de métadonnées {regionText}</Fr>\n          </Typography>\n\n          <Select\n            color=\"primary\"\n            className={classes.languageSelector}\n            value={language}\n            onChange={(e) =>\n              history.push(`/${e.target.value}/${pathWithoutLang}`)\n            }\n          >\n            <MenuItem value=\"en\">EN</MenuItem>\n            <MenuItem value=\"fr\">FR</MenuItem>\n          </Select>\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        variant=\"permanent\"\n        className={clsx(classes.drawer, {\n          [classes.drawerOpen]: open,\n          [classes.drawerClose]: !open,\n        })}\n        classes={{\n          paper: clsx({\n            [classes.drawerOpen]: open,\n            [classes.drawerClose]: !open,\n          }),\n        }}\n      >\n        <div className={classes.toolbar}>\n          <IconButton onClick={handleDrawerClose}>\n            {theme.direction === \"rtl\" ? <ChevronRight /> : <ChevronLeft />}\n          </IconButton>\n        </div>\n\n        {user && (\n          <ListItem key=\"userInfo\">\n            <ListItemIcon>\n              <Avatar src={user.photoURL} />\n            </ListItemIcon>\n            <ListItemText primary={user.displayName} />\n          </ListItem>\n        )}\n        <Divider />\n        <List>\n          {!user && region && (\n            <Tooltip\n              placement=\"right-start\"\n              title={open ? \"\" : translations.signIn}\n            >\n              <ListItem\n                button\n                key=\"Sign in\"\n                onClick={() =>\n                  signInWithGoogle().then(() =>\n                    history.push(`${baseURL}/submissions`)\n                  )\n                }\n              >\n                <ListItemIcon>\n                  <AccountCircle />\n                </ListItemIcon>\n                <ListItemText primary={translations.signIn} />\n              </ListItem>\n            </Tooltip>\n          )}\n          {user && region && (\n            <>\n              <Tooltip\n                placement=\"right-start\"\n                title={open ? \"\" : translations.saved}\n              >\n                <ListItem\n                  button\n                  key=\"Saved Records\"\n                  onClick={() => history.push(`${baseURL}/submissions`)}\n                >\n                  <ListItemIcon>\n                    <ListAlt />\n                  </ListItemIcon>\n                  <ListItemText primary={translations.saved} />\n                </ListItem>\n              </Tooltip>\n              {region && (\n                <>\n                  <Tooltip\n                    placement=\"right-start\"\n                    title={open ? \"\" : translations.contacts}\n                  >\n                    <ListItem\n                      button\n                      key=\"Contacts\"\n                      onClick={() => history.push(`${baseURL}/contacts`)}\n                    >\n                      <ListItemIcon disabled>\n                        <Contacts />\n                      </ListItemIcon>\n                      <ListItemText primary={translations.contacts} />\n                    </ListItem>\n                  </Tooltip>\n\n                  {userIsReviewer && (\n                    <Tooltip\n                      placement=\"right-start\"\n                      title={open ? \"\" : translations.review}\n                    >\n                      <ListItem\n                        button\n                        key=\"Review\"\n                        onClick={() => history.push(`${baseURL}/reviewer`)}\n                      >\n                        <ListItemIcon>\n                          <RateReview />\n                        </ListItemIcon>\n                        <ListItemText primary={translations.review} />\n                      </ListItem>\n                    </Tooltip>\n                  )}\n                  {userIsAdmin && (\n                    <Tooltip\n                      placement=\"right-start\"\n                      title={open ? \"\" : translations.admin}\n                    >\n                      <ListItem\n                        button\n                        key=\"Admin\"\n                        onClick={() => history.push(`${baseURL}/admin`)}\n                      >\n                        <ListItemIcon>\n                          <SupervisorAccount />\n                        </ListItemIcon>\n                        <ListItemText primary={translations.admin} />\n                      </ListItem>\n                    </Tooltip>\n                  )}\n                </>\n              )}\n            </>\n          )}\n          {user && (\n            <Tooltip\n              placement=\"right-start\"\n              title={open ? \"\" : translations.logout}\n            >\n              <ListItem\n                button\n                key=\"Logout\"\n                onClick={() => auth.signOut().then(() => history.push(baseURL))}\n              >\n                <ListItemIcon>\n                  <ExitToApp />\n                </ListItemIcon>\n                <ListItemText primary={translations.logout} />\n              </ListItem>\n            </Tooltip>\n          )}\n        </List>\n        <Divider />\n      </Drawer>\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n        {children}\n      </main>\n    </div>\n  );\n}\n","import React from \"react\";\n\nimport { Typography } from \"@material-ui/core\";\nimport { Fr, En } from \"./I18n\";\n\nconst Submissions = () => {\n  return (\n    <div>\n      <Typography variant=\"h5\">\n        <En>Submission received!</En>\n        <Fr>Soumission reçue!</Fr>\n      </Typography>\n\n      <Typography>\n        <En>Thank you for your submission!</En>\n        <Fr>Merci pour votre soumission!</Fr>\n      </Typography>\n    </div>\n  );\n};\n\nexport default Submissions;\n","const validateLatitude = (num) => num >= -90 && num <= 90;\n\nconst deepCompare = (obj1, obj2) =>\n  JSON.parse(JSON.stringify(obj1) === JSON.stringify(obj2));\n\nconst validateLongitude = (num) => num >= -180 && num <= 180;\n\nconst polygonIsValid = (polygon) => {\n  // eg 48,-128 56,-133 56,-147 48,-128\n  const coordinates = polygon.split(\" \").map((c) => c.split(\",\"));\n  if (coordinates.length < 2) return false;\n  if (!deepCompare(coordinates[0], coordinates[coordinates.length - 1]))\n    return false;\n\n  return (\n    coordinates.filter(\n      ([lat, lon]) =>\n        validateLongitude(parseFloat(lon)) && validateLatitude(parseFloat(lat))\n    ).length === coordinates.length\n  );\n};\n\nconst contactIsFilled = (contact) =>\n  Boolean(\n    contact.role && contact.role.length && (contact.orgName || contact.indName)\n  );\n\n// required fields and  a function to validate each\nconst validators = {\n  title: (val) => val && val.en && val.fr,\n  abstract: (val) => val && val.en && val.fr,\n  identifier: (val) => val,\n  keywords: (val) => val && (val.en.length || val.fr.length),\n  eov: (val) => val && val.length,\n  map: (val) => {\n    if (!val) return false;\n    const north = parseFloat(val.north);\n    const south = parseFloat(val.south);\n    const east = parseFloat(val.east);\n    const west = parseFloat(val.west);\n    const { polygon } = val;\n\n    return (\n      (north &&\n        south &&\n        east &&\n        west &&\n        north >= south &&\n        east >= west &&\n        validateLatitude(north) &&\n        validateLatitude(south) &&\n        validateLongitude(east) &&\n        validateLongitude(west)) ||\n      (polygon && polygonIsValid(polygon))\n    );\n  },\n  progress: (val) => val,\n  distribution: (val) =>\n    Array.isArray(val) && val.filter((dist) => dist.name && dist.url).length,\n  verticalExtentMin: (val) => val,\n  verticalExtentMax: (val) => val,\n  platformID: (val, record) => record.noPlatform || val,\n  platformDescription: (val, record) => record.noPlatform || val,\n  instruments: (val, record) =>\n    record.noPlatform ||\n    (val && val.filter((instrument) => instrument.id).length),\n  language: (val) => val,\n  license: (val) => val,\n  // at least one contact has to have a role and a org or individual name\n  contacts: (val) =>\n    val &&\n    val\n      .filter(contactIsFilled)\n      .find((contact) => contact.role.includes(\"custodian\")) &&\n    val\n      .filter(contactIsFilled)\n      .find((contact) => contact.role.includes(\"owner\")),\n  created: (val) => val,\n  verticalExtentDirection: (val) => val,\n};\nexport const validateField = (record, fieldName) => {\n  const valueToValidate = record[fieldName];\n  // if no validator funciton exists, then it is not a required field\n  const validationFunction = validators[fieldName] || (() => true);\n\n  return validationFunction && validationFunction(valueToValidate, record);\n};\nexport const percentValid = (record) => {\n  const fields = Object.keys(validators);\n  const numTotal = fields.length;\n  const validFields = fields.filter((field) => validateField(record, field));\n\n  const invalidFields = fields.filter((field) => !validateField(record, field));\n\n  // eslint-disable-next-line no-console\n  console.log(\"Missing fields:\", record.title, invalidFields);\n\n  const numValid = validFields.length;\n\n  return numValid / numTotal;\n};\nexport const recordIsValid = (record) => {\n  return percentValid(record) === 1;\n};\n","export function camelToSentenceCase(text = \"\") {\n  if (!text) return \"\";\n  const result = text.replace(/([A-Z])/g, \" $1\");\n  return result.charAt(0).toUpperCase() + result.slice(1);\n}\nexport function deepCopy(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\nexport function firebaseToJSObject(input) {\n  if (!input) return null;\n  const out = deepCopy(input);\n  Object.keys(out).forEach((key) => {\n    if (typeof out[key] === \"object\" && Object.keys(out[key])[0] === \"0\") {\n      out[key] = Object.entries(out[key]).map(([, v]) => v);\n    }\n\n    //  special case\n    if (input.keywords)\n      out.keywords = {\n        en: Object.values(input.keywords.en || {}),\n        fr: Object.values(input.keywords.fr || {}),\n      };\n  });\n  if (out.contacts) {\n    Object.values(out.contacts).forEach((contact) => {\n      if (contact.role) {\n        // eslint-disable-next-line no-param-reassign\n        contact.role = Object.values(contact.role);\n      }\n    });\n  }\n\n  return out;\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Modal from \"@material-ui/core/Modal\";\nimport { En, Fr } from \"./I18n\";\n\nfunction rand() {\n  return Math.round(Math.random() * 20) - 10;\n}\n\nfunction getModalStyle() {\n  const top = 50 + rand();\n  const left = 50 + rand();\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: \"absolute\",\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nexport default function SimpleModal({ open, onClose, onAccept }) {\n  const classes = useStyles();\n  // getModalStyle is not a pure function, we roll the style only on the first render\n  const [modalStyle] = React.useState(getModalStyle);\n\n  return (\n    <div>\n      <Modal\n        open={open}\n        onClose={onClose}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\"\n      >\n        <div style={modalStyle} className={classes.paper}>\n          <h2 id=\"simple-modal-title\">\n            <En>Are you sure?</En>\n            <Fr>Vous êtes sûr ?</Fr>\n          </h2>\n          <button\n            type=\"button\"\n            onClick={() => {\n              onClose();\n              onAccept();\n            }}\n          >\n            <En>Yes</En>\n            <Fr>Oui</Fr>\n          </button>\n          <button type=\"button\" onClick={onClose}>\n            <En>No</En>\n            <Fr>Non</Fr>\n          </button>\n        </div>\n      </Modal>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport TimeAgo from \"javascript-time-ago\";\n\nimport en from \"javascript-time-ago/locale/en\";\nimport fr from \"javascript-time-ago/locale/fr\";\n\nimport {\n  Typography,\n  List,\n  ListItem,\n  ListItemText,\n  Avatar,\n  ListItemAvatar,\n  Tooltip,\n  ListItemSecondaryAction,\n  IconButton,\n  CircularProgress,\n  Chip,\n  Button,\n} from \"@material-ui/core\";\nimport {\n  Delete,\n  Edit,\n  Publish,\n  Description,\n  FileCopy,\n  Visibility,\n  Add,\n} from \"@material-ui/icons\";\nimport firebase from \"../firebase\";\nimport { auth } from \"../auth\";\nimport { percentValid } from \"./validate\";\n\nimport { Fr, En, I18n } from \"./I18n\";\nimport { firebaseToJSObject } from \"../utils/misc\";\n\nimport SimpleModal from \"./SimpleModal\";\n\nclass Submissions extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      records: {},\n      deleteModalOpen: false,\n      publishModalOpen: false,\n      modalKey: \"\",\n      loading: false,\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({ loading: true });\n    const { match } = this.props;\n    const { region } = match.params;\n\n    this.unsubscribe = auth.onAuthStateChanged((user) => {\n      if (user) {\n        firebase\n          .database()\n          .ref(region)\n          .child(\"users\")\n          .child(user.uid)\n          .child(\"records\")\n          .on(\"value\", (records) =>\n            this.setState({ records: records.toJSON(), loading: false })\n          );\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.unsubscribe) this.unsubscribe();\n  }\n\n  editRecord(key) {\n    const { match, history } = this.props;\n    const { language, region } = match.params;\n\n    history.push(`/${language}/${region}/new/${key}`);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  submitRecord(key) {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    if (auth.currentUser && key) {\n      firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(auth.currentUser.uid)\n        .child(\"records\")\n        .child(key)\n        .child(\"status\")\n        .set(\"submitted\");\n    }\n  }\n\n  cloneRecord(key) {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    if (auth.currentUser) {\n      const recordsRef = firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(auth.currentUser.uid)\n        .child(\"records\");\n\n      recordsRef.child(key).once(\"value\", (recordFirebase) => {\n        const record = recordFirebase.toJSON();\n\n        // reset record details\n        record.recordID = \"\";\n        record.status = \"\";\n        record.identifier = uuidv4();\n        record.created = new Date().toISOString();\n\n        recordsRef.push(record);\n      });\n    }\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  deleteRecord(key) {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    if (auth.currentUser) {\n      firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(auth.currentUser.uid)\n        .child(\"records\")\n        .child(key)\n        .remove();\n    }\n  }\n\n  toggleModal(modalName, state, key = \"\") {\n    this.setState({ modalKey: key, [modalName]: state });\n  }\n\n  render() {\n    const { match, history } = this.props;\n\n    const { language, region } = match.params;\n\n    const {\n      deleteModalOpen,\n      modalKey,\n      publishModalOpen,\n      records,\n      loading,\n    } = this.state;\n\n    let timeAgo;\n\n    if (language === \"en\") {\n      TimeAgo.addLocale(en);\n      timeAgo = new TimeAgo(\"en-US\");\n    } else {\n      TimeAgo.addLocale(fr);\n      timeAgo = new TimeAgo(\"fr-FR\");\n    }\n\n    const recordDateSort = (a, b) =>\n      new Date(b[1].created) - new Date(a[1].created);\n\n    return (\n      <div>\n        <SimpleModal\n          open={deleteModalOpen}\n          onClose={() => this.toggleModal(\"deleteModalOpen\", false)}\n          onAccept={() => this.deleteRecord(modalKey)}\n          aria-labelledby=\"simple-modal-title\"\n          aria-describedby=\"simple-modal-description\"\n        />\n        <SimpleModal\n          open={publishModalOpen}\n          onClose={() => this.toggleModal(\"publishModalOpen\", false)}\n          onAccept={() => this.submitRecord(modalKey)}\n          aria-labelledby=\"simple-modal-title\"\n          aria-describedby=\"simple-modal-description\"\n        />\n\n        <Typography variant=\"h5\">\n          <En>Saved Records</En>\n          <Fr>Enregistrements enregistrés</Fr>\n        </Typography>\n\n        {loading ? (\n          <CircularProgress />\n        ) : (\n          <span>\n            <div>\n              <Typography>\n                <En>\n                  These are the records you have submitted. To submit a record\n                  for review, click the \"Submit for review\" button. The record\n                  won't be published until the reviewer approves it. You cannot\n                  submit a record until all the required fields are filled out.\n                </En>\n                <Fr>\n                  Ce sont les documents que vous avez soumis. Pour soumettre un\n                  enregistrement pour examen, cliquez sur le bouton « Soumettre\n                  pour révision ». L'enregistrement ne sera pas publié tant que\n                  le réviseur ne l'aura pas approuvé. Vous ne pouvez pas\n                  soumettre un enregistrement tant que tous les champs requis ne\n                  sont pas remplis.\n                </Fr>\n              </Typography>\n\n              <div style={{ marginTop: \"10px\" }}>\n                <Button\n                  startIcon={<Add />}\n                  onClick={() => history.push(`/${language}/${region}/new`)}\n                >\n                  <I18n en=\"New Record\" fr=\"Nouveau Record\" />\n                </Button>\n              </div>\n\n              <List>\n                {Object.entries(records || {})\n                  .sort(recordDateSort)\n                  .map(([key, recordFireBase]) => {\n                    const record = firebaseToJSObject(recordFireBase);\n                    const { status, title, created } = record;\n                    // const createdLocalTime = created\n                    //   ? new Date(created).toString()\n                    //   : null;\n\n                    if (!title || (!title.en && !title.fr)) return null;\n\n                    const disabled =\n                      status === \"submitted\" || status === \"published\";\n                    const percentValidInt = Math.round(\n                      percentValid(record) * 100\n                    );\n                    const recordIsComplete = percentValidInt === 100;\n                    let submitTooltip = {\n                      en: \"Submit for review\",\n                      fr: \"Soumettre pour examen\",\n                    };\n\n                    if (!recordIsComplete)\n                      submitTooltip = {\n                        en: \"Can't submit incomplete record\",\n                        fr:\n                          \"Impossible de soumettre un enregistrement incomplet\",\n                      };\n                    else if (status === \"submitted\" || status === \"published\")\n                      submitTooltip = {\n                        en: \"Record has been submitted\",\n                        fr: \"L'enregistrement a été soumis\",\n                      };\n\n                    let chipText = \"\";\n\n                    const statusColors = {\n                      submitted: \"primary\",\n                      published: \"secondary\",\n                    };\n\n                    if (status) {\n                      if (status === \"submitted\")\n                        chipText = <I18n en=\"Submitted\" fr=\"Soumis\" />;\n                      else if (status === \"published\")\n                        chipText = <I18n en=\"Published\" fr=\"Publié\" />;\n                    } else if (recordIsComplete) {\n                      // chipText = \"Draft, Complete\";\n                      chipText = <I18n en=\"Draft\" fr=\"Brouillon\" />;\n                      // } else chipText = \"Draft, Incomplete\";\n                    } else chipText = <I18n en=\"Draft\" fr=\"Brouillon\" />;\n\n                    return (\n                      <ListItem\n                        key={key}\n                        button\n                        onClick={() => this.editRecord(key)}\n                      >\n                        <ListItemAvatar>\n                          <Avatar>\n                            <Description />\n                          </Avatar>\n                        </ListItemAvatar>\n                        <ListItemText\n                          primary={\n                            <div style={{ width: \"80%\" }}>\n                              {title[language]}\n                              {\"  \"}\n                              {chipText && (\n                                <Chip\n                                  label={chipText}\n                                  color={statusColors[status] || \"default\"}\n                                  variant=\"outlined\"\n                                />\n                              )}\n                            </div>\n                          }\n                          secondary={\n                            created && (\n                              <span>\n                                <En>\n                                  Last edited{\" \"}\n                                  {timeAgo.format(new Date(created))}\n                                  {\".  \"}\n                                  {percentValidInt}% complete\n                                </En>\n                                <Fr>\n                                  Dernière édition{\" \"}\n                                  {timeAgo.format(new Date(created))}\n                                  {\".  \"}\n                                  {percentValidInt}% Achevée\n                                </Fr>\n                              </span>\n                            )\n                          }\n                        />\n                        <ListItemSecondaryAction>\n                          <Tooltip title={<I18n en=\"Clone\" fr=\"Clone\" />}>\n                            <span>\n                              <IconButton\n                                onClick={() => this.cloneRecord(key)}\n                                edge=\"end\"\n                                aria-label=\"clone\"\n                              >\n                                <FileCopy />\n                              </IconButton>\n                            </span>\n                          </Tooltip>\n                          {disabled ? (\n                            <Tooltip title={<I18n en=\"View\" fr=\"Vue\" />}>\n                              <span>\n                                <IconButton\n                                  onClick={() => this.editRecord(key)}\n                                  edge=\"end\"\n                                  aria-label=\"delete\"\n                                >\n                                  <Visibility />\n                                </IconButton>\n                              </span>\n                            </Tooltip>\n                          ) : (\n                            <Tooltip title={<I18n en=\"Edit\" fr=\"Éditer\" />}>\n                              <span>\n                                <IconButton\n                                  onClick={() => this.editRecord(key)}\n                                  edge=\"end\"\n                                  aria-label=\"delete\"\n                                >\n                                  <Edit />\n                                </IconButton>\n                              </span>\n                            </Tooltip>\n                          )}\n                          <Tooltip title={<I18n en=\"Delete\" fr=\"Supprimer\" />}>\n                            <span>\n                              <IconButton\n                                disabled={disabled}\n                                onClick={() =>\n                                  this.toggleModal(\"deleteModalOpen\", true, key)\n                                }\n                                edge=\"end\"\n                                aria-label=\"delete\"\n                              >\n                                <Delete />\n                              </IconButton>\n                            </span>\n                          </Tooltip>\n                          <Tooltip\n                            title={\n                              <I18n\n                                en={submitTooltip.en}\n                                fr={submitTooltip.fr}\n                              />\n                            }\n                          >\n                            <span>\n                              <IconButton\n                                disabled={disabled || !recordIsComplete}\n                                onClick={() =>\n                                  this.toggleModal(\n                                    \"publishModalOpen\",\n                                    true,\n                                    key\n                                  )\n                                }\n                                edge=\"end\"\n                                aria-label=\"delete\"\n                              >\n                                <Publish />\n                              </IconButton>\n                            </span>\n                          </Tooltip>\n                        </ListItemSecondaryAction>\n                      </ListItem>\n                    );\n                  })}\n              </List>\n            </div>\n\n            {!records && (\n              <Typography>\n                <En>You don't have any saved records.</En>\n                <Fr>Vous n'avez pas d'enregistrements enregistrés.</Fr>\n              </Typography>\n            )}\n          </span>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Submissions;\n","import React from \"react\";\nimport {\n  Typography,\n  IconButton,\n  Button,\n  List,\n  ListItem,\n  ListItemText,\n  Avatar,\n  Grid,\n  ListItemSecondaryAction,\n  ListItemAvatar,\n  CircularProgress,\n  Tooltip,\n} from \"@material-ui/core\";\nimport { Add, Edit, Delete, PermContactCalendar } from \"@material-ui/icons\";\nimport firebase from \"../firebase\";\nimport { auth } from \"../auth\";\n\nimport { I18n, En, Fr } from \"./I18n\";\nimport SimpleModal from \"./SimpleModal\";\n\nfunction getTitle(value) {\n  const { orgName, indName } = value;\n  const titleParts = [orgName, indName];\n  return titleParts\n    .map((e) => e.trim())\n    .filter((e) => e)\n    .join(\"/\");\n}\n\nclass Contacts extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      contacts: {},\n      modalOpen: false,\n      modalKey: \"\",\n      loading: false,\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({ loading: true });\n\n    const { match } = this.props;\n    const { region } = match.params;\n\n    this.unsubscribe = auth.onAuthStateChanged((user) => {\n      if (user) {\n        firebase\n          .database()\n          .ref(region)\n          .child(\"users\")\n          .child(user.uid)\n          .child(\"contacts\")\n          .on(\"value\", (records) =>\n            this.setState({ contacts: records.toJSON(), loading: false })\n          );\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.unsubscribe) this.unsubscribe();\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  deleteRecord(key) {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    if (auth.currentUser) {\n      firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(auth.currentUser.uid)\n        .child(\"contacts\")\n        .child(key)\n        .remove();\n    }\n  }\n\n  addItem() {\n    const { history, match } = this.props;\n    const { language, region } = match.params;\n    // render different page with 'save' button?\n    history.push(`/${language}/${region}/contacts/new`);\n  }\n\n  editRecord(key) {\n    const { history, match } = this.props;\n    const { language, region } = match.params;\n\n    // render different page with 'save' button?\n    history.push(`/${language}/${region}/contacts/new/${key}`);\n  }\n\n  toggleModal(state, key = \"\") {\n    this.setState({ modalKey: key, modalOpen: state });\n  }\n\n  render() {\n    const { modalOpen, modalKey, loading, contacts } = this.state;\n    return (\n      <Grid container direction=\"column\" spacing={3}>\n        <Grid item xs>\n          <SimpleModal\n            open={modalOpen}\n            onClose={() => this.toggleModal(false)}\n            onAccept={() => this.deleteRecord(modalKey)}\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\"\n          />\n\n          <Typography variant=\"h5\">\n            <En>Contacts</En>\n            <Fr>Contacts</Fr>\n          </Typography>\n        </Grid>\n        <Grid item xs>\n          <Typography>\n            <En>\n              Create contacts here that you can reuse in multiple metadata\n              records.\n            </En>\n            <Fr>\n              Créez ici des contacts que vous pouvez réutiliser dans plusieurs\n              enregistrements de métadonnées\n            </Fr>\n          </Typography>\n        </Grid>\n\n        {loading ? (\n          <CircularProgress />\n        ) : (\n          <>\n            <Grid item xs>\n              {contacts && Object.keys(contacts).length ? (\n                <div>\n                  <Typography>\n                    <En>These are your contacts</En>\n                    <Fr>Ce sont vos contacts</Fr>\n                  </Typography>\n                  <List>\n                    {Object.entries(contacts).map(([key, val]) => (\n                      <ListItem key={key}>\n                        <ListItemAvatar>\n                          <Avatar>\n                            <PermContactCalendar />\n                          </Avatar>\n                        </ListItemAvatar>\n\n                        <ListItemText primary={getTitle(val)} />\n                        <ListItemSecondaryAction>\n                          <Tooltip title={<I18n en=\"Edit\" fr=\"Éditer\" />}>\n                            <span>\n                              <IconButton onClick={() => this.editRecord(key)}>\n                                <Edit />\n                              </IconButton>\n                            </span>\n                          </Tooltip>\n                          <Tooltip title={<I18n en=\"Delete\" fr=\"Supprimer\" />}>\n                            <span>\n                              <IconButton\n                                onClick={() => this.toggleModal(true, key)}\n                              >\n                                <Delete />\n                              </IconButton>\n                            </span>\n                          </Tooltip>\n                        </ListItemSecondaryAction>\n                      </ListItem>\n                    ))}\n                  </List>\n                </div>\n              ) : (\n                <Typography>\n                  <En>No contacts submitted yet</En>\n                  <Fr>Aucun contacts n'a encore été soumis</Fr>\n                </Typography>\n              )}\n            </Grid>\n            <Grid item xs>\n              <Button startIcon={<Add />} onClick={() => this.addItem()}>\n                Add contact\n              </Button>\n            </Grid>\n          </>\n        )}\n      </Grid>\n    );\n  }\n}\nexport default Contacts;\n","import React from \"react\";\n\nfunction RequiredMark({ passes }) {\n  if (passes)\n    return (\n      <span\n        style={{\n          color: \"green\",\n          fontSize: \"x-large\",\n          position: \"relative\",\n          bottom: \"-4px\",\n        }}\n      >\n        {\" \"}\n        ✓{\" \"}\n      </span>\n    );\n  return (\n    <span\n      style={{\n        color: \"red\",\n        fontSize: \"large\",\n      }}\n    >\n      {\" \"}\n      ✵{\" \"}\n    </span>\n  );\n}\nexport default RequiredMark;\n","import React from \"react\";\nimport { Typography } from \"@material-ui/core\";\n\nexport const SupplementalText = ({ children }) => (\n  <Typography variant=\"body2\" component=\"div\">\n    {children}\n  </Typography>\n);\nexport const QuestionText = ({ children }) => (\n  <Typography variant=\"body1\" component=\"div\" style={{ marginBottom: \"10px\" }}>\n    {children}\n  </Typography>\n);\nexport const paperClass = {\n  padding: \"10px\",\n  margin: \"20px\",\n  width: \"90%\",\n};\n","import React from \"react\";\n\nimport { Save } from \"@material-ui/icons\";\nimport { Typography, Paper, Grid } from \"@material-ui/core\";\n\nimport { En, Fr } from \"../I18n\";\n\nimport RequiredMark from \"./RequiredMark\";\nimport { paperClass } from \"./QuestionStyles\";\n\nconst StartTab = ({ disabled }) => {\n  return (\n    <Grid item xs>\n      <Paper style={paperClass}>\n        {disabled && (\n          <Typography>\n            <En>\n              <b>This form is locked because it has already been submitted.</b>\n            </En>\n            <Fr>\n              <b>Ce formulaire est verrouillé car il a déjà été soumis.</b>\n            </Fr>\n          </Typography>\n        )}\n        <Typography variant=\"body1\">\n          <En>\n            Welcome to the CIOOS metadata profile generation form. Please fill\n            out each field with as much detail as you can. This information will\n            be used to create a metadata profile for your dataset.\n          </En>\n          <Fr>\n            Bienvenue sur le formulaire de génération de profils de métadonnées\n            CIOOS ! Veuillez remplir sur chaque champ avec autant de détails que\n            vous pouvez. Utilisation de cette informations que nous allons créer\n            votre profil de métadonnées pour le jeu de données.\n          </Fr>\n        </Typography>\n\n        <En>\n          <ul>\n            <li>You can save the form once you have filled out a title.</li>\n            <li>\n              All questions marked with a <RequiredMark /> are mandatory.\n            </li>\n            <li>\n              The form can be completed over time. If you need to stop, click\n              the <Save /> icon in the bottom right corner. This icon will be\n              greyed out until you have filled in the dataset title in the\n              \"Identification\" section.\n            </li>\n            <li>\n              Some fields can have text in both French and English, though this\n              is only required for title and abstract. There is a 'Translate'\n              button that will automatically generate text in the other\n              language. This translation is more accurate when there is more\n              text to translate.\n            </li>\n          </ul>\n        </En>\n        <Fr>\n          Commencez par cliquer sur « Nouveau » Enregistrer » sur la barre\n          latérale. Vous pouvez également enregistrer les contacts que vous\n          utiliserez souvent dans la section « Contacts ».\n        </Fr>\n      </Paper>\n    </Grid>\n  );\n};\n\nexport default StartTab;\n","export const eovList = [\n  \"dissolvedOrganicCarbon\",\n  \"inorganicCarbon\",\n  \"nitrate\",\n  \"nutrients\",\n  \"oxygen\",\n  \"phosphate\",\n  \"potentialDensity\",\n  \"potentialTemperature\",\n  \"pressure\",\n  \"seaIce\",\n  \"seaState\",\n  \"seaSurfaceHeight\",\n  \"seaSurfaceSalinity\",\n  \"seaSurfaceTemperature\",\n  \"seawaterDensity\",\n  \"silicate\",\n  \"speedOfSound\",\n  \"subSurfaceCurrents\",\n  \"subSurfaceSalinity\",\n  \"subSurfaceTemperature\",\n  \"surfaceCurrents\",\n  \"other\",\n];\nexport const roleCodes = [\n  \"custodian\",\n  \"owner\",\n  \"author\",\n  \"coAuthor\",\n  \"collaborator\",\n  \"contributor\",\n  \"distributor\",\n  \"editor\",\n  \"funder\",\n  \"mediator\",\n  \"originator\",\n  \"pointOfContact\",\n  \"principalInvestigator\",\n  \"processor\",\n  \"publisher\",\n  \"resourceProvider\",\n  \"rightsHolder\",\n  \"sponsor\",\n  \"stakeholder\",\n  \"user\",\n];\n\nexport const progressCodes = [\n  \"accepted\",\n  \"completed\",\n  \"deprecated\",\n  \"final\",\n  \"historicalArchive\",\n  \"notAccepted\",\n  \"obsolete\",\n  \"onGoing\",\n  \"pending\",\n  \"planned\",\n  \"proposed\",\n  \"required\",\n  \"retired\",\n  \"superseded\",\n  \"tentative\",\n  \"underDevelopment\",\n  \"valid\",\n  \"withdrawn\",\n];\n\nexport const depthDirections = [\"depthPositive\", \"heightPositive\"];\n","const dictionary = {\n  oxygen: \"Oxygène\",\n  nutrients: \"Nutriments\",\n  nitrate: \"Nitrate\",\n  phosphate: \"Phosphate\",\n  silicate: \"Silicate\",\n  inorganicCarbon: \"Carbone inoganique\",\n  dissolvedOrganicCarbon: \"carbone inorganique dissous\",\n  seaSurfaceHeight: \"Hauteur de la surface de la mer\",\n  seawaterDensity: \"Densité d'eau de mer\",\n  potentialTemperature: \"Température potentielle\",\n  potentialDensity: \"Densité potentielle\",\n  speedOfSound: \"Vitesse du son\",\n  seaIce: \"Glace de mer\",\n  seaState: \"État de la mer\",\n  seaSurfaceSalinity: \"Salinité de surface\",\n  seaSurfaceTemperature: \"Température de surface\",\n  subSurfaceCurrents: \"Courants sous-marins\",\n  subSurfaceSalinity: \"Salinité sous la surface\",\n  subSurfaceTemperature: \"Température sous la surface\",\n  surfaceCurrents: \"Courants de surface\",\n  pressure: \"Pression\",\n  other: \"Autre\",\n  resourceProvider: \"Fournisseur de données\",\n  custodian: \"Dépositaire\",\n  owner: \"Propriétaire\",\n  user: \"Utilisateur\",\n  distributor: \"Distributeur\",\n  originator: \"Initiateur\",\n  pointOfContact: \"Point de contact\",\n  principalInvestigator: \"Responsable de recherche\",\n  processor: \"Transformateur\",\n  publisher: \"Editeur\",\n  author: \"Auteur\",\n  sponsor: \"Sponsor\",\n  coAuthor: \"Co-auteur\",\n  collaborator: \"Collaborateur\",\n  editor: \"Éditeur\",\n  mediator: \"Médiateur\",\n  rightsHolder: \"Ayant droit\",\n  contributor: \"Contributeur\",\n  funder: \"Fondateur\",\n  stakeholder: \"Actionnaire\",\n  deprecated: \"Obsolète\",\n  proposed: \"Proposé\",\n  withdrawn: \"Retiré\",\n  notAccepted: \"Non accepté\",\n  accepted: \"Accepté\",\n  valid: \"Valide\",\n  tentative: \"Tentative\",\n  superseded: \"Remplacé\",\n  retired: \"retiré\",\n  pending: \"En attente\",\n  final: \"final\",\n  underDevelopment: \"En développement\",\n  required: \"Requis\",\n  planned: \"Planifié\",\n  onGoing: \"En cours\",\n  obsolete: \"Obsolète\",\n  historicalArchive: \"Archive historique\",\n  completed: \"Terminé\",\n  farming: \"Agriculture\",\n  biota: \"Biote\",\n  boundaries: \"Délimitations\",\n  climatologyMeteorologyAtmosphere: \"Climatologie / Météorology / Atmosphère\",\n  economy: \"Économie\",\n  elevation: \"Élévation\",\n  environment: \"Environement\",\n  geoscientificInformation: \"Information Géoscientifique\",\n  health: \"Santé\",\n  imageryBaseMapsEarthCover: \"Imagerie Couverture terrestre\",\n  intelligenceMilitary: \"Renseignements / Militaire\",\n  inlandWaters: \"Eaux intérieures\",\n  location: \"Emplacement\",\n  oceans: \"Océans\",\n  planningCadastre: \"Aménagement du territoire\",\n  society: \"Société\",\n  structure: \"Structure\",\n  transportation: \"Transports\",\n  utilitiesCommunication: \"Services / Communication\",\n  extraTerrestrial: \"Extra terrestre\",\n  disaster: \"Désastre\",\n  \"abundance and biomass\": \"abondance et biomasse\",\n  \"sea access\": \"accès à la mer\",\n  \"decision making\": \"aide à la décision\",\n  \"protected areas\": \"aires protégées\",\n  \"maritime ressources\": \"ressources maritime\",\n  \"knowledge improvement\": \"amélioration des connaissances\",\n  \"land-use planning\": \"aménagement du territoire\",\n  \"water purification\": \"assainissement des eaux\",\n  \"striped bass\": \"bar rayé\",\n  watershed: \"bassin versant\",\n  \"habitat characterization\": \"caractérisation des habitats\",\n  \"coastal characterization\": \"caractérisation des rives\",\n  \"climate change\": \"changement climatique\",\n  \"chlorophyll a\": \"chlorophylle a\",\n  \"resource conservation\": \"conservation des ressources\",\n  \"water consumption\": \"consommation d'eau\",\n  \"sea currents\": \"courant marin\",\n  crustacean: \"crustacé\",\n  \"fresh water flow\": \"débits eau douce\",\n  \"water density\": \"densité eau\",\n  \"sustainable development\": \"développement durable\",\n  \"ocean-atmosphere exchange\": \"échange océan-atmosphère\",\n  sampling: \"échantillonnage\",\n  crayfish: \"écrevisses\",\n  mariculture: \"entreprises de maricultures\",\n  \"coastal erosion\": \"érosion des côtes\",\n  \"endangered species\": \"espèces en péril\",\n  \"invasive species\": \"espèces envahissante\",\n  \"coastal flora\": \"flore côtière\",\n  fluorescence: \"fluorescence\",\n  spawning: \"fraie\",\n  \"community management\": \"gestion communautaire\",\n  \"resource management\": \"gestion des ressources\",\n  \"integrated management\": \"gestion intégrée\",\n  \"sea ice\": \"glace de mer\",\n  \"sensitive habitat\": \"habitat sensible\",\n  \"important habitat\": \"habitats important\",\n  hydrocarbon: \"hydrocarbure\",\n  incidents: \"incidents\",\n  \"general information\": \"informations générales\",\n  \"wildlife inventory\": \"inventaire faunique\",\n  \"fish inventory\": \"inventaire poisson\",\n  macroalgae: \"macroalgue\",\n  \"benthic macrofauna\": \"macrofaune benthique\",\n  \"marine mammal\": \"mammifères marins\",\n  marsh: \"marais\",\n  meteorology: \"météorologie\",\n  wetlands: \"milieux humides\",\n  \"natural environments of interest\": \"milieux naturels d'intérêt\",\n  enhancement: \"mise en valeur\",\n  \"oceanographic missions\": \"missions océanographique\",\n  mollusc: \"mollusque\",\n  \"sea level\": \"niveau eau\",\n  seabirds: \"oiseaux marins\",\n  \"migrator birds\": \"oiseaux migrateurs\",\n  \"commercial fisheries\": \"pêches commerciales\",\n  \"experimental fisheries\": \"pêches expérimentales\",\n  \"physical-chemical\": \"physico-chimie\",\n  phytoplankton: \"phytoplancton\",\n  \"sea grass\": \"plantes aquatique\",\n  fish: \"poisson\",\n  \"coastal pollution\": \"pollution côtière\",\n  \"atmospheric pressure\": \"pression atmosphérique\",\n  \"coast protection\": \"protection des côtes\",\n  \"habitat protection\": \"protection des habitats\",\n  \"water quality\": \"qualité eau\",\n  radiation: \"radiation\",\n  \"maritime resources\": \"ressources maritimes\",\n  \"ecological rehabilitation\": \"réhabilitation écologique\",\n  \"shore restoration\": \"restauration des rives\",\n  \"experimental restoration\": \"restauration expérimentale\",\n  \"habitat restoration\": \"restauration habitat\",\n  \"coastal risks\": \"risques côtiers\",\n  \"citizen data\": \"saisie citoyenne\",\n  salinity: \"salinité\",\n  sediment: \"sédiment\",\n  \"fishing sites\": \"sites de pêches\",\n  \"annual follow-up\": \"suivi annuel\",\n  \"species tracking\": \"suivi des espèces\",\n  \"habitat tracking\": \"suivi habitat\",\n  taxonomy: \"taxonomie\",\n  \"remote sensing\": \"télédétection\",\n  \"water temperature\": \"température de l'eau\",\n  \"sea turtles\": \"tortue de mer\",\n  \"land-use\": \"utilisation du territoire\",\n  sustainabilty: \"utilisation durable\",\n  waves: \"vagues\",\n  wind: \"vents\",\n  \"coastal zone\": \"zone côtière\",\n  depthPositive: \"Profondeur positive\",\n  heigthPositive: \"Hauteur positive\",\n};\n\nexport default dictionary;\n","import enToFr from \"./i18nDictionaryFr\";\n\nconst translate = (key, locale = \"en\") => {\n  if (locale === \"en\") return key;\n\n  return enToFr[key] || null;\n};\n\nexport default translate;\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport {\n  TextField,\n  Typography,\n  Grid,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Checkbox,\n  ListItemText,\n  Input,\n} from \"@material-ui/core\";\nimport RequiredMark from \"./RequiredMark\";\nimport { I18n, En, Fr } from \"../I18n\";\nimport { roleCodes } from \"../../isoCodeLists\";\nimport { camelToSentenceCase } from \"../../utils/misc\";\nimport translate from \"../../utils/i18n\";\nimport { QuestionText, SupplementalText } from \"./QuestionStyles\";\n\nconst Contact = ({ onChange, value, showRolePicker, disabled }) => {\n  const { language } = useParams();\n  const options = roleCodes;\n  const optionLabels = roleCodes.map((e) => {\n    if (e === \"custodian\") return \"Metadata Contact\";\n    if (e === \"owner\") return \"Data Contact\";\n    return camelToSentenceCase(translate(e, language));\n  });\n\n  return (\n    <Grid container direction=\"column\" spacing={2}>\n      <Grid item xs>\n        {showRolePicker && (\n          <Grid item xs>\n            <QuestionText>\n              <En>What is the role of this contact?</En>\n              <Fr>Quel est leur rôle?</Fr>.\n              <SupplementalText>\n                <En>\n                  At least one Metadata Contact and one Data Contact are\n                  required. Multiple roles may be selected for each contact. A\n                  list of roles with descriptions can be found{\" \"}\n                </En>\n                <Fr>\n                  Au moins un contact de métadonnées et un contact de données\n                  sont requis. Une liste de rôles avec des descriptions peut\n                  être trouvée{\" \"}\n                </Fr>\n                <a\n                  href=\"http://registry.it.csiro.au/def/isotc211/CI_RoleCode\"\n                  // eslint-disable-next-line react/jsx-no-target-blank\n                  target=\"_blank\"\n                >\n                  <En>here</En>\n                  <Fr>ici</Fr>\n                </a>\n              </SupplementalText>\n            </QuestionText>\n            <FormControl disabled={disabled} style={{ minWidth: 120 }}>\n              <InputLabel\n                id=\"demo-simple-select-label\"\n                style={{ marginLeft: \"10px\" }}\n              >\n                <I18n en=\"Choose\" fr=\"Choisir\" />\n              </InputLabel>\n              <Select\n                multiple\n                inputProps={{ variant: \"outlined\" }}\n                name=\"role\"\n                input={<Input />}\n                fullWidth\n                value={value.role || []}\n                renderValue={(selected) =>\n                  selected\n                    .map(\n                      (valueCode) => optionLabels[options.indexOf(valueCode)]\n                    )\n                    .join(\", \")\n                }\n                onChange={onChange}\n              >\n                {options.map((v, i) => (\n                  <MenuItem key={v} value={v}>\n                    <Checkbox checked={value.role && value.role.includes(v)} />\n                    <ListItemText\n                      primary={\n                        <span style={i < 2 ? { fontWeight: \"bold\" } : {}}>\n                          {optionLabels[i]}\n                          {i < 2 && <RequiredMark />}\n                        </span>\n                      }\n                    />\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          </Grid>\n        )}\n\n        <Grid\n          container\n          direction=\"column\"\n          spacing={1}\n          style={{ marginTop: \"10px\" }}\n        >\n          {/* Organization */}\n          <Grid item xs>\n            <QuestionText>\n              <En>Provide any information about the organization</En>\n              <Fr>Fournir toute information sur l'organisation ;</Fr>\n            </QuestionText>\n          </Grid>\n          <Grid item xs style={{ marginleft: \"10px\" }}>\n            <TextField\n              label={<I18n en=\"Organization name\" fr=\"Nom de l'organisation\" />}\n              name=\"orgName\"\n              value={value.orgName}\n              onChange={onChange}\n              onBlur={onChange}\n              disabled={disabled}\n              fullWidth\n            />\n          </Grid>\n          <Grid item xs>\n            <TextField\n              label={<I18n en=\"URL\" fr=\"URL\" />}\n              name=\"orgURL\"\n              value={value.orgURL}\n              onChange={onChange}\n              disabled={disabled}\n              fullWidth\n            />\n          </Grid>\n          <Grid item xs>\n            <TextField\n              label={<I18n en=\"Address\" fr=\"Adresse\" />}\n              name=\"orgAdress\"\n              value={value.orgAdress}\n              onChange={onChange}\n              disabled={disabled}\n              fullWidth\n            />\n          </Grid>\n          <Grid item xs>\n            <TextField\n              label={<I18n en=\"City\" fr=\"Ville\" />}\n              name=\"orgCity\"\n              value={value.orgCity}\n              onChange={onChange}\n              disabled={disabled}\n              fullWidth\n            />\n          </Grid>\n          <Grid item xs>\n            <TextField\n              label={<I18n en=\"Country\" fr=\"Pays\" />}\n              name=\"orgCountry\"\n              value={value.orgCountry}\n              onChange={onChange}\n              disabled={disabled}\n              fullWidth\n            />\n          </Grid>\n          <Grid item xs>\n            <TextField\n              label={<I18n en=\"Email\" fr=\"Email\" />}\n              name=\"orgEmail\"\n              value={value.orgEmail}\n              onChange={onChange}\n              fullWidth\n              disabled={disabled}\n            />{\" \"}\n          </Grid>\n        </Grid>\n      </Grid>\n\n      <Grid item xs>\n        {/* Individual */}\n        <Typography>\n          <En>Provide any information about the individual</En>\n          <Fr>Fournir toute information sur l'individual</Fr>\n        </Typography>\n        <TextField\n          label={<I18n en=\"Individual Name\" fr=\"Nom de l'individu\" />}\n          name=\"indName\"\n          value={value.indName}\n          onChange={onChange}\n          disabled={disabled}\n          fullWidth\n        />\n\n        <TextField\n          label={<I18n en=\"Position\" fr=\"Position\" />}\n          name=\"indPosition\"\n          value={value.indPosition}\n          onChange={onChange}\n          disabled={disabled}\n          fullWidth\n        />\n        <TextField\n          label={<I18n en=\"Email\" fr=\"Email\" />}\n          name=\"indEmail\"\n          value={value.indEmail}\n          onChange={onChange}\n          disabled={disabled}\n          fullWidth\n        />\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Contact;\n","import React from \"react\";\nimport { Select, MenuItem, FormControl, InputLabel } from \"@material-ui/core\";\nimport { I18n } from \"../I18n\";\n\nconst SelectInput = ({\n  value,\n  name,\n  options,\n  optionLabels,\n  onChange,\n  disabled,\n  showDefaultLabel = true,\n}) => {\n  return (\n    <FormControl disabled={disabled} style={{ minWidth: 120 }}>\n      {showDefaultLabel && (\n        <InputLabel\n          id=\"demo-simple-select-label\"\n          style={{ marginLeft: \"10px\" }}\n        >\n          <I18n en=\"Choose\" fr=\"Choisir\" />\n        </InputLabel>\n      )}\n      <Select name={name} fullWidth value={value} onChange={onChange}>\n        {options.map((v, i) => (\n          <MenuItem key={v} value={v}>\n            {optionLabels[i]}\n          </MenuItem>\n        ))}\n      </Select>\n    </FormControl>\n  );\n};\nexport default SelectInput;\n","import React from \"react\";\n\nimport {\n  Paper,\n  Button,\n  Grid,\n  FormControl,\n  InputLabel,\n  // CircularProgress,\n} from \"@material-ui/core\";\n\nimport { Add, Delete } from \"@material-ui/icons\";\n// import { useParams } from \"react-router-dom\";\nimport { deepCopy } from \"../../utils/misc\";\nimport Contact from \"./Contact\";\n// import firebase from \"../../firebase\";\n// import { auth } from \"../../auth\";\n\nimport SelectInput from \"./SelectInput\";\nimport { QuestionText, SupplementalText, paperClass } from \"./QuestionStyles\";\n\nimport { En, Fr, I18n } from \"../I18n\";\nimport RequiredMark from \"./RequiredMark\";\nimport { validateField } from \"../validate\";\n\nconst ContactTab = ({ disabled, record, handleInputChange, userContacts }) => {\n  const name = \"contacts\";\n\n  const value = record.contacts || [];\n\n  // const { region } = useParams();\n  // const [isSavingContact, setisSavingContact] = useState(false);\n  const initial = {\n    role: [],\n    orgName: \"\",\n    orgEmail: \"\",\n    orgURL: \"\",\n    orgAdress: \"\",\n    orgCity: \"\",\n    orgCountry: \"\",\n    indName: \"\",\n    indPosition: \"\",\n    indEmail: \"\",\n  };\n  const contactList = Object.values(userContacts || {});\n\n  function handleAddContact(index) {\n    handleInputChange({\n      target: {\n        name: \"contacts\",\n        value: value.concat(contactList[index]),\n      },\n    });\n  }\n  // async function saveContact(idx) {\n  //   if (value[idx]) {\n  //     setisSavingContact(true);\n\n  //     await firebase\n  //       .database()\n  //       .ref(region)\n  //       .child(\"users\")\n  //       .child(auth.currentUser.uid)\n  //       .child(\"contacts\")\n  //       .push(value[idx]);\n\n  //     setisSavingContact(false);\n  //   }\n  // }\n\n  function addItem() {\n    const changes = {\n      target: {\n        name,\n        value: value.concat(deepCopy(initial)),\n      },\n    };\n\n    handleInputChange(changes);\n  }\n  function handleChange(i) {\n    return (e) => {\n      const newValue = [...value];\n      const propName = e.target.name;\n      newValue[i][propName] = e.target.value;\n      const parentEvent = { target: { name, value: newValue } };\n      handleInputChange(parentEvent);\n    };\n  }\n  function removeItem(i) {\n    handleInputChange({\n      target: { name, value: value.filter((e, index) => index !== i) },\n    });\n  }\n\n  return (\n    <Grid container spacing={3}>\n      <Paper style={paperClass}>\n        <Grid item xs>\n          <QuestionText>\n            <En>\n              Please enter at least one <b>Metadata Contact</b> and one{\" \"}\n              <b>Data Contact</b> for this dataset.\n            </En>\n            <Fr>\n              Veuillez saisir au moins un contact lié à cet ensemble de données.\n              Vous pouvez créer un nouveau contact ici.\n            </Fr>\n            <RequiredMark passes={validateField(record, \"contacts\")} />\n            <SupplementalText>\n              <En>\n                If you have any saved contacts you can select them from the\n                list.\n              </En>\n              <Fr>\n                Si vous avez des contacts enregistrés, vous pouvez les\n                sélectionner dans la liste.\n              </Fr>\n            </SupplementalText>\n          </QuestionText>\n        </Grid>\n      </Paper>\n      <Grid container direction=\"column\">\n        {value.map((contact, i) => {\n          return (\n            <Paper key={i} style={paperClass}>\n              <Grid container direction=\"column\" spacing={3}>\n                <Grid item xs>\n                  <Contact\n                    showRolePicker\n                    name={`contact_${i}`}\n                    value={contact}\n                    onChange={handleChange(i)}\n                    disabled={disabled}\n                  />\n                </Grid>\n                <Grid item xs>\n                  <Grid container direction=\"row\" spacing={3}>\n                    <Grid item xs>\n                      <Button\n                        startIcon={<Delete />}\n                        disabled={disabled}\n                        onClick={() => removeItem(i)}\n                      >\n                        <En>Remove contact</En>\n                        <Fr>Supprimer contact</Fr>\n                      </Button>\n                    </Grid>\n                    {/* <Grid item xs>\n                      <Button\n                        startIcon={\n                          isSavingContact ? <CircularProgress /> : <Save />\n                        }\n                        disabled={\n                          disabled || (!contact.orgName && !contact.indName)\n                        }\n                        onClick={() => saveContact(i)}\n                      >\n                        <En>Save to stored contacts</En>\n                        <Fr>Supprimer contact</Fr>\n                      </Button>\n                    </Grid> */}\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Paper>\n          );\n        })}\n        <Paper style={paperClass}>\n          <Grid\n            container\n            direction=\"row\"\n            justify=\"flex-start\"\n            alignItems=\"center\"\n          >\n            <Grid item xs={3}>\n              <Button\n                disabled={disabled}\n                startIcon={<Add />}\n                onClick={addItem}\n                style={{ height: \"56px\" }}\n              >\n                <En>Add new contact</En>\n                <Fr>Ajouter un contact</Fr>\n              </Button>\n            </Grid>\n            <Grid item xs={3}>\n              <FormControl disabled={disabled} style={{ minWidth: \"220px\" }}>\n                <InputLabel id=\"add-existing\" style={{ marginLeft: \"10px\" }}>\n                  <I18n en=\"Add existing contact\" fr=\"Add existing contact\" />\n                </InputLabel>\n\n                <SelectInput\n                  value=\"\"\n                  labelId=\"add-existing\"\n                  onChange={(e) => {\n                    handleAddContact(e.target.value);\n                  }}\n                  optionLabels={contactList.map(\n                    (contact) => `${contact.indName} ${contact.orgName}`\n                  )}\n                  options={contactList.map((v, i) => i)}\n                  disabled={!contactList.length || disabled}\n                  showDefaultLabel={false}\n                />\n              </FormControl>\n            </Grid>\n          </Grid>\n        </Paper>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default ContactTab;\n","import React, { useContext, useState } from \"react\";\nimport {\n  Button,\n  InputAdornment,\n  TextField,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport TranslateIcon from \"@material-ui/icons/Translate\";\nimport ArrowDownwardIcon from \"@material-ui/icons/ArrowDownward\";\nimport { useParams } from \"react-router-dom\";\nimport { En, Fr } from \"../I18n\";\nimport { UserContext } from \"../../providers/UserProvider\";\n\nconst BilingualTextInput = ({\n  onChange,\n  value,\n  name,\n  multiline,\n  disabled,\n  error,\n  translationButonDisabled = false,\n}) => {\n  const { translate } = useContext(UserContext);\n  const [awaitingTranslation, setAwaitingTranslation] = useState(false);\n\n  function handleEvent(e) {\n    const newData = { ...value, [e.target.name]: e.target.value };\n    const newDataEvent = { target: { name, value: newData } };\n    onChange(newDataEvent);\n  }\n  const { language } = useParams();\n  let languages;\n\n  if (language === \"en\") languages = [\"en\", \"fr\"];\n  else languages = [\"fr\", \"en\"];\n  return (\n    <div>\n      {languages.map((lang, i) => (\n        <div key={lang}>\n          <TextField\n            name={lang}\n            fullWidth\n            value={value && value[lang]}\n            onChange={(e) => handleEvent(e)}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  {lang.toUpperCase()}\n                </InputAdornment>\n              ),\n            }}\n            multiline={multiline}\n            disabled={disabled}\n            error={error}\n          />\n          {i === 0 && !translationButonDisabled && (\n            <Button\n              style={{ margin: \"10px\" }}\n              startIcon={\n                awaitingTranslation ? (\n                  <CircularProgress size={20} />\n                ) : (\n                  <TranslateIcon />\n                )\n              }\n              endIcon={awaitingTranslation ? null : <ArrowDownwardIcon />}\n              disabled={\n                disabled || awaitingTranslation || !(value && value[lang])\n              }\n              onClick={() => {\n                const alternateLanguage = languages[1];\n                setAwaitingTranslation(true);\n\n                translate({ text: value[lang], fromLang: lang }).then(\n                  (translatedText) => {\n                    setAwaitingTranslation(false);\n                    const translation = translatedText.data;\n                    handleEvent({\n                      target: {\n                        name: alternateLanguage,\n                        value: translation,\n                      },\n                    });\n                  }\n                );\n              }}\n            >\n              <En>Translate</En>\n              <Fr>Traduire</Fr>\n            </Button>\n          )}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default BilingualTextInput;\n","import React from \"react\";\nimport { Add, Delete } from \"@material-ui/icons\";\nimport { Button, Grid, Paper, TextField } from \"@material-ui/core\";\nimport { En, Fr, I18n } from \"../I18n\";\n\nimport BilingualTextInput from \"./BilingualTextInput\";\nimport RequiredMark from \"./RequiredMark\";\nimport { deepCopy } from \"../../utils/misc\";\nimport { QuestionText, paperClass } from \"./QuestionStyles\";\n\nconst Distribution = ({ onChange, value, name, disabled }) => {\n  const initial = { url: \"\", name: \"\", description: { en: \"\", fr: \"\" } };\n\n  function addDistribution() {\n    onChange({\n      target: {\n        name,\n        value: value.concat(deepCopy(initial)),\n      },\n    });\n  }\n  function handleChange(e, i) {\n    const newValue = [...value];\n    const propName = e.target.name;\n    newValue[i][propName] = e.target.value;\n    const parentEvent = { target: { name, value: newValue } };\n    onChange(parentEvent);\n  }\n  // removes the distribution section from the list at index i\n  function removeDistribution(i) {\n    onChange({\n      target: { name, value: value.filter((e, index) => index !== i) },\n    });\n  }\n  const nameLabel = <I18n en=\"Name\" fr=\"Nom\" />;\n  const descriptionLabel = <I18n en=\"Description\" fr=\"Description\" />;\n\n  return (\n    <div>\n      {value.map((dist = deepCopy(initial), i) => {\n        const handler = (e) => handleChange(e, i);\n        return (\n          <Paper key={i} style={paperClass}>\n            <Grid container direction=\"column\" spacing={3}>\n              <Grid item xs>\n                <QuestionText>\n                  <En>Enter a name for the resource</En>\n                  <Fr>Entrez un nom pour la ressource</Fr>\n                  <RequiredMark passes={dist.name} />\n                </QuestionText>\n                <TextField\n                  label={nameLabel}\n                  name=\"name\"\n                  value={dist.name}\n                  onChange={handler}\n                  fullWidth\n                  disabled={disabled}\n                />\n              </Grid>\n              <Grid item xs>\n                <QuestionText>\n                  <En>Enter the URL for the resource</En>\n                  <Fr>Entrez l'URL de la ressource</Fr>\n                  <RequiredMark passes={dist.url} />\n                </QuestionText>\n\n                <TextField\n                  label=\"URL\"\n                  name=\"url\"\n                  value={dist.url}\n                  onChange={handler}\n                  fullWidth\n                  disabled={disabled}\n                />\n              </Grid>\n              <Grid item xs>\n                <QuestionText>\n                  <En>Enter a description of the resource</En>\n                  <Fr>Entrez une description de la ressource</Fr>\n                </QuestionText>{\" \"}\n                <BilingualTextInput\n                  name=\"description\"\n                  label={descriptionLabel}\n                  value={dist.description}\n                  onChange={handler}\n                  disabled={disabled}\n                />\n              </Grid>\n              <Grid item xs>\n                <Button\n                  startIcon={<Delete />}\n                  disabled={disabled}\n                  onClick={() => removeDistribution(i)}\n                >\n                  <En>Remove item</En>\n                  <Fr>Supprimer l'article</Fr>\n                </Button>\n              </Grid>\n            </Grid>\n          </Paper>\n        );\n      })}\n\n      <Paper style={paperClass}>\n        <Button\n          startIcon={<Add />}\n          disabled={disabled}\n          onClick={addDistribution}\n        >\n          <En>Add item</En>\n          <Fr>Ajouter un article</Fr>\n        </Button>\n      </Paper>\n    </div>\n  );\n};\n\nexport default Distribution;\n","import React from \"react\";\n\nimport { Paper } from \"@material-ui/core\";\n\nimport Distribution from \"./Distribution\";\nimport { En, Fr } from \"../I18n\";\n\nimport RequiredMark from \"./RequiredMark\";\nimport { paperClass, QuestionText, SupplementalText } from \"./QuestionStyles\";\nimport { validateField } from \"../validate\";\n\nconst DistributionTab = ({ disabled, record, handleInputChange }) => {\n  return (\n    <div>\n      <Paper style={paperClass}>\n        <QuestionText>\n          <En>Enter any URLs associated with this dataset.</En>\n          <Fr>Entrez les URL associées à ce jeux de données.</Fr>\n          <RequiredMark passes={validateField(record, \"distribution\")} />\n          <SupplementalText>\n            <En>\n              Eg ERDDAP datasets, supporting documentation in text or PDF\n              format, CSV dataset files. At least one resource is required.\n            </En>\n            <Fr>\n              Par exemple, des jeux de données ERDDAP ou des fichiers CSV. Au\n              moins une ressource est requise.\n            </Fr>\n          </SupplementalText>\n        </QuestionText>\n      </Paper>\n      <Distribution\n        name=\"distribution\"\n        paperClass={paperClass}\n        value={record.distribution || []}\n        onChange={handleInputChange}\n        disabled={disabled}\n      />\n    </div>\n  );\n};\n\nexport default DistributionTab;\n","import React from \"react\";\n\nimport { Checkbox, FormControlLabel, Grid } from \"@material-ui/core\";\n\nconst CheckBoxList = ({\n  onChange,\n  value,\n  name,\n  options,\n  optionLabels,\n  disabled,\n}) => {\n  function toggleArrayElement(ele, arr) {\n    if (arr.includes(ele)) return arr.filter((v) => v !== ele);\n    return arr.concat(ele);\n  }\n\n  return (\n    <Grid container direction=\"row\">\n      {options.map((v, i) => {\n        return (\n          <Grid item xs={3} key={v}>\n            <FormControlLabel\n              disabled={disabled}\n              control={\n                <Checkbox\n                  key={v}\n                  value={v || []}\n                  name={name}\n                  checked={value.includes(v)}\n                  onChange={(e) => {\n                    const val = e.target.value;\n                    const newCheckedValuesArray = toggleArrayElement(\n                      val,\n                      value\n                    );\n\n                    onChange({\n                      target: { name, value: newCheckedValuesArray },\n                    });\n                  }}\n                />\n              }\n              label={optionLabels[i]}\n            />\n          </Grid>\n        );\n      })}\n    </Grid>\n  );\n};\n\nexport default CheckBoxList;\n","import {\n  KeyboardDatePicker,\n  MuiPickersUtilsProvider,\n} from \"@material-ui/pickers\";\n\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport React from \"react\";\n\nfunction formatDate(date) {\n  const d = date.getDate();\n  const m = date.getMonth();\n  const y = date.getFullYear();\n  return new Date(y, m, d, 12, 0, 0, 0);\n}\nconst DateInput = ({ onChange, value, name, disabled }) => {\n  return (\n    <MuiPickersUtilsProvider utils={DateFnsUtils}>\n      <KeyboardDatePicker\n        disabled={disabled}\n        margin=\"normal\"\n        id=\"date-picker-dialog\"\n        label=\"Select date\"\n        format=\"yyyy-MM-dd\"\n        value={value}\n        onChange={(dateSelected) => {\n          return onChange({\n            target: { name, value: formatDate(dateSelected) },\n          });\n        }}\n        KeyboardButtonProps={{\n          \"aria-label\": \"change date\",\n        }}\n      />\n    </MuiPickersUtilsProvider>\n  );\n};\n\nexport default DateInput;\n","const keywordList = [\n  \"abundance and biomass\",\n  \"sea access\",\n  \"decision making\",\n  \"protected areas\",\n  \"maritime ressources\",\n  \"knowledge improvement\",\n  \"land-use planning\",\n  \"water purification\",\n  \"striped bass\",\n  \"watershed\",\n  \"habitat characterization\",\n  \"coastal characterization\",\n  \"climate change\",\n  \"chlorophyll a\",\n  \"resource conservation\",\n  \"water consumption\",\n  \"sea currents\",\n  \"crustacean\",\n  \"fresh water flow\",\n  \"water density\",\n  \"sustainable development\",\n  \"ocean-atmosphere exchange\",\n  \"sampling\",\n  \"crayfish\",\n  \"mariculture\",\n  \"coastal erosion\",\n  \"endangered species\",\n  \"invasive species\",\n  \"coastal flora\",\n  \"fluorescence\",\n  \"spawning\",\n  \"community management\",\n  \"resource management\",\n  \"integrated management\",\n  \"sea ice\",\n  \"sensitive habitat\",\n  \"important habitat\",\n  \"hydrocarbon\",\n  \"incidents\",\n  \"general information\",\n  \"wildlife inventory\",\n  \"fish inventory\",\n  \"macroalgae\",\n  \"benthic macrofauna\",\n  \"marine mammal\",\n  \"marsh\",\n  \"meteorology\",\n  \"wetlands\",\n  \"natural environments of interest\",\n  \"enhancement\",\n  \"oceanographic missions\",\n  \"mollusc\",\n  \"sea level\",\n  \"seabirds\",\n  \"migrator birds\",\n  \"commercial fisheries\",\n  \"experimental fisheries\",\n  \"physical-chemical\",\n  \"phytoplankton\",\n  \"sea grass\",\n  \"fish\",\n  \"coastal pollution\",\n  \"atmospheric pressure\",\n  \"coast protection\",\n  \"habitat protection\",\n  \"water quality\",\n  \"radiation\",\n  \"maritime resources\",\n  \"ecological rehabilitation\",\n  \"shore restoration\",\n  \"experimental restoration\",\n  \"habitat restoration\",\n  \"coastal risks\",\n  \"citizen data\",\n  \"salinity\",\n  \"sediment\",\n  \"fishing sites\",\n  \"annual follow-up\",\n  \"species tracking\",\n  \"habitat tracking\",\n  \"taxonomy\",\n  \"remote sensing\",\n  \"water temperature\",\n  \"sea turtles\",\n  \"land-use\",\n  \"sustainabilty\",\n  \"waves\",\n  \"wind\",\n  \"coastal zone\",\n];\n\nexport default keywordList;\n","import React, { useState } from \"react\";\n\nimport Autocomplete, {\n  createFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\n\nimport {\n  TextField,\n  Button,\n  Grid,\n  Chip,\n  InputAdornment,\n} from \"@material-ui/core\";\nimport { useParams } from \"react-router-dom\";\nimport { ArrowDownward } from \"@material-ui/icons\";\nimport keywordList from \"../../keywordList\";\nimport { En, Fr } from \"../I18n\";\nimport translate from \"../../utils/i18n\";\n\nconst KeywordsInput = ({\n  onChange,\n  value = { en: [], fr: [] },\n  name,\n  disabled,\n}) => {\n  const { language } = useParams();\n  const [selectedKeyword, setKeyword] = useState(\"\");\n\n  function cleanList(list) {\n    return list\n      .map((item) => (item || \"\").trim())\n      .filter((item, i, arr) => item && arr.indexOf(item) === i);\n  }\n\n  function handleDelete(chipText, deletedChipLang) {\n    return () => {\n      const newValue = {\n        en: value.en,\n        fr: value.fr,\n        [deletedChipLang]: value[deletedChipLang].filter(\n          (keyword) => keyword !== chipText\n        ),\n      };\n\n      onChange({\n        target: {\n          name,\n          value: newValue,\n        },\n      });\n    };\n  }\n  function handleHelperChange() {\n    if (selectedKeyword) {\n      const newValue = { en: value.en, fr: value.fr };\n\n      const userKeywordList = [...value[language], selectedKeyword];\n\n      newValue[language] = cleanList(userKeywordList);\n\n      onChange({\n        target: {\n          name,\n          value: newValue,\n        },\n      });\n    }\n    setKeyword(\"\");\n  }\n\n  const languages = [\"en\", \"fr\"];\n\n  if (language === \"fr\") languages.reverse();\n\n  const hasKeyWordsinBothLanguages =\n    Object.values(value).filter((kws) => kws.length).length > 1;\n\n  return (\n    <Grid\n      container\n      spacing={3}\n      direction=\"column\"\n      style={{ marginBottom: \"10px\" }}\n    >\n      <Grid container spacing={3} direction=\"row\">\n        <Grid item xs={6}>\n          <Autocomplete\n            disabled={disabled}\n            style={{ paddingLeft: \"10px\" }}\n            onInputChange={(e, keyword) => setKeyword(keyword)}\n            filterOptions={(options, params) => {\n              const filtered = createFilterOptions()(options, params);\n\n              if (params.inputValue !== \"\") {\n                filtered.push(params.inputValue);\n              }\n\n              return filtered;\n            }}\n            value={selectedKeyword}\n            selectOnFocus\n            clearOnBlur\n            freeSolo\n            handleHomeEndKeys\n            renderOption={(option) => translate(option, language) || option}\n            options={keywordList}\n            getOptionLabel={(option) => translate(option, language) || option}\n            fullWidth\n            renderInput={(params) => (\n              <TextField\n                // eslint-disable-next-line react/jsx-props-no-spreading\n                {...params}\n                label=\"keyword entry helper\"\n              />\n            )}\n          />\n        </Grid>\n        <Grid item xs>\n          <Button\n            disabled={disabled || Boolean(!selectedKeyword)}\n            startIcon={<ArrowDownward />}\n            onClick={handleHelperChange}\n          >\n            <En>Add</En>\n            <Fr>Ajouter</Fr>\n          </Button>\n        </Grid>\n      </Grid>\n      {languages\n        .filter((lang) => value[lang] && value[lang].length)\n        .map((lang) => (\n          <div style={{ margin: \"15px\" }} key={lang}>\n            {hasKeyWordsinBothLanguages && (\n              <InputAdornment style={{ margin: \"10px\" }}>\n                {lang.toUpperCase()}\n              </InputAdornment>\n            )}\n            <Grid container direction=\"row\">\n              <Grid item xs>\n                {(value[lang] || []).map((keyword) => (\n                  <Chip\n                    key={keyword}\n                    disabled={disabled}\n                    label={keyword}\n                    onDelete={handleDelete(keyword, lang)}\n                    color=\"primary\"\n                    style={{ marginRight: \"5px\" }}\n                  />\n                ))}\n              </Grid>\n            </Grid>\n          </div>\n        ))}\n    </Grid>\n  );\n};\n\nexport default KeywordsInput;\n","import React from \"react\";\nimport { Paper, TextField, Grid } from \"@material-ui/core\";\nimport { useParams } from \"react-router-dom\";\nimport { En, Fr } from \"../I18n\";\nimport { eovList, progressCodes } from \"../../isoCodeLists\";\n\nimport BilingualTextInput from \"./BilingualTextInput\";\nimport CheckBoxList from \"./CheckBoxList\";\nimport DateInput from \"./DateInput\";\nimport KeywordsInput from \"./KeywordsInput\";\nimport RequiredMark from \"./RequiredMark\";\nimport SelectInput from \"./SelectInput\";\nimport { camelToSentenceCase } from \"../../utils/misc\";\nimport translate from \"../../utils/i18n\";\nimport { validateField } from \"../validate\";\nimport { QuestionText, SupplementalText, paperClass } from \"./QuestionStyles\";\n\nconst IdentificationTab = ({ disabled, record, handleInputChange }) => {\n  const { language } = useParams();\n  return (\n    <div>\n      <Paper style={paperClass}>\n        <QuestionText>\n          <En>What is the dataset title? Required in both languages.</En>\n          <Fr>\n            Quel est le titre du jeu de données? Obligatoire dans les deux\n            langues.\n          </Fr>\n          <RequiredMark passes={validateField(record, \"title\")} />\n          <SupplementalText>\n            <En>\n              Please refrain from using special characters in the dataset title.\n              This will define the title that is shown for this dataset in CKAN.\n            </En>\n            <Fr>\n              S'il vous plaît ne pas utiliser caractères dans le titre du jeu de\n              données. Cela définira le titre qui est montré pour ce jeu de\n              données dans CKAN.\n            </Fr>\n          </SupplementalText>\n        </QuestionText>\n\n        <BilingualTextInput\n          name=\"title\"\n          value={record.title}\n          onChange={handleInputChange}\n          disabled={disabled}\n        />\n      </Paper>\n\n      <Paper style={paperClass}>\n        <QuestionText>\n          <En>\n            Enter an abstract or summary for the dataset. Required in both\n            languages.\n          </En>\n          <Fr>Entrez un résumé pour le jeu de données.</Fr>\n          <RequiredMark passes={validateField(record, \"abstract\")} />\n          <SupplementalText>\n            <En>\n              These will define the summary text that is shown for this dataset\n              in CKAN, so browsing some datasets at\n              https://cioosatlantic.ca/ckan can help give a sense of the type of\n              descriptions that are typically used for this.\n              <br />\n              <br />\n              Suggested abstract points -\n              <div>\n                <ul>\n                  <li>\n                    <b>What</b>- Variables that were measured\n                  </li>\n                  <li>\n                    <b>When</b>- Temporal coverage of the data, frequency of the\n                    measurements/observations\n                  </li>\n                  <li>\n                    <b>Where</b>- spatial coverage of the data, sampling sites,\n                    sensor tracks, laboratory spaces\n                  </li>\n                  <li>\n                    <b>How</b>- equipment, procedures, protocols, calibrations,\n                    QA/QC\n                  </li>\n                  <li>\n                    <b>Who</b>- participants, staff\n                  </li>\n                  <li>\n                    <b>Why</b>- a high level statement on the outcome this data\n                    is meant to inform\n                  </li>\n                </ul>\n              </div>\n            </En>\n            <Fr>\n              {\" \"}\n              Points abstraits suggérés - Résumé du jeu de données : Quoi-\n              Variables qui ont été mesurés ; Quan- Couverture temporelle des\n              données, fréquence de la mesures/observations ; Où - couverture\n              spatiale des données, les sites d'échantillonnage, les pistes de\n              capteurs, les locaux de laboratoire ; procédures, protocoles,\n              étalonnages, AQ/CQ ; personnel ; pourquoi - un énoncé de haut\n              niveau sur le résultat de ces données est censé pour informer.\n            </Fr>\n          </SupplementalText>\n        </QuestionText>\n\n        <BilingualTextInput\n          name=\"abstract\"\n          value={record.abstract}\n          onChange={handleInputChange}\n          disabled={disabled}\n          multiline\n        />\n      </Paper>\n\n      <Paper style={paperClass}>\n        <QuestionText>\n          <En>\n            Please select all the essential ocean variables that are contained\n            in this dataset.\n          </En>\n          <Fr>\n            Veuillez sélectionner toutes les variables océaniques essentielles\n            contenues dans ce jeu de données.\n          </Fr>\n          <RequiredMark passes={validateField(record, \"eov\")} />\n          <SupplementalText>\n            <En>If none of these apply you can select Other.</En>\n            <Fr>\n              Si aucun de ces éléments ne s'applique, vous pouvez sélectionner «\n              Autre'.\n            </Fr>\n          </SupplementalText>\n        </QuestionText>\n        <CheckBoxList\n          name=\"eov\"\n          value={record.eov || []}\n          onChange={handleInputChange}\n          options={eovList}\n          optionLabels={eovList.map((e) => {\n            return camelToSentenceCase(translate(e, language));\n          })}\n          disabled={disabled}\n        />\n      </Paper>\n      <Paper style={paperClass}>\n        <Grid container spacing={3} direction=\"column\">\n          <Grid item xs>\n            <QuestionText>\n              <En>\n                What are the keywords that describe the dataset? Select from the\n                list or create your own.\n              </En>\n              <Fr>\n                Quels sont les mots-clés qui décrivent le jeu de données ?\n                Sélectionnez dans la liste ou créez le vôtre.\n              </Fr>\n              <RequiredMark passes={validateField(record, \"keywords\")} />\n              <SupplementalText>\n                <En> Enter one at a time, clicking 'Add' after each.</En>\n                <Fr>\n                  Entrez un à la fois, en cliquant sur « Ajouter » après chaque.\n                </Fr>\n              </SupplementalText>\n            </QuestionText>\n          </Grid>\n          <Grid item xs>\n            <KeywordsInput\n              name=\"keywords\"\n              value={record.keywords}\n              onChange={handleInputChange}\n              disabled={disabled}\n            />\n          </Grid>\n        </Grid>\n      </Paper>\n      <Paper style={paperClass}>\n        <QuestionText>\n          <En>What is the status of this dataset?</En>\n          <Fr>Quel est l'état de ce jeu de données?</Fr>\n          <RequiredMark passes={validateField(record, \"progress\")} />\n        </QuestionText>\n        <SelectInput\n          name=\"progress\"\n          value={record.progress}\n          onChange={(e) => handleInputChange(e)}\n          options={progressCodes}\n          optionLabels={progressCodes.map((e) => {\n            return camelToSentenceCase(translate(e, language));\n          })}\n          disabled={disabled}\n        />\n      </Paper>\n\n      <Paper style={paperClass}>\n        <QuestionText>\n          <En>What is the start date when data was first collected?</En>\n          <Fr>\n            Quelle est la date de début à laquelle les données ont été\n            collectées pour la première fois?\n          </Fr>\n        </QuestionText>\n        <DateInput\n          name=\"dateStart\"\n          value={record.dateStart || null}\n          onChange={handleInputChange}\n          disabled={disabled}\n        />\n        <QuestionText>\n          <En>What is the end date when data was last collected?</En>\n          <Fr>\n            Quelle est la date de fin à laquelle les données ont été collectées\n            pour la dernière fois?\n          </Fr>\n        </QuestionText>\n        <DateInput\n          name=\"dateEnd\"\n          value={record.dateEnd || null}\n          onChange={handleInputChange}\n          disabled={disabled}\n        />\n      </Paper>\n      <Paper style={paperClass}>\n        <QuestionText>\n          <En>What is the date when the data was published?</En>\n          <Fr>\n            Quelle est la date de début à laquelle les données ont été publiées\n            ?\n          </Fr>\n        </QuestionText>\n        <DateInput\n          name=\"datePublished\"\n          value={record.datePublished || null}\n          onChange={handleInputChange}\n          disabled={disabled}\n        />\n      </Paper>\n\n      <Paper style={paperClass}>\n        <QuestionText>\n          <En>What is the date when data was revised?</En>\n          <Fr>Quelle est la date de début de la révision des données?</Fr>\n        </QuestionText>\n        <DateInput\n          name=\"dateRevised\"\n          value={record.dateRevised || null}\n          onChange={handleInputChange}\n          disabled={disabled}\n        />\n      </Paper>\n\n      <Paper style={paperClass}>\n        <QuestionText>\n          <En>\n            What is the dataset identifier, eg DOI or other unique ID or URL?\n          </En>\n          <Fr>\n            Quel est l'identificateur du jeu de données, par exemple DOI ou\n            autre ID ou URL unique?\n          </Fr>\n        </QuestionText>\n        <TextField\n          style={{ marginTop: \"10px\" }}\n          name=\"datasetIdentifier\"\n          value={record.datasetIdentifier}\n          onChange={(e) => handleInputChange(e)}\n          fullWidth\n        />\n      </Paper>\n    </div>\n  );\n};\n\nexport default IdentificationTab;\n","import React from \"react\";\nimport { Paper, TextField } from \"@material-ui/core\";\nimport { En, Fr } from \"../I18n\";\n\nimport BilingualTextInput from \"./BilingualTextInput\";\nimport SelectInput from \"./SelectInput\";\nimport RequiredMark from \"./RequiredMark\";\n\nimport { QuestionText, SupplementalText, paperClass } from \"./QuestionStyles\";\nimport { validateField } from \"../validate\";\n\nconst MetadataTab = ({ disabled, record, handleInputChange }) => (\n  <div>\n    <Paper style={paperClass}>\n      <QuestionText>\n        <En>\n          Metadata Identifier. This ID is autogenerated by the form. It is used\n          to track records in the CKAN catalogue.\n        </En>\n        <Fr>\n          Identificateur de métadonnées Cet ID est généré automatiquement par le\n          formulaire. Il est utilisé pour suivre les dossiers dans le catalogue\n          CKAN.\n        </Fr>\n      </QuestionText>\n      <TextField\n        name=\"identifier\"\n        value={record.identifier}\n        onChange={(e) => handleInputChange(e)}\n        disabled\n        fullWidth\n      />\n    </Paper>\n\n    <Paper style={paperClass}>\n      <QuestionText>\n        <En>What is primary language of the dataset?</En>\n        <Fr>Quelle est la langue principale du jeu de données?</Fr>\n        <RequiredMark passes={validateField(record, \"language\")} />\n      </QuestionText>\n      <SelectInput\n        name=\"language\"\n        value={record.language}\n        onChange={(e) => handleInputChange(e)}\n        options={[\"en\", \"fr\"]}\n        optionLabels={[\"English\", \"Français\"]}\n        disabled={disabled}\n      />\n    </Paper>\n    <Paper style={paperClass}>\n      <QuestionText>\n        <En>How is the resource licensed?</En>\n        <Fr>Comment la ressource est-elle sous licence?</Fr>\n        <RequiredMark passes={validateField(record, \"license\")} />\n        <SupplementalText>\n          <En>\n            We recommend that the Creative Commons Attribution 4.0 International\n            licence (CC-BY 4.0) be applied as the default licence for all\n            datasets that will be made available through the CIOOS platform.\n            This allows for open sharing and adaptation of the data provided\n            that the original creator is attributed. Releasing the data as\n            public domain (Creative Commons 0), which imposes no restrictions of\n            any kind is also acceptable. For datasets made available by\n            Government of Canada departments and agencies, the Open Government\n            Licence - Canada can be used, which is very similar to CC-BY as it\n            allows for open sharing and adaptation of the data provided that the\n            original creator of the data is properly attributed.\n          </En>\n          <Fr>\n            Nous recommandons que la licence Creative Commons Attribution 4.0\n            International (CC-BY 4.0) soit appliquée comme licence par défaut\n            pour tous les ensembles de données qui seront disponibles via la\n            plateforme CIOOS. Cela permet le partage ouvert et l'adaptation des\n            données à condition que le créateur original soit attribué. La\n            diffusion des données en tant que domaine public (Creative Commons\n            0), qui n'impose aucune restriction d'aucune sorte est également\n            acceptable. Pour les ensembles de données mis à la disposition des\n            ministères et organismes du gouvernement du Canada, on peut utiliser\n            la Licence pour gouvernement ouvert - Canada, qui est très semblable\n            à CC-BY, car elle permet le partage ouvert et l'adaptation des\n            données à condition que le créateur original des données soit\n            correctement attribué.\n          </Fr>\n        </SupplementalText>\n      </QuestionText>\n      <SelectInput\n        name=\"license\"\n        value={record.license}\n        onChange={(e) => handleInputChange(e)}\n        optionLabels={[\n          \"Creative Commons Attribution 4.0\",\n          \"Creative Commons 0\",\n          \"Open Government Licence - Canada\",\n          \"Apache License, Version 2.0\",\n        ]}\n        options={[\n          \"CC-BY-4.0\",\n          \"CC0\",\n          \"government-open-license-canada\",\n          \"Apache-2.0\",\n        ]}\n        disabled={disabled}\n      />\n    </Paper>\n    <Paper style={paperClass}>\n      <QuestionText>\n        <En>\n          What are the limitations affecting the fitness for use of the resource\n          or metadata?\n        </En>\n        <Fr>\n          Quelles sont les limites qui influent sur l'aptitude à l'utilisation\n          de la ressource ou des métadonnées?\n        </Fr>\n        <SupplementalText>\n          <En>\n            Eg: <i>Appropriate credit must be given to...</i>\n          </En>\n          <Fr>\n            Par exemple: <i> Un crédit approprié doit être accordé à...</i>\n          </Fr>\n        </SupplementalText>\n      </QuestionText>\n      <BilingualTextInput\n        name=\"limitations\"\n        value={record.limitations}\n        onChange={handleInputChange}\n        multiline\n        disabled={disabled}\n      />\n    </Paper>\n\n    <Paper style={paperClass}>\n      <QuestionText>\n        <En>Are there any additional comments about this dataset?</En>\n        <Fr>\n          Y a-t-il des commentaires supplémentaires à propos de cet ensemble de\n          données?\n        </Fr>\n      </QuestionText>\n      <BilingualTextInput\n        name=\"comment\"\n        value={record.comment}\n        onChange={handleInputChange}\n        multiline\n        disabled={disabled}\n      />\n    </Paper>\n\n    <Paper style={paperClass}>\n      <QuestionText>\n        <En>Describe the history of this dataset.</En>\n        <Fr>Décrivez l'historique de ce jeu de données.</Fr>\n      </QuestionText>\n      <BilingualTextInput\n        name=\"history\"\n        value={record.history}\n        onChange={handleInputChange}\n        multiline\n        disabled={disabled}\n      />\n    </Paper>\n  </div>\n);\n\nexport default MetadataTab;\n","import React from \"react\";\nimport { Add, Delete } from \"@material-ui/icons\";\nimport { TextField, Grid, Typography, Button, Paper } from \"@material-ui/core\";\nimport { En, Fr, I18n } from \"../I18n\";\nimport BilingualTextInput from \"./BilingualTextInput\";\nimport { deepCopy } from \"../../utils/misc\";\n\nconst initial = {\n  id: \"\",\n  manufacturer: \"\",\n  version: \"\",\n  type: { en: \"\", fr: \"\" },\n  description: { en: \"\", fr: \"\" },\n};\n\nconst Instruments = ({ onChange, value, name, disabled, paperClass }) => {\n  function addItem() {\n    onChange({\n      target: {\n        name,\n        value: value.concat(deepCopy(initial)),\n      },\n    });\n  }\n  function handleChange(e, i) {\n    const newValue = [...value];\n    const propName = e.target.name;\n    newValue[i][propName] = e.target.value;\n    const parentEvent = { target: { name, value: newValue } };\n    onChange(parentEvent);\n  }\n  function removeItem(i) {\n    onChange({\n      target: { name, value: value.filter((e, index) => index !== i) },\n    });\n  }\n\n  const manufacturerLabel = <I18n en=\"Manufacturer\" fr=\"Fabricant\" />;\n  const versionLabel = <I18n en=\"Version\" fr=\"Version\" />;\n  const typeLabel = <I18n en=\"Type\" fr=\"Type\" />;\n  const descriptionLabel = <I18n en=\"Description\" fr=\"Description\" />;\n\n  return (\n    <Grid container direction=\"column\">\n      {value.map((inst, i) => (\n        <Paper key={i} style={paperClass}>\n          <Grid container direction=\"column\" spacing={2}>\n            <Grid item xs>\n              Instrument ID is required\n              <TextField\n                label=\"ID\"\n                name=\"id\"\n                value={inst.id}\n                onChange={(e) => handleChange(e, i)}\n                fullWidth\n                disabled={disabled}\n              />\n            </Grid>\n            <Grid item xs>\n              <TextField\n                label={manufacturerLabel}\n                name=\"manufacturer\"\n                value={inst.manufacturer}\n                onChange={(e) => handleChange(e, i)}\n                fullWidth\n                disabled={disabled}\n              />{\" \"}\n            </Grid>\n            <Grid item xs>\n              <TextField\n                label={versionLabel}\n                value={inst.version}\n                name=\"version\"\n                onChange={(e) => handleChange(e, i)}\n                fullWidth\n                disabled={disabled}\n              />\n            </Grid>\n            <Grid item xs>\n              <Typography>\n                <En>Instrument Type</En>\n                <Fr>Type d'instrument</Fr>\n              </Typography>\n              <BilingualTextInput\n                name=\"type\"\n                label={typeLabel}\n                value={inst.type}\n                onChange={(e) => handleChange(e, i)}\n                disabled={disabled}\n              />\n            </Grid>{\" \"}\n            <Grid item xs>\n              <Typography>Description</Typography>\n              <BilingualTextInput\n                name=\"description\"\n                label={descriptionLabel}\n                value={inst.description}\n                onChange={(e) => handleChange(e, i)}\n                disabled={disabled}\n              />\n            </Grid>\n            <Grid item xs>\n              <Button\n                startIcon={<Delete />}\n                disabled={disabled}\n                onClick={() => removeItem(i)}\n              >\n                <En>Remove item</En>\n                <Fr>Supprimer l'article</Fr>\n              </Button>\n            </Grid>\n          </Grid>\n        </Paper>\n      ))}\n      <Paper style={paperClass}>\n        <Button startIcon={<Add />} disabled={disabled} onClick={addItem}>\n          <En>Add Instrument</En>\n          <Fr>Ajouter un article</Fr>\n        </Button>\n      </Paper>\n    </Grid>\n  );\n};\nexport default Instruments;\n","import React from \"react\";\n\nimport { TextField, Grid } from \"@material-ui/core\";\n\nimport BilingualTextInput from \"./BilingualTextInput\";\nimport { QuestionText, SupplementalText, paperClass } from \"./QuestionStyles\";\nimport RequiredMark from \"./RequiredMark\";\nimport { En, Fr, I18n } from \"../I18n\";\nimport { validateField } from \"../validate\";\n\nconst Platform = ({ record, handleInputChange, disabled }) => (\n  <>\n    {/* TODO remove tacky negative margin */}\n    <Grid item xs style={{ ...paperClass, marginTop: \"-40px\" }}>\n      <QuestionText>\n        <En>Describe the platform</En>\n        <Fr>Décrire la plateforme</Fr>\n        <SupplementalText>\n          <En>Eg, the name or type of platform</En>\n          <Fr>Par exemple, le nom ou le type de plate-forme.</Fr>\n          <RequiredMark passes={validateField(record, \"platformDescription\")} />\n        </SupplementalText>\n      </QuestionText>\n      <BilingualTextInput\n        name=\"platformDescription\"\n        value={record.platformDescription}\n        onChange={handleInputChange}\n        multiline\n        disabled={disabled}\n      />\n    </Grid>\n\n    <Grid item xs style={paperClass}>\n      <QuestionText>\n        <En>What is the platform ID or code?</En>\n        <Fr>Qu'est-ce que l'ID de plate-forme ?</Fr>\n        <SupplementalText>\n          <En>\n            This is a unique identification of the platform. If the platform is\n            registered with ICES, use that identifier\n          </En>\n          <Fr>\n            Il s'agit d'une identification unique de la plateforme. Si la\n            plateforme est enregistrée auprès du CIEM, utilisez cet\n            identificateur\n          </Fr>\n          <RequiredMark passes={validateField(record, \"platformID\")} />\n        </SupplementalText>\n      </QuestionText>\n\n      <TextField\n        label={<I18n en=\"Platform ID\" fr=\"ID de plateforme\" />}\n        name=\"platformID\"\n        value={record.platformID}\n        onChange={handleInputChange}\n        fullWidth\n        disabled={disabled}\n      />\n    </Grid>\n  </>\n);\n\nexport default Platform;\n","import React from \"react\";\n\nimport {\n  Typography,\n  Paper,\n  Grid,\n  FormControlLabel,\n  Checkbox,\n} from \"@material-ui/core\";\nimport Instruments from \"./Instruments\";\n\nimport { QuestionText, paperClass } from \"./QuestionStyles\";\nimport RequiredMark from \"./RequiredMark\";\nimport Platform from \"./Platform\";\nimport { En, Fr } from \"../I18n\";\nimport { validateField } from \"../validate\";\n\nconst PlatformTab = ({ disabled, record, handleInputChange }) => {\n  const { noPlatform = false } = record;\n  return (\n    <div>\n      <Paper style={paperClass}>\n        <Grid container direction=\"column\" spacing={0}>\n          <Grid item xs style={paperClass}>\n            <QuestionText>\n              <En>\n                A platform can be a a glider, ship, buoy, or satellite used in\n                data collection. It is strongly encouraged to fill out platform\n                information. If there is no platform, you can enter instruments\n                at the bottom of the page.\n              </En>\n              <Fr>\n                Une plate-forme peut être un planeur, un navire, une bouée ou un\n                satellite utilisé dans la collecte de données. Il est fortement\n                encouragé à renseigner les informations sur la plateforme. S'il\n                n'y a pas de plate-forme, vous pouvez entrer des instruments au\n                bas de la page.\n              </Fr>\n            </QuestionText>\n\n            <FormControlLabel\n              disabled={disabled}\n              control={\n                <Checkbox\n                  name=\"noPlatform\"\n                  checked={noPlatform}\n                  onChange={(e) => {\n                    const { checked } = e.target;\n\n                    handleInputChange({\n                      target: { name: \"noPlatform\", value: checked },\n                    });\n                  }}\n                />\n              }\n              label={\n                <>\n                  <En>This dataset doesn't have a platform</En>\n                  <Fr>Ce jeu de données n'a pas de plate-forme</Fr>\n                </>\n              }\n            />\n          </Grid>\n          {!noPlatform && (\n            <Grid item xs style={paperClass}>\n              <Platform\n                record={record}\n                handleInputChange={handleInputChange}\n                disabled={disabled}\n              />\n              <QuestionText>\n                <En>\n                  At least one instrument is required if there is a platform.\n                </En>\n                <Fr>\n                  Au moins un instrument est requis s'il y a une plate-forme.\n                </Fr>\n\n                <RequiredMark passes={validateField(record, \"instruments\")} />\n              </QuestionText>\n\n              <Instruments\n                value={record.instruments || []}\n                onChange={handleInputChange}\n                name=\"instruments\"\n                disabled={disabled}\n                paperClass={paperClass}\n              />\n            </Grid>\n          )}\n        </Grid>\n      </Paper>\n\n      <Grid item xs>\n        <Paper style={paperClass}>\n          <Typography variant=\"h5\">Instruments</Typography>\n          <Typography>\n            <En>Add instruments that are not associated with a platform.</En>\n            <Fr>\n              Ajout d'instruments qui ne sont pas associés à une plate-forme.\n            </Fr>\n          </Typography>\n        </Paper>\n        <Instruments\n          value={record.instrumentsWithoutPlatform || []}\n          onChange={handleInputChange}\n          name=\"instrumentsWithoutPlatform\"\n          disabled={disabled}\n          paperClass={paperClass}\n        />\n      </Grid>\n    </div>\n  );\n};\nexport default PlatformTab;\n","/* eslint-disable no-case-declarations */\n/* eslint-disable no-underscore-dangle */\nimport React, { useState } from \"react\";\n\nimport { TextField, Grid, Typography } from \"@material-ui/core\";\nimport L from \"leaflet\";\nimport {\n  Map,\n  TileLayer,\n  FeatureGroup,\n  withLeaflet,\n  Polygon as LeafletPolygon,\n  Rectangle as LeafletRectangle,\n} from \"react-leaflet\";\nimport { EditControl } from \"react-leaflet-draw\";\nimport \"leaflet/dist/leaflet.css\";\nimport \"leaflet-draw/dist/leaflet.draw.css\";\nimport { I18n, En, Fr } from \"../I18n\";\n\nimport { QuestionText, SupplementalText } from \"./QuestionStyles\";\nimport { validateField } from \"../validate\";\nimport RequiredMark from \"./RequiredMark\";\n\nconst MapSelect = ({ onChange, value = {}, name, disabled, record }) => {\n  function onEditPath() {}\n\n  function onDeleted() {\n    const newVal = {\n      north: \"\",\n      south: \"\",\n      east: \"\",\n      west: \"\",\n      polygon: \"\",\n    };\n\n    onChange({ target: { name, value: newVal } });\n  }\n\n  const [editableFG, setEditableFG] = useState(null);\n  const [, setLayerError] = useState(null);\n\n  const coordTest = /-?\\d+\\.?\\d+/;\n  const polyTest = /-?\\d+\\.?\\d+,\\s*-?\\d+\\.?\\d+\\s*?/g;\n\n  function clearExtraLayers(drawnItems) {\n    // From https://stackoverflow.com/questions/61073568/delete-layer-before-creating-a-new-one-with-react-leaflet-draw-in-leaflet\n    // Only allow one box on the map at a time\n    // if the number of layers is bigger than 1 then delete the first\n    if (Object.keys(drawnItems).length > 1) {\n      Object.keys(drawnItems).forEach((layerid) => {\n        const existingLayers = Object.keys(editableFG.leafletElement._layers)\n          .length;\n\n        if (existingLayers === 1) return;\n\n        const layer = drawnItems[layerid];\n\n        editableFG.leafletElement.removeLayer(layer);\n      });\n    }\n  }\n\n  function handleChange(e) {\n    const drawnItems = editableFG.leafletElement._layers;\n    clearExtraLayers(drawnItems);\n\n    const newData = { ...value, [e.target.name]: e.target.value };\n\n    onChange({ target: { name, value: newData } });\n  }\n\n  function handleChangePoly(e) {\n    const drawnItems = editableFG.leafletElement._layers;\n    clearExtraLayers(drawnItems);\n\n    const newData = { ...value, [e.target.name]: e.target.value };\n    onChange({ target: { name, value: newData } });\n  }\n\n  function limitDecimals(x) {\n    return Number.parseFloat(x).toPrecision(4);\n  }\n\n  function parsePolyString(polygonList) {\n    let coordList = [...polygonList.matchAll(polyTest)].map((match) => {\n      return match[0];\n    });\n\n    try {\n      coordList = coordList.map((point) => {\n        return point.split(\",\").map(Number);\n      });\n    } catch (error) {\n      setLayerError({ error });\n    }\n\n    return coordList;\n  }\n\n  const hasBoundingBox = (\n    test_n = value.north,\n    test_s = value.south,\n    test_e = value.east,\n    test_w = value.west\n  ) => {\n    const test =\n      coordTest.test(test_n) &&\n      coordTest.test(test_s) &&\n      coordTest.test(test_e) &&\n      coordTest.test(test_w);\n\n    return test;\n  };\n\n  const hasPolygon = (test_string = value.polygon) => {\n    return polyTest.test(test_string);\n  };\n\n  const onCreated = (e) => {\n    const { layer, layerType } = e;\n\n    // remove any existing shapes\n    const drawnItems = editableFG.leafletElement._layers;\n    clearExtraLayers(drawnItems);\n\n    switch (layerType) {\n      case \"polygon\":\n        const points = layer.getLatLngs()[0];\n        const polygonStrings = points.map(\n          ({ lat, lng }) => `${limitDecimals(lat)},${limitDecimals(lng)}`\n        );\n        const polygon = polygonStrings.concat(polygonStrings[0]).join(\" \");\n\n        onChange({ target: { name, value: { polygon } } });\n        break;\n\n      default: // Assume rectangle\n      case \"rectangle\":\n        const bounds = layer.getBounds();\n\n        let { lat: north, lng: east } = bounds.getNorthEast().wrap();\n        let { lat: south, lng: west } = bounds.getSouthWest().wrap();\n\n        north = limitDecimals(north);\n        south = limitDecimals(south);\n        east = limitDecimals(east);\n        west = limitDecimals(west);\n\n        const newValue = { north, south, east, west };\n        onChange({ target: { name, value: newValue } });\n    }\n  };\n\n  const onFeatureGroupReady = (reactFGref) => {\n    // store the featureGroup ref for future access to content\n    setEditableFG(reactFGref);\n  };\n  L.EditToolbar.Delete.include({\n    enable() {\n      // eslint-disable-next-line react/no-this-in-sfc\n      this.options.featureGroup.clearLayers();\n      onDeleted();\n    },\n  });\n\n  const bboxIsDrawn = Boolean(\n    value.north || value.south || value.east || value.west\n  );\n\n  const fieldsAreEmpty = !bboxIsDrawn && !value.polygon;\n\n  return (\n    <div>\n      <Map\n        style={{ width: \"100%\", height: \"55vh\" }}\n        center={[50, -100]}\n        zoom={3}\n\n        // whenReady={loadExistingExtent}\n      >\n        <TileLayer\n          attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n        <FeatureGroup\n          ref={(featureGroupRef) => {\n            onFeatureGroupReady(featureGroupRef);\n          }}\n        >\n          {disabled === false && (\n            <EditControl\n              position=\"topleft\"\n              onEdited={onEditPath}\n              onCreated={onCreated}\n              onDeleted={onDeleted}\n              draw={{\n                marker: false,\n                circle: false,\n                polyline: false,\n                circlemarker: false,\n                polygon: true,\n              }}\n              edit={{\n                edit: false,\n              }}\n            />\n          )}\n\n          {hasPolygon() && (\n            <LeafletPolygon positions={parsePolyString(value.polygon)} />\n          )}\n\n          {hasBoundingBox() && (\n            <LeafletRectangle\n              bounds={[\n                [value.north, value.east],\n                [value.south, value.west],\n              ]}\n            />\n          )}\n        </FeatureGroup>\n      </Map>\n      <br />\n      <QuestionText>\n        <En>Bounding Box Coordinates</En>\n        <Fr>\n          Veuillez fournir les coordonnées en degrés décimaux et non en secondes\n          décimales.\n        </Fr>\n        {(bboxIsDrawn || fieldsAreEmpty) && (\n          <RequiredMark passes={validateField(record, \"map\")} />\n        )}\n        <SupplementalText>\n          <En>\n            If you are providing a bounding box, please provide the coordinates\n            in decimal degrees and not in decimal minutes seconds.\n          </En>\n          <Fr>\n            If you are providing a bounding box, please provide the coordinates\n            in decimal degrees and not in decimal minutes seconds.\n          </Fr>\n        </SupplementalText>\n      </QuestionText>\n      <Grid container direction=\"row\" spacing={3}>\n        <Grid item xs={2}>\n          <TextField\n            name=\"north\"\n            label={<I18n en=\"North\" fr=\"Nord\" />}\n            value={value.north || \"\"}\n            inputProps={{ inputMode: \"numeric\", pattern: \"[0-9]*\" }}\n            onChange={handleChange}\n            type=\"number\"\n            disabled={disabled || Boolean(value.polygon)}\n          />\n        </Grid>\n        <Grid item xs={2}>\n          <TextField\n            name=\"south\"\n            label={<I18n en=\"South\" fr=\"Sud\" />}\n            value={value.south || \"\"}\n            onChange={handleChange}\n            type=\"number\"\n            disabled={disabled || Boolean(value.polygon)}\n          />\n        </Grid>\n        <Grid item xs={2}>\n          <TextField\n            name=\"east\"\n            label={<I18n en=\"East\" fr=\"Est\" />}\n            value={value.east || \"\"}\n            onChange={handleChange}\n            type=\"number\"\n            disabled={disabled || Boolean(value.polygon)}\n          />\n        </Grid>\n        <Grid item xs={2}>\n          <TextField\n            name=\"west\"\n            value={value.west || \"\"}\n            label={<I18n en=\"West\" fr=\"Ouest\" />}\n            onChange={handleChange}\n            type=\"number\"\n            disabled={disabled || Boolean(value.polygon)}\n          />\n        </Grid>\n      </Grid>\n\n      <Typography variant=\"h6\" style={{ margin: \"20px\", marginLeft: \"20%\" }}>\n        OR\n      </Typography>\n\n      <QuestionText>\n        <En>Polygon coordinates</En>\n        <Fr>Les coordonnées des polygones</Fr>\n        {(!bboxIsDrawn || fieldsAreEmpty) && (\n          <RequiredMark passes={validateField(record, \"map\")} />\n        )}\n        <SupplementalText>\n          <En>\n            If you are providing polygon coordinates, they must start and end\n            with the same point. Eg,\n          </En>\n          <Fr>\n            Doivent commencer et se terminer par le même point. Par exemple,\n          </Fr>{\" \"}\n          48,-128 56,-133 56,-147 48,-128\n        </SupplementalText>\n      </QuestionText>\n      <TextField\n        name=\"polygon\"\n        value={value.polygon || \"\"}\n        onChange={handleChangePoly}\n        type=\"text\"\n        fullWidth\n        disabled={disabled || bboxIsDrawn}\n      />\n    </div>\n  );\n};\n\nexport default withLeaflet(MapSelect);\n","import { Paper, TextField, Grid } from \"@material-ui/core\";\nimport React from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport { En, Fr } from \"../I18n\";\nimport RequiredMark from \"./RequiredMark\";\n\nimport MapSelect from \"./MapSelect\";\nimport { camelToSentenceCase } from \"../../utils/misc\";\nimport SelectInput from \"./SelectInput\";\nimport { depthDirections } from \"../../isoCodeLists\";\nimport translate from \"../../utils/i18n\";\n\nimport { QuestionText, SupplementalText, paperClass } from \"./QuestionStyles\";\nimport { validateField } from \"../validate\";\n\nconst SpatialTab = ({ disabled, record, handleInputChange }) => {\n  const { language } = useParams();\n\n  return (\n    <Grid>\n      <Paper style={paperClass}>\n        <QuestionText style={{ paddingBottom: \"15px\" }}>\n          <En>What is the spatial extent of the dataset?</En>\n          <Fr>What is the spatial extent of the dataset?</Fr>{\" \"}\n          <SupplementalText>\n            <En>\n              You can draw a bounding box or polygon for the dataset using the\n              Polygon or Box buttons at the left side of them form.\n              Alternatively you can enter them using the fields below. Either a\n              bounding box or a Polygon is required.\n            </En>\n            <Fr>\n              Vous pouvez dessiner un cadre de sélection ou un polygone pour le\n              jeu de données, ou entrer à l'aide des champs ci-dessous. Le cadre\n              de sélection ou le polygone est requis.\n            </Fr>\n          </SupplementalText>\n        </QuestionText>\n        <MapSelect\n          value={record.map}\n          name=\"map\"\n          onChange={handleInputChange}\n          disabled={disabled}\n          record={record}\n        />\n      </Paper>\n      <Paper style={paperClass}>\n        <QuestionText>\n          <En>What is the vertical extent of the dataset in meters?</En>\n          <Fr>What is the vertical extent of the dataset in meters?</Fr>\n          <RequiredMark\n            passes={\n              validateField(record, \"verticalExtentDirection\") &&\n              validateField(record, \"verticalExtentMin\") &&\n              validateField(record, \"verticalExtentMax\")\n            }\n          />\n\n          <SupplementalText>\n            <En>\n              <p>\n                This captures the minimum and maximum depths (or height from sea\n                floor) where the instrument recorded data.\n              </p>\n              <p>\n                Depth positive: Depth is recorded with positive values (i.e. a\n                maximum value of 150m implies 150m below the surface).\n                <br />\n                Heigth positive: Depth is the elevation from the sea floor (i.e.\n                a maximum value of 150m implies 150m above the sea floor).\n              </p>\n            </En>\n            <Fr>\n              <p>\n                Profondeur positive: La profondeur est enregistrée avec des\n                valeurs positives (c'est-à-dire une valeur maximale de 150 m\n                implique 150 m au-dessous de la surface).\n              </p>\n              <p>\n                Hauteur positive: La profondeur est l'élévation depuis le fond\n                marin (c'est-à-dire une valeur maximale de 150 m implique 150 m\n                au-dessus du fond marin)\n              </p>\n            </Fr>\n          </SupplementalText>\n        </QuestionText>\n        <Grid container direction=\"row\" spacing={3}>\n          <Grid item xs={3}>\n            <div style={paperClass}>\n              <SelectInput\n                name=\"verticalExtentDirection\"\n                value={record.verticalExtentDirection || \"\"}\n                onChange={(e) => handleInputChange(e)}\n                options={depthDirections}\n                optionLabels={depthDirections.map((e) =>\n                  camelToSentenceCase(translate(e, language))\n                )}\n                disabled={disabled}\n              />\n            </div>\n          </Grid>\n          <Grid item xs={2}>\n            <div style={paperClass}>\n              <TextField\n                name=\"verticalExtentMin\"\n                value={record.verticalExtentMin}\n                onChange={handleInputChange}\n                label=\"Min\"\n                type=\"number\"\n                disabled={disabled}\n              />\n            </div>\n          </Grid>\n          <Grid item xs={2}>\n            <div style={paperClass}>\n              <TextField\n                name=\"verticalExtentMax\"\n                value={record.verticalExtentMax}\n                onChange={handleInputChange}\n                label=\"Max\"\n                type=\"number\"\n                disabled={disabled}\n              />\n            </div>\n          </Grid>\n        </Grid>\n      </Paper>\n    </Grid>\n  );\n};\n\nexport default SpatialTab;\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React, { Component } from \"react\";\nimport {\n  Box,\n  CircularProgress,\n  Grid,\n  Tab,\n  Tabs,\n  Fab,\n  Tooltip,\n  Typography,\n} from \"@material-ui/core\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { Save } from \"@material-ui/icons\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { withRouter } from \"react-router-dom\";\nimport { I18n } from \"./I18n\";\n\nimport StartTab from \"./FormComponents/StartTab\";\nimport ContactTab from \"./FormComponents/ContactTab\";\nimport DistributionTab from \"./FormComponents/DistributionTab\";\nimport IdentificationTab from \"./FormComponents/IdentificationTab\";\nimport MetadataTab from \"./FormComponents/MetadataTab\";\nimport PlatformTab from \"./FormComponents/PlatformTab\";\nimport SpatialTab from \"./FormComponents/SpatialTab\";\nimport { auth } from \"../auth\";\nimport firebase from \"../firebase\";\nimport { firebaseToJSObject } from \"../utils/misc\";\nimport { UserContext } from \"../providers/UserProvider\";\n\nfunction TabPanel({ children, value, index, ...other }) {\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box>{children}</Box>}\n    </div>\n  );\n}\n\nconst styles = () => ({\n  tabRoot: {\n    minWidth: \"115px\",\n  },\n});\nclass MetadataForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      record: {\n        title: { en: \"\", fr: \"\" },\n        abstract: { en: \"\", fr: \"\" },\n        identifier: uuidv4(),\n        keywords: { en: [], fr: [] },\n        eov: [],\n        progress: \"\",\n        distribution: [],\n        dateStart: null,\n        map: { north: \"\", south: \"\", east: \"\", west: \"\", polygon: \"\" },\n\n        verticalExtentMin: \"\",\n        verticalExtentMax: \"\",\n        datePublished: null,\n        dateRevised: null,\n        recordID: \"\",\n        instruments: [],\n        platformID: \"\",\n        platformDescription: \"\",\n        language: \"\",\n        license: \"\",\n        contacts: [],\n        status: \"\",\n        comment: \"\",\n        history: \"\",\n        limitations: \"\",\n        created: new Date().toISOString(),\n        category: \"\",\n        verticalExtentDirection: \"\",\n        instrumentsWithoutPlatform: [],\n        datasetIdentifier: \"\",\n        noPlatform: false,\n      },\n\n      // contacts saved by user (not the ones saved in the record)\n      // kept in firebase object format instead of array\n      userContacts: {},\n\n      // UI state:\n      loading: false,\n      tabIndex: \"start\",\n\n      // whether the 'save' icon button is greyed out or not\n      saveDisabled: true,\n\n      highlightMissingRequireFields: false,\n    };\n  }\n\n  componentDidMount() {\n    const { match } = this.props;\n    this.setState({ loading: true });\n\n    this.unsubscribe = auth.onAuthStateChanged(async (user) => {\n      if (user) {\n        const { region, recordID } = match.params;\n\n        // either from the URL if its a record in review or from auth\n        const userID = match.params.userID || user.uid;\n\n        const userDataRef = firebase\n          .database()\n          .ref(region)\n          .child(\"users\")\n          .child(userID);\n\n        // get contacts\n        userDataRef.child(\"contacts\").on(\"value\", (contacts) => {\n          this.setState({ userContacts: contacts.toJSON() });\n        });\n\n        // if recordID is set then the user is editing an existing record\n        if (userID && recordID) {\n          userDataRef\n            .child(\"records\")\n            .child(recordID)\n            .on(\"value\", (recordFireBase) => {\n              const record = firebaseToJSObject(recordFireBase.toJSON());\n              this.setState({\n                record: { ...record, recordID },\n              });\n            });\n        }\n      }\n      this.setState({ loading: false });\n    });\n  }\n\n  componentWillUnmount() {\n    // fixes error Can't perform a React state update on an unmounted component\n    if (this.unsubscribe) this.unsubscribe();\n  }\n\n  // genereric handler for updating state, used by most form components\n  handleInputChange = (event) => {\n    const { name, value } = event.target;\n    const changes = { [name]: value };\n\n    this.setState(({ record }) => ({\n      record: { ...record, ...changes },\n      saveDisabled: false,\n    }));\n  };\n\n  async handleSubmitClick() {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    const recordsRef = firebase\n      .database()\n      .ref(region)\n      .child(\"users\")\n      .child(auth.currentUser.uid)\n      .child(\"records\");\n\n    // remove userContacts since they get saved elsewhere\n    const { record } = this.state;\n    record.created = new Date();\n\n    if (record.recordID) {\n      await recordsRef.child(record.recordID).update(record);\n    } else {\n      const newNode = await recordsRef.push(record);\n\n      // cheesy workaround to the issue of push() not saving dates\n      await newNode.update(record);\n      const recordID = newNode.key;\n      this.setState({\n        record: { ...record, recordID },\n      });\n    }\n\n    this.setState({ saveDisabled: true });\n  }\n\n  render() {\n    const { match } = this.props;\n    const { language } = match.params;\n\n    const {\n      userContacts,\n      tabIndex,\n      record,\n      saveDisabled,\n      loading,\n      highlightMissingRequireFields,\n    } = this.state;\n\n    const { classes } = this.props;\n\n    const disabled =\n      record.status === \"submitted\" || record.status === \"published\";\n\n    const tabProps = {\n      highlightMissingRequireFields,\n      disabled,\n      record,\n      handleInputChange: this.handleInputChange,\n    };\n    return loading ? (\n      <CircularProgress />\n    ) : (\n      <Grid\n        container\n        direction=\"column\"\n        justify=\"space-between\"\n        alignItems=\"stretch\"\n        spacing={3}\n      >\n        <Tooltip\n          placement=\"left-start\"\n          title={\n            saveDisabled\n              ? \"Dataset needs a title before it can be saved\"\n              : \"Save record.\"\n          }\n        >\n          <span>\n            <Fab\n              color=\"primary\"\n              aria-label=\"add\"\n              style={{\n                right: 20,\n                bottom: 20,\n                position: \"fixed\",\n              }}\n              disabled={\n                saveDisabled ||\n                !(record.title.en || record.title.fr) ||\n                disabled\n              }\n              onClick={() => this.handleSubmitClick()}\n            >\n              <Save />\n            </Fab>\n          </span>\n        </Tooltip>\n        <Grid container spacing={2} direction=\"row\" alignItems=\"center\">\n          {/* <Grid item xs>\n            {formCompleteness * 100}\n            {formIsComplete && \"FOrm is Complete\"}\n          </Grid> */}\n\n          <Grid item xs>\n            <Tabs\n              scrollButtons=\"auto\"\n              variant=\"fullWidth\"\n              value={tabIndex}\n              onChange={(e, newValue) => this.setState({ tabIndex: newValue })}\n              aria-label=\"simple tabs example\"\n            >\n              <Tab\n                fullWidth\n                classes={{ root: classes.tabRoot }}\n                label=\"Start\"\n                value=\"start\"\n              />\n              <Tab\n                fullWidth\n                classes={{ root: classes.tabRoot }}\n                label=\"Identification\"\n                value=\"identification\"\n              />\n              <Tab\n                fullWidth\n                classes={{ root: classes.tabRoot }}\n                label={<I18n en=\"Metadata\" fr=\"Métadonnées\" />}\n                value=\"metadata\"\n              />\n              identification\n              <Tab\n                fullWidth\n                classes={{ root: classes.tabRoot }}\n                label=\"Spatial\"\n                value=\"spatial\"\n              />\n              <Tab\n                fullWidth\n                classes={{ root: classes.tabRoot }}\n                label=\"Contact\"\n                value=\"contact\"\n              />\n              <Tab\n                fullWidth\n                classes={{ root: classes.tabRoot }}\n                label=\"Distribution\"\n                value=\"distribution\"\n              />\n              <Tab\n                fullWidth\n                classes={{ root: classes.tabRoot }}\n                label={<I18n en=\"Platform\" fr=\"Plateforme\" />}\n                value=\"platform\"\n              />\n            </Tabs>\n            <div style={{ marginTop: \"10px\" }}>\n              <Typography variant=\"h5\">\n                {(language && record.title && record.title[language]) || (\n                  <I18n en=\"New Record\" fr=\"Nouveau Record\" />\n                )}\n              </Typography>\n            </div>\n          </Grid>\n        </Grid>\n        <TabPanel value={tabIndex} index=\"start\">\n          <StartTab {...tabProps} />\n        </TabPanel>\n        <TabPanel value={tabIndex} index=\"identification\">\n          <IdentificationTab {...tabProps} />\n        </TabPanel>\n        <TabPanel value={tabIndex} index=\"metadata\">\n          <MetadataTab {...tabProps} />\n        </TabPanel>\n        <TabPanel value={tabIndex} index=\"spatial\">\n          <SpatialTab {...tabProps} />\n        </TabPanel>\n        <TabPanel value={tabIndex} index=\"platform\">\n          <PlatformTab {...tabProps} />\n        </TabPanel>\n        <TabPanel value={tabIndex} index=\"distribution\">\n          <DistributionTab {...tabProps} />\n        </TabPanel>\n        <TabPanel value={tabIndex} index=\"contact\">\n          {/* userContacts are the ones the user has saved, not necessarily part of the record */}\n          <ContactTab userContacts={userContacts} {...tabProps} />\n        </TabPanel>\n      </Grid>\n    );\n  }\n}\nMetadataForm.contextType = UserContext;\nexport default withStyles(styles)(withRouter(MetadataForm));\n","import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { Grid, Button } from \"@material-ui/core\";\nimport { Save } from \"@material-ui/icons\";\nimport firebase from \"../firebase\";\nimport { auth } from \"../auth\";\n\nimport { En, Fr } from \"./I18n\";\n\nimport Contact from \"./FormComponents/Contact\";\n\nclass EditContact extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      orgName: \"\",\n      orgEmail: \"\",\n      orgURL: \"\",\n      orgAdress: \"\",\n      orgCity: \"\",\n      orgCountry: \"\",\n      indName: \"\",\n      indPosition: \"\",\n      indEmail: \"\",\n    };\n  }\n\n  async componentDidMount() {\n    const { match } = this.props;\n\n    const { recordID, region } = match.params;\n\n    if (auth.currentUser && recordID) {\n      this.dbRef = firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(auth.currentUser.uid)\n        .child(\"contacts\")\n        .child(recordID);\n\n      this.setState({ recordID });\n\n      if (auth.currentUser) {\n        this.dbRef.on(\"value\", (record) =>\n          this.setState({ ...record.toJSON() })\n        );\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.dbRef) this.dbRef.off(\"value\");\n  }\n\n  handleChange(event) {\n    const { name, value } = event.target;\n\n    this.setState({ [name]: value });\n  }\n\n  handleCancelClick() {\n    const { match, history } = this.props;\n    const { language, region } = match.params;\n\n    history.push(`/${language}/${region}/contacts`);\n  }\n\n  async handleSubmitClick() {\n    const { history, match } = this.props;\n\n    const { region, language } = match.params;\n\n    if (this.dbRef) this.dbRef.off(\"value\");\n    const baseURL = `/${language}/${region}`;\n\n    const rootRef = firebase\n      .database()\n      .ref(region)\n      .child(\"users\")\n      .child(auth.currentUser.uid)\n      .child(\"contacts\");\n\n    await rootRef.push(this.state);\n    history.push(`${baseURL}/contacts`);\n  }\n\n  // orgName, orgURL, orgAdress, orgCity, orgCountry\n  render() {\n    const { orgName, indName } = this.state;\n    const isFilledEnoughToSave = orgName || indName;\n    return (\n      <Grid container direction=\"column\" spacing={2}>\n        <Grid item xs>\n          <Contact value={this.state} onChange={(e) => this.handleChange(e)} />\n        </Grid>\n\n        <Grid item xs>\n          <Button\n            startIcon={<Save />}\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => this.handleSubmitClick()}\n            disabled={!isFilledEnoughToSave}\n          >\n            <En>Save</En>\n            <Fr>Enregistrer</Fr>\n          </Button>\n\n          <Button\n            style={{ marginLeft: \"10px\" }}\n            variant=\"contained\"\n            color=\"secondary\"\n            onClick={() => this.handleCancelClick()}\n          >\n            <En>Cancel</En>\n            <Fr>Annuler</Fr>\n          </Button>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nexport default withRouter(EditContact);\n","import React from \"react\";\nimport {\n  Typography,\n  List,\n  ListItem,\n  ListItemText,\n  Avatar,\n  ListItemAvatar,\n  Tooltip,\n  ListItemSecondaryAction,\n  IconButton,\n  Grid,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport { Delete, Publish, Description, Visibility } from \"@material-ui/icons\";\nimport firebase from \"../firebase\";\nimport { auth } from \"../auth\";\nimport { Fr, En, I18n } from \"./I18n\";\n\nimport SimpleModal from \"./SimpleModal\";\n\nconst MetadataRecordListItem = ({\n  record,\n  language,\n  onViewClick,\n  onDeleteClick,\n  onSubmitClick,\n  showPublishAction,\n}) => (\n  <ListItem key={record.key}>\n    <ListItemAvatar>\n      <Avatar>\n        <Description />\n      </Avatar>\n    </ListItemAvatar>\n    <ListItemText\n      primary={<div style={{ width: \"80%\" }}>{record.title[language]}</div>}\n      secondary={record.userinfo.displayName}\n    />\n    <ListItemSecondaryAction>\n      <Tooltip title={<I18n en=\"View\" fr=\"Vue\" />}>\n        <span>\n          <IconButton onClick={onViewClick} edge=\"end\" aria-label=\"delete\">\n            <Visibility />\n          </IconButton>\n        </span>\n      </Tooltip>\n\n      <Tooltip title={<I18n en=\"Delete\" fr=\"Supprimer\" />}>\n        <span>\n          <IconButton onClick={onDeleteClick} edge=\"end\" aria-label=\"delete\">\n            <Delete />\n          </IconButton>\n        </span>\n      </Tooltip>\n      {showPublishAction && (\n        <Tooltip title={<I18n en=\"Publish\" fr=\"Publier\" />}>\n          <span>\n            <IconButton onClick={onSubmitClick} edge=\"end\" aria-label=\"delete\">\n              <Publish />\n            </IconButton>\n          </span>\n        </Tooltip>\n      )}\n    </ListItemSecondaryAction>\n  </ListItem>\n);\nclass Submissions extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: {},\n      deleteModalOpen: false,\n      publishModalOpen: false,\n      modalKey: \"\",\n      modalUserID: \"\",\n      loading: false,\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({ loading: true });\n    const { match } = this.props;\n    const { region } = match.params;\n\n    this.unsubscribe = auth.onAuthStateChanged((user) => {\n      if (user) {\n        firebase\n          .database()\n          .ref(region)\n          .child(\"users\")\n          .on(\"value\", (users) =>\n            this.setState({ users: users.toJSON(), loading: false })\n          );\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.unsubscribe) this.unsubscribe();\n  }\n\n  editRecord(key, userID) {\n    const { match, history } = this.props;\n    const { language, region } = match.params;\n    history.push(`/${language}/${region}/review/${userID}/${key}`);\n  }\n\n  async submitRecord(key, userID) {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    if (key && userID) {\n      this.setState({ loading: true });\n\n      await firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(userID)\n        .child(\"records\")\n        .child(key)\n        .child(\"status\")\n        .set(\"published\");\n      this.setState({ loading: false });\n    }\n  }\n\n  async deleteRecord(key, userID) {\n    const { match } = this.props;\n    const { region } = match.params;\n    if (key && userID) {\n      this.setState({ loading: true });\n\n      await firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        // this can be any user id\n        .child(userID)\n        .child(\"records\")\n        .child(key)\n        .remove();\n\n      this.setState({ loading: false });\n    }\n  }\n\n  toggleModal(modalName, state, key = \"\", userID) {\n    this.setState({ modalKey: key, [modalName]: state, modalUserID: userID });\n  }\n\n  render() {\n    const { users } = this.state;\n    // eslint-disable-next-line react/destructuring-assignment\n    const { match } = this.props;\n    const { language, region } = match.params;\n\n    const records = [];\n\n    Object.entries(users).forEach(([userID, user]) => {\n      if (user.records) {\n        Object.entries(user.records).forEach(([k, record]) => {\n          records.push({\n            ...record,\n            userinfo: { ...user.userinfo, userID },\n            key: k,\n          });\n        });\n      }\n    });\n\n    const recordsForReview = records.filter(\n      (record) => record.status === \"submitted\"\n    );\n    const recordsPublished = records.filter(\n      (record) => record.status === \"published\"\n    );\n    const {\n      deleteModalOpen,\n      modalKey,\n      modalUserID,\n      publishModalOpen,\n      loading,\n    } = this.state;\n\n    return (\n      <Grid container direction=\"column\" spacing={3}>\n        <SimpleModal\n          open={deleteModalOpen}\n          onClose={() => this.toggleModal(\"deleteModalOpen\", false)}\n          onAccept={() => this.deleteRecord(modalKey, modalUserID)}\n          aria-labelledby=\"simple-modal-title\"\n          aria-describedby=\"simple-modal-description\"\n        />\n        <SimpleModal\n          open={publishModalOpen}\n          onClose={() => this.toggleModal(\"publishModalOpen\", false)}\n          onAccept={() => this.submitRecord(modalKey, modalUserID)}\n          aria-labelledby=\"simple-modal-title\"\n          aria-describedby=\"simple-modal-description\"\n        />\n        <Grid item xs>\n          <Typography variant=\"h5\">\n            <En>Review submissions</En>\n            <Fr>Examen des soumissions</Fr>\n          </Typography>\n        </Grid>\n        {loading ? (\n          <CircularProgress />\n        ) : (\n          <>\n            {recordsForReview.length ? (\n              <>\n                <Grid item xs>\n                  <Typography>\n                    <En>\n                      These are the submissions we have received from all users\n                      that have not yet been reviewed. To accept a record, click\n                      the 'Publish' button. Once a record is published, you can\n                      download the xml or yaml\n                    </En>\n                    <Fr>\n                      Ce sont les soumissions que nous avons reçues de tous les\n                      utilisateurs qui n'ont pas encore été examinées. Pour\n                      accepter un enregistrement, cliquez sur le bouton «\n                      Publier ». Une fois qu'un enregistrement est publié, vous\n                      pouvez télécharger le xml ou yaml\n                    </Fr>{\" \"}\n                    <a\n                      href={`https://pac-dev1.cioos.org/dev/metadata/${region}`}\n                      // eslint-disable-next-line react/jsx-no-target-blank\n                      target=\"_blank\"\n                    >\n                      <En>here</En>\n                      <Fr>ici</Fr>\n                    </a>\n                    .\n                  </Typography>\n                </Grid>\n                <Grid item xs>\n                  <List>\n                    {recordsForReview.map((record) => {\n                      return (\n                        <MetadataRecordListItem\n                          record={record}\n                          key={record.key}\n                          language={language}\n                          onViewClick={() =>\n                            this.editRecord(record.key, record.userinfo.userID)\n                          }\n                          onDeleteClick={() =>\n                            this.toggleModal(\n                              \"deleteModalOpen\",\n                              true,\n                              record.key,\n                              record.userinfo.userID\n                            )\n                          }\n                          onSubmitClick={() =>\n                            this.toggleModal(\n                              \"publishModalOpen\",\n                              true,\n                              record.key,\n                              record.userinfo.userID\n                            )\n                          }\n                          showPublishAction={record.status !== \"published\"}\n                        />\n                      );\n                    })}\n                  </List>\n                </Grid>\n              </>\n            ) : (\n              <Grid item xs>\n                <Typography>\n                  <En>There are no records waiting to be reviewed.</En>\n                  <Fr>Aucun dossier n'attend d'être examiné.</Fr>\n                </Typography>\n              </Grid>\n            )}\n\n            {recordsPublished.length ? (\n              <Grid item xs>\n                <Typography>\n                  <En>Published records:</En>\n                  <Fr>Documents publiés:</Fr>\n                </Typography>\n                <List>\n                  {recordsPublished.map((record, i) => {\n                    return (\n                      <MetadataRecordListItem\n                        record={record}\n                        key={i}\n                        language={language}\n                        onViewClick={() =>\n                          this.editRecord(record.key, record.userinfo.userID)\n                        }\n                        onDeleteClick={() =>\n                          this.toggleModal(\n                            \"deleteModalOpen\",\n                            true,\n                            record.key,\n                            record.userinfo.userID\n                          )\n                        }\n                      />\n                    );\n                  })}\n                </List>\n              </Grid>\n            ) : (\n              <Grid item xs>\n                <Typography>\n                  <En>There are no published records.</En>\n                  <Fr>Il n'y a pas d'enregistrements publiés</Fr>\n                </Typography>\n              </Grid>\n            )}\n          </>\n        )}\n      </Grid>\n    );\n  }\n}\n\nexport default Submissions;\n","import React from \"react\";\nimport {\n  Typography,\n  Button,\n  CircularProgress,\n  TextField,\n  Grid,\n} from \"@material-ui/core\";\nimport { Save } from \"@material-ui/icons\";\n\nimport firebase from \"../firebase\";\nimport { auth } from \"../auth\";\nimport { Fr, En } from \"./I18n\";\n\nconst unique = (arr) => [...new Set(arr)];\n\nclass Admin extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // array of strings which are email addresses or reviewers, admins\n      admins: [],\n      reviewers: [],\n      loading: false,\n    };\n  }\n\n  async componentDidMount() {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    this.setState({ loading: true });\n\n    this.unsubscribe = auth.onAuthStateChanged((user) => {\n      if (user) {\n        firebase\n          .database()\n          .ref(region)\n          .child(`permissions`)\n          .on(\"value\", (permissionsFirebase) => {\n            const permissions = permissionsFirebase.toJSON();\n\n            const admins = Object.values(permissions.admins || {});\n            const reviewers = Object.values(permissions.reviewers || {});\n\n            this.setState({\n              admins,\n              reviewers,\n              loading: false,\n            });\n          });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.unsubscribe) this.unsubscribe();\n  }\n\n  updatePermissions() {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    const { reviewers, admins } = this.state;\n    if (auth.currentUser) {\n      const dbRef = firebase.database().ref(region).child(\"permissions\");\n\n      dbRef.child(\"admins\").set(unique(admins));\n      dbRef.child(\"reviewers\").set(unique(reviewers));\n    }\n  }\n\n  render() {\n    const { loading, reviewers, admins } = this.state;\n    return (\n      <Grid container direction=\"column\" spacing={3}>\n        <Grid item xs>\n          <Typography variant=\"h5\">\n            <En>Admin</En>\n            <Fr>Admin</Fr>\n          </Typography>\n          <Typography>\n            <En>Add each admin or reviewer's email address on it's own line</En>\n            <Fr>\n              Ajouter l'adresse e-mail de chaque administrateur ou réviseur sur\n              sa propre ligne\n            </Fr>\n          </Typography>\n        </Grid>\n\n        {loading ? (\n          <CircularProgress />\n        ) : (\n          <>\n            <Grid item xs>\n              <Typography>\n                <En>Admins</En>\n                <Fr>Admins</Fr>\n              </Typography>\n            </Grid>\n            <Grid item xs>\n              <TextField\n                multiline\n                fullWidth\n                value={admins.join(\"\\n\")}\n                onChange={(e) =>\n                  this.setState({ admins: e.target.value.split(\"\\n\") })\n                }\n              />\n            </Grid>\n            <Grid item xs>\n              <Typography>\n                <En>Reviewers</En>\n                <Fr>Reviewers</Fr>\n              </Typography>\n            </Grid>\n            <Grid item xs>\n              <TextField\n                multiline\n                fullWidth\n                value={reviewers.join(\"\\n\")}\n                onChange={(e) =>\n                  this.setState({ reviewers: e.target.value.split(\"\\n\") })\n                }\n              />\n            </Grid>\n            <Grid item xs>\n              <Button\n                startIcon={<Save />}\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => this.updatePermissions()}\n              >\n                <En>Save</En>\n                <Fr>Enregistrer</Fr>\n              </Button>\n            </Grid>\n          </>\n        )}\n      </Grid>\n    );\n  }\n}\n\nexport default Admin;\n","import React from \"react\";\nimport { Typography } from \"@material-ui/core\";\n\nconst NotFound = () => {\n  return (\n    <div>\n      <Typography variant=\"h3\">Not Found / Non trouvé</Typography>\n    </div>\n  );\n};\n\nexport default NotFound;\n","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport * as Sentry from \"@sentry/react\";\n\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport Success from \"./Success\";\nimport Submissions from \"./Submissions\";\nimport Contacts from \"./Contacts\";\nimport NavDrawer from \"./NavDrawer\";\nimport MetadataForm from \"./MetadataForm\";\nimport EditContact from \"./EditContact\";\nimport Reviewer from \"./Reviewer\";\nimport Admin from \"./Admin\";\nimport NotFound from \"./NotFound\";\nimport UserProvider from \"../providers/UserProvider\";\n\nconst theme = createMuiTheme({\n  props: {\n    MuiTextField: {\n      variant: \"outlined\",\n    },\n    MuiSelect: {\n      variant: \"outlined\",\n    },\n    MuiButton: {\n      variant: \"outlined\",\n    },\n  },\n});\n\nconst BaseLayout = ({ match }) => {\n  return (\n    <UserProvider>\n      <ThemeProvider theme={theme}>\n        <NavDrawer>\n          <Switch>\n            <Route path={`${match.path}/`} exact component={Submissions} />\n            <Route\n              path={`${match.path}/new/:recordID`}\n              component={MetadataForm}\n            />\n            <Route path={`${match.path}/new`} component={MetadataForm} />\n            <Route\n              path={`${match.path}/review/:userID/:recordID`}\n              component={MetadataForm}\n            />\n            <Route\n              path={`${match.path}/contacts/new/:recordID`}\n              component={EditContact}\n            />\n            <Route\n              path={`${match.path}/contacts/new`}\n              component={EditContact}\n            />\n            <Route path={`${match.path}/contacts`} component={Contacts} />\n            <Route path={`${match.path}/success`} component={Success} />\n            <Route path={`${match.path}/submissions`} component={Submissions} />\n            <Route path={`${match.path}/reviewer`} component={Reviewer} />\n            <Route path={`${match.path}/admin`} component={Admin} />\n            <Route\n              path={`${match.path}/sentry-test`}\n              component={() => {\n                Sentry.captureException(new Error(\"Testing sentry\"));\n                return <h1>Error notification sent</h1>;\n              }}\n            />\n            <Route path=\"*\" component={NotFound} />\n          </Switch>\n        </NavDrawer>\n      </ThemeProvider>\n    </UserProvider>\n  );\n};\n\nexport default BaseLayout;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { ButtonBase, Typography, Grid } from \"@material-ui/core\";\n\nimport { useParams, useHistory } from \"react-router-dom\";\nimport regions from \"../regions\";\n\nconst images = [\n  {\n    url: \"/metadata-entry-form/pacific.jpg\",\n    title: \"pacific\",\n    width: \"30%\",\n  },\n  {\n    url: \"/metadata-entry-form/stlaurent.jpg\",\n    title: \"stlaurent\",\n    width: \"30%\",\n  },\n  {\n    url: \"/metadata-entry-form/atlantic.jpg\",\n    title: \"atlantic\",\n    width: \"30%\",\n  },\n];\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    minWidth: 300,\n    width: \"100%\",\n  },\n  image: {\n    position: \"relative\",\n    height: 200,\n    [theme.breakpoints.down(\"xs\")]: {\n      width: \"100% !important\", // Overrides inline-style\n      height: 100,\n    },\n    \"&:hover, &$focusVisible\": {\n      zIndex: 1,\n      \"& $imageBackdrop\": {\n        opacity: 0.15,\n      },\n      \"& $imageMarked\": {\n        opacity: 0,\n      },\n      \"& $imageTitle\": {\n        border: \"4px solid currentColor\",\n      },\n    },\n  },\n  focusVisible: {},\n  imageButton: {\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    color: theme.palette.common.white,\n  },\n  imageSrc: {\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    backgroundSize: \"cover\",\n    backgroundPosition: \"center 40%\",\n  },\n  imageBackdrop: {\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    backgroundColor: theme.palette.common.black,\n    opacity: 0.4,\n    transition: theme.transitions.create(\"opacity\"),\n  },\n  imageTitle: {\n    position: \"relative\",\n    padding: `${theme.spacing(2)}px ${theme.spacing(4)}px ${\n      theme.spacing(1) + 6\n    }px`,\n  },\n  imageMarked: {\n    height: 3,\n    width: 18,\n    backgroundColor: theme.palette.common.white,\n    position: \"absolute\",\n    bottom: -2,\n    left: \"calc(50% - 9px)\",\n    transition: theme.transitions.create(\"opacity\"),\n  },\n}));\n\nexport default function ButtonBases() {\n  const classes = useStyles();\n  const { language } = useParams();\n\n  const history = useHistory();\n\n  function handleRegionClick(region) {\n    history.push(`/${language}/${region}`);\n  }\n\n  return (\n    <Grid container spacing={2}>\n      {images.map((image) => (\n        <Grid item xs key={image.title}>\n          <ButtonBase\n            focusRipple\n            className={classes.image}\n            onClick={() => handleRegionClick(image.title)}\n            focusVisibleClassName={classes.focusVisible}\n            style={{\n              width: \"100%\",\n            }}\n          >\n            <span\n              className={classes.imageSrc}\n              style={{\n                backgroundImage: `url(${image.url})`,\n              }}\n            />\n            <span className={classes.imageBackdrop} />\n            <span className={classes.imageButton}>\n              <Typography\n                component=\"span\"\n                variant=\"subtitle1\"\n                color=\"inherit\"\n                className={classes.imageTitle}\n              >\n                {regions[image.title][language]}\n                <span className={classes.imageMarked} />\n              </Typography>\n            </span>\n          </ButtonBase>\n        </Grid>\n      ))}\n    </Grid>\n  );\n}\n","import React from \"react\";\nimport {\n  Route,\n  HashRouter as Router,\n  Redirect,\n  Switch,\n} from \"react-router-dom\";\nimport NavDrawer from \"./NavDrawer\";\n\nimport BaseLayout from \"./BaseLayout\";\nimport RegionSelect from \"./RegionSelect\";\n\nconst languagePath = \":language(en|fr)\";\nconst regionPath = \":region(pacific|atlantic|stlaurent)\";\n\nconst App = () => (\n  <Router basename=\"/\">\n    <Switch>\n      <Route exact path=\"/\">\n        <Redirect to=\"/en/region-select\" />\n      </Route>\n      <Route\n        path={`/${languagePath}/region-select`}\n        exact\n        component={() => (\n          <NavDrawer>\n            <RegionSelect />\n          </NavDrawer>\n        )}\n      />\n      <Route path={`/${languagePath}/${regionPath}`} component={BaseLayout} />\n      <Route path=\"*\">\n        <Redirect to=\"/en/region-select\" />\n      </Route>\n    </Switch>\n  </Router>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as Sentry from \"@sentry/react\";\nimport { Integrations } from \"@sentry/tracing\";\n\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nif (process.env.NODE_ENV === \"production\")\n  Sentry.init({\n    dsn:\n      \"https://8fd4b6885cc447c0b11aa0cb3009b0e3@o56764.ingest.sentry.io/5493983\",\n    integrations: [new Integrations.BrowserTracing()],\n\n    // We recommend adjusting this value in production, or using tracesSampler\n    // for finer control\n    tracesSampleRate: 1.0,\n  });\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}