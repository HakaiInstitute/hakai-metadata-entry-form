(this["webpackJsonpcioos-metadata-entry-form"]=this["webpackJsonpcioos-metadata-entry-form"]||[]).push([[0],{1:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return c}));var n=a(0),r=a.n(n),i=a(39),l=function(e){return function(t){var a=t.children;return Object(i.i)().language===e&&r.a.createElement(r.a.Fragment,null,a)}},o=l("en"),s=l("fr"),c=function(e){var t=e.en,a=e.fr,n=Object(i.i)().language;return t||a?t&&a?"en"===(void 0===n?"en":n)?t:a:(console.error("Tag missing french or english!"),null):(Array.isArray(e.children)&&2!==e.children.length&&console.error(e,"Tag missing french or english!"),e.children)}},10:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return s}));var n=a(0),r=a.n(n),i=a(51),l=function(e){var t=e.children;return r.a.createElement(i.a,{variant:"body2",component:"div",style:{marginTop:"10px"}},t)},o=function(e){var t=e.children;return r.a.createElement(i.a,{variant:"body1",component:"div",style:{marginBottom:"10px"}},t)},s={padding:"10px",margin:"20px",width:"90%"}},113:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return d})),a.d(t,"c",(function(){return f}));var n=a(7),r=a.n(n),i=a(12),l=a(18);function o(e){return s.apply(this,arguments)}function s(){return(s=Object(i.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=l.a.database().ref("admin").child(t).child("dataciteCredentials"),e.next=4,a.remove();case 4:return e.abrupt("return",{success:!0,message:"All Datacite credentials deleted successfully."});case 7:return e.prev=7,e.t0=e.catch(0),console.error("Error deleting Datacite credentials:",e.t0),e.abrupt("return",{success:!1,message:"Failed to delete Datacite credentials."});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function c(e){return u.apply(this,arguments)}function u(){return(u=Object(i.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.database().ref("admin").child(t).child("dataciteCredentials").child("prefix").once("value");case 3:return a=e.sent.val(),e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),console.error("Error fetching Datacite Prefix for region ".concat(t,":"),e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return(m=Object(i.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.database().ref("admin").child(t).child("dataciteCredentials").child("dataciteHash").once("value");case 3:return a=e.sent.val(),e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),console.error("Error fetching Datacite Auth Hash for region ".concat(t,":"),e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function f(e){return p.apply(this,arguments)}function p(){return(p=Object(i.a)(r.a.mark((function e(t){var a,n,i,o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=l.a.database().ref("admin").child(t).child("dataciteCredentials"),e.next=4,a.child("dataciteHash").once("value");case 4:return n=e.sent,e.next=7,a.child("prefix").once("value");case 7:return i=e.sent,o=n.val(),s=i.val(),e.abrupt("return",o&&""!==o&&s&&""!==s);case 13:return e.prev=13,e.t0=e.catch(0),console.error("Error checking Datacite credentials:",e.t0),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}},18:function(e,t,a){"use strict";var n=a(203),r=a.n(n),i=(a(346),a(348),a(350),a(352),{apiKey:"AIzaSyBz4kb3hJHXw0voYZgHZuAgmqGosxntMHM",authDomain:"cioos-metadata-form.firebaseapp.com",databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/metadata-entry-form",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_GOOGLE_CLOUD_API_KEY:"AIzaSyBz4kb3hJHXw0voYZgHZuAgmqGosxntMHM",REACT_APP_GOOGLE_CLOUD_API_KEY_DEV:"AIzaSyADkNENzpoqj3O7uGPsRA_4s1zQdbH708c"}).REACT_APP_DEV_DEPLOYMENT?"https://cioos-metadata-form-dev.firebaseio.com":"https://cioos-metadata-form.firebaseio.com",projectId:"cioos-metadata-form",storageBucket:"cioos-metadata-form.appspot.com",messagingSenderId:"646114203434",appId:"1:646114203434:web:bccceadc5144270f98f053"});r.a.initializeApp(i),t.a=r.a},23:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return l}));var n=a(18),r=new n.a.auth.GoogleAuthProvider;r.setCustomParameters({promt:"select_account"});var i=n.a.auth(),l=function(){return i.signInWithPopup(r)}},276:function(e,t,a){e.exports=a.p+"static/media/emlTemplate.998d6686.j2"},288:function(e){e.exports=JSON.parse('[{"identifier":"91","label_en":"ice island","label_fr":"\xeele de glace","definition_en":"A floating ice sheet detached from the coast.","definition_fr":"Un iceberg ou bloc de glace flottant d\xe9tach\xe9 d\'un glacier."},{"identifier":"6C","label_en":"parachute","label_fr":"parachute","definition_en":"A fabric sheet designed to slow the descent of an object through the atmosphere.","definition_fr":"Un morceau de tissu con\xe7u pour ralentir la descente d\'un objet dans l\'atmosph\xe8re."},{"identifier":"6A","label_en":"glider","label_fr":"planeur","definition_en":"A fixed-wing aircraft with no propulsion.","definition_fr":"Un a\xe9ronef \xe0 voilure fixe sans propulsion."},{"identifier":"9A","label_en":"DUKW","label_fr":"DUKW","definition_en":"A six-wheel drive amphibious truck developed during the second World War.","definition_fr":"Un camion amphibie \xe0 six roues motrices d\xe9velopp\xe9 pendant la Seconde Guerre mondiale."},{"identifier":"38","label_en":"man-powered boat","label_fr":"bateau \xe0 propulsion humaine","definition_en":"A platform operating on the surface of the water column that is manually propelled and may not be easily removed from the water (e.g. trireme).","definition_fr":"Une plateforme fonctionnant \xe0 la surface de la colonne d\'eau qui est propuls\xe9e manuellement et qui peut ne pas \xeatre facilement retir\xe9e de l\'eau (par exemple trir\xe8me)."},{"identifier":"15","label_en":"land/onshore vehicle","label_fr":"v\xe9hicule terrestre","definition_en":"An instrumented vehicle or sample collector that operates on the solid surface of the Earth (e.g. mobile meteorological station, land crawler, snowmobile).","definition_fr":"Un v\xe9hicule instrument\xe9 ou un collecteur d\'\xe9chantillons qui fonctionne sur la surface solide de la Terre (par exemple: station m\xe9t\xe9orologique mobile, v\xe9hicule \xe0 chenille terrestre, motoneige)."},{"identifier":"13","label_en":"beach/intertidal zone structure","label_fr":"structure de plage/zone intertidale","definition_en":"A structure to which instrumentation may be attached that is either in air or under water depending on the state of the tide and weather conditions.","definition_fr":"Structure sur laquelle des instruments peuvent \xeatre fix\xe9s et qui se trouvent dans l\'air ou sous l\'eau en fonction de l\'\xe9tat de la mar\xe9e et des conditions m\xe9t\xe9orologiques."},{"identifier":"19","label_en":"mesocosm bag","label_fr":"sac \xe0 m\xe9socosme","definition_en":"A large polythene bag containing a water sample suspended in the natural environment so that it shares ambient physical conditions such as temperature and light levels, but is chemically isolated to allow experiments such as fertilisation.","definition_fr":"Grand sac en poly\xe9thyl\xe8ne contenant un volume d\'eau en suspension dans l\'environnement naturel afin qu\'il partage les conditions physiques ambiantes telles que la temp\xe9rature et les niveaux de lumi\xe8re, mais qui est isol\xe9 chimiquement pour permettre des exp\xe9riences telles que la fertilisation."},{"identifier":"34","label_en":"vessel at fixed position","label_fr":"navire en position fixe","definition_en":"A platform of any size occupying a fixed location on the surface of the water column for prolonged periods collecting scientific (oceanographic and meteorological) data as a primary or secondary mission. Includes light vessels and weather ships.","definition_fr":"Plateforme de toute taille occupant un emplacement fixe \xe0 la surface de la colonne d\'eau pendant de longues p\xe9riodes collectant des donn\xe9es scientifiques (oc\xe9anographiques et m\xe9t\xe9orologiques) en tant que mission principale ou secondaire. Inclut les navires l\xe9gers et les navires m\xe9t\xe9orologiques."},{"identifier":"17","label_en":"coastal structure","label_fr":"structure c\xf4ti\xe8re","definition_en":"A fixed man-made structure permanently linked to land with access to water at all states of the tide to which instrumentation may be attached (e.g. pier).","definition_fr":"Une structure artificielle fixe sur laquelle des instruments peuvent \xeatre fix\xe9s et qui est reli\xe9e en permanence \xe0 la terre avec un acc\xe8s \xe0 l\'eau peu importe l\'\xe9tat de la mar\xe9e  (par exemple, une jet\xe9e)."},{"identifier":"36","label_en":"fishing vessel","label_fr":"navire de p\xeache","definition_en":"A platform operating on the surface of the water column whose primary purpose is the commercial harvesting of fish or shellfish but may be engaged in scientific activities such as fish stock surveys or mooring deployments and recoveries.","definition_fr":"Plateforme op\xe9rant \xe0 la surface de la colonne d\'eau et dont l\'objectif principal est la r\xe9colte commerciale de poissons ou de crustac\xe9s, mais qui peut \xeatre engag\xe9e dans des activit\xe9s scientifiques telles que des \xe9tudes de stocks de poissons ou des d\xe9ploiements et des r\xe9cup\xe9rations d\'amarrages."},{"identifier":"30","label_en":"ship","label_fr":"navire","definition_en":"A large platform operating on the surface of the water column. Objective definitions for guidelines: >50m length (EU), >100 foot length (USA), >300 GRT weight (SOLAS). Subjective definition: a ship is a vessel big enough to carry a boat.","definition_fr":"Une grande plateforme fonctionnant \xe0 la surface de la colonne d\'eau. D\xe9finitions des objectifs pour les lignes directrices : > 50 m de longueur (UE), > 100 pieds de longueur (\xc9tats-Unis), > 300 poids brut (SOLAS). D\xe9finition subjective : un vaisseau est un navire suffisamment grand pour transporter un bateau."},{"identifier":"76","label_en":"fish","label_fr":"poisson","definition_en":"A free-swimming creature that exists totally within the water column.","definition_fr":"Une cr\xe9ature qui nage librement et qui vit dans la colonne d\'eau."},{"identifier":"53","label_en":"tethered balloon","label_fr":"ballon captif","definition_en":"A container filled with a gas that is lighter than air, which is tethered at a fixed height and location.","definition_fr":"R\xe9cipient rempli d\'un gaz plus l\xe9ger que l\'air, qui est attach\xe9 \xe0 une hauteur et \xe0 un emplacement fixes."},{"identifier":"0","label_en":"unknown","label_fr":"inconnu","definition_en":"The correct value is not known to, and not computable by, the creator of this information. However, a correct value probably exists.","definition_fr":"La valeur correcte n\'est pas connue du cr\xe9ateur de ces informations et ne peut pas \xeatre calcul\xe9e par lui. Cependant, il existe probablement une valeur correcte."},{"identifier":"74","label_en":"seabird and duck","label_fr":"oiseau de mer et canard","definition_en":"A flighted bird that is able to exist on the water column surface and dive into the water column (e.g. cormorants, auks, ducks and gulls).","definition_fr":"Oiseau en vol capable d\'exister \xe0 la surface et de plonger dans la colonne d\'eau (cormorans, pingouins, canards et go\xe9lands)."},{"identifier":"32","label_en":"vessel of opportunity","label_fr":"navire occasionnel (VOS)","definition_en":"A platform for purpose of commerce of any size operating on the surface of the water column in unpredictable locations that regularly collects scientific (oceanographic and meteorological) data (e.g. an instrumented cargo vessel).","definition_fr":"Plateforme commerciale de toute taille op\xe9rant \xe0 la surface de la colonne d\'eau dans des lieux impr\xe9visibles qui recueille r\xe9guli\xe8rement des donn\xe9es scientifiques (oc\xe9anographiques et m\xe9t\xe9orologiques) (par exemple un cargo instrument\xe9)."},{"identifier":"72","label_en":"diver","label_fr":"plongeur","definition_en":"A human being with self-contained equipment or surface-connected suit enabling operation within the water column.","definition_fr":"Un \xeatre humain dot\xe9 d\'un \xe9quipement autonome ou d\'une combinaison connect\xe9e en surface permettant le fonctionnement dans la colonne d\'eau."},{"identifier":"95","label_en":"amphibious vehicle","label_fr":"v\xe9hicule amphibie","definition_en":"A self-propelled platform capable of operating on land and within or on the surface of a water body.","definition_fr":"Plateforme automotrice capable de fonctionner sur terre et \xe0 l\'int\xe9rieur ou \xe0 la surface d\'un plan d\'eau."},{"identifier":"11","label_en":"fixed benthic node","label_fr":"platform benthique fixe","definition_en":"A collection of oceanographic instruments mounted at a fixed position on the seabed (e.g. POL Monitoring Platform, seabed ADCP).","definition_fr":"Ensemble d\'instruments oc\xe9anographiques positionn\xe9 de mani\xe8re fixe sur le fond marin (par exemple, plateforme de surveillance POL, ADCP du fond marin)."},{"identifier":"70","label_en":"organism","label_fr":"organisme","definition_en":"A living creature carrying instruments or collecting samples.","definition_fr":"Cr\xe9ature vivante transportant des instruments ou pr\xe9levant des \xe9chantillons."},{"identifier":"93","label_en":"pack ice","label_fr":"banquise","definition_en":"Sea ice not connected to land with an ice concentration of over 70 per cent.","definition_fr":"Glace de mer non reli\xe9e \xe0 la terre avec une concentration de glace sup\xe9rieure \xe0 70 pour cent."},{"identifier":"51","label_en":"free-rising balloon","label_fr":"ballon a\xe9rostat","definition_en":"A container filled with a gas that is lighter than air, which is constrained to rise vertically at a fixed location.","definition_fr":"R\xe9cipient rempli d\'un gaz plus l\xe9ger que l\'air, qui est contraint de monter verticalement en un endroit fixe."},{"identifier":"3D","label_en":"drillship","label_fr":"navire de forage","definition_en":"A drillship is a merchant vessel designed for use in exploratory offshore drilling of new oil and gas wells or for scientific drilling purposes.","definition_fr":"Un navire de forage est un navire marchand con\xe7u pour \xeatre utilis\xe9 dans le forage exploratoire de nouveaux puits de p\xe9trole et de gaz  en mer ou \xe0 des fins de forage scientifique."},{"identifier":"3B","label_en":"autonomous surface water vehicle","label_fr":"v\xe9hicule autonome pour les eaux de surface","definition_en":"A self-propelled vehicle operating on the sea surface with no human occupants.","definition_fr":"Un v\xe9hicule automoteur circulant \xe0 la surface de la mer sans occupants humains."},{"identifier":"49","label_en":"surface ice buoy","label_fr":"bou\xe9e de glace de surface","definition_en":"An undrogued (i.e. no sub-surface parachute) surface float that is deployed in regions where sea ice forms that moves with either ice or water depending upon the time of year.","definition_fr":"Flotteur de surface sans ancre flottante d\xe9ploy\xe9 dans les r\xe9gions o\xf9 se forme de la glace de mer qui se d\xe9place avec la glace ou l\'eau en fonction de la p\xe9riode de l\'ann\xe9e."},{"identifier":"3Z","label_en":"surface vessel","label_fr":"navire de surface","definition_en":"A mobile platform with propulsion operating on and restricted to the surface of a water body.","definition_fr":"Une plateforme mobile dont la propulsion fonctionne et est limit\xe9e \xe0 la surface d\'un plan d\'eau."},{"identifier":"24","label_en":"drifting manned submersible","label_fr":"submersible d\xe9rivant habit\xe9","definition_en":"A platform operating in the water column attached to a mothership by an umbilical but with no means of propulsion that has at least one human operator on board (e.g. bathysphere).","definition_fr":"plateforme fonctionnant dans la colonne d\'eau rattach\xe9e \xe0 un vaisseau-m\xe8re par un ombilical mais sans moyen de propulsion et comportant au moins un op\xe9rateur humain \xe0 bord (par exemple bathysph\xe8re)."},{"identifier":"45","label_en":"fixed subsurface vertical profiler","label_fr":"profileur vertical souterrain fixe","definition_en":"A platform that periodically makes an automated vertical traverse of the water column at a predetermined fixed location. (e.g. YSI vertical profiler, HOMER CTD).","definition_fr":"plateforme qui effectue p\xe9riodiquement un profil vertical automatis\xe9 de la colonne d\'eau \xe0 un emplacement fixe pr\xe9d\xe9termin\xe9. (par exemple profileur vertical YSI, HOMER CTD)."},{"identifier":"68","label_en":"satellite","label_fr":"satellite","definition_en":"A vehicle operating beyond the Earth\'s atmosphere without human occupants that orbits the Earth.","definition_fr":"Un v\xe9hicule non habit\xe9 circulant au-del\xe0 de l\'atmosph\xe8re terrestre en orbite autour de la Terre."},{"identifier":"26","label_en":"lowered unmanned submersible","label_fr":"submersible treuill\xe9 non habit\xe9","definition_en":"An unmanned platform lowered and raised vertically by a cable from the mothership. Includes any type of profiling sensor mounting such as CTD frames, profiling radiometers and instrumented nets.","definition_fr":"Une plateforme non habit\xe9e mont\xe9e est descendue verticalement (treuill\xe9) par un c\xe2ble depuis le vaisseau-m\xe8re. Inclut tout type de capteurs de profilage tels que les cadres CTD, les radiom\xe8tres de profilage et les r\xe9seaux instrument\xe9s."},{"identifier":"47","label_en":"float","label_fr":"bou\xe9e","definition_en":"A free-floating platform either on the surface of the water column or at a predetermined depth within the water column.","definition_fr":"Une plateforme flottante soit \xe0 la surface de la colonne d\'eau, soit \xe0 une profondeur pr\xe9d\xe9termin\xe9e dans la colonne d\'eau."},{"identifier":"20","label_en":"submersible","label_fr":"submersible","definition_en":"A platform operating within a water body.","definition_fr":"Plateforme fonctionnant dans un plan d\'eau."},{"identifier":"66","label_en":"manned spacecraft","label_fr":"vaisseau spatial habit\xe9","definition_en":"A vehicle operating beyond the Earth\'s atmosphere with human occupants.","definition_fr":"Un v\xe9hicule \xe9voluant au-del\xe0 de l\'atmosph\xe8re terrestre avec des occupants humains."},{"identifier":"41","label_en":"moored surface buoy","label_fr":"bou\xe9e de surface amarr\xe9e","definition_en":"An unmanned instrumented platform operating on the surface of the water column loosely tethered to the seafloor to maintain a fixed position (e.g. ODAS buoy).","definition_fr":"Une plateforme instrument\xe9e non habit\xe9e fonctionnant \xe0 la surface de la colonne d\'eau et attach\xe9e de mani\xe8re l\xe2che au fond marin pour maintenir une position fixe (par exemple une bou\xe9e ODAS)."},{"identifier":"64","label_en":"geostationary orbiting satellite","label_fr":"satellite orbital g\xe9ostationnaire","definition_en":"A vehicle operating beyond the Earth\'s atmosphere without human occupants that orbits the Earth at the same rate as the Earth\'s rotation keeping it over a fixed location on the Earth\'s surface..","definition_fr":"Un v\xe9hicule circulant au-del\xe0 de l\'atmosph\xe8re terrestre sans occupants humains qui orbite autour de la Terre au m\xeame rythme que la rotation de la Terre en la maintenant au-dessus d\'un emplacement fixe sur la surface de la Terre."},{"identifier":"22","label_en":"propelled unmanned submersible","label_fr":"submersible propuls\xe9 non habit\xe9","definition_en":"A platform operating in the water column attached to a mothership by an umbilical with limited propulsion and no human operator on board (e.g. ROV).","definition_fr":"Plateforme non habit\xe9e fonctionnant dans la colonne d\'eau, rattach\xe9e \xe0 un vaisseau-m\xe8re par un ombilical et dont sa propulsion propre est limit\xe9e (par exemple ROV)."},{"identifier":"43","label_en":"subsurface mooring","label_fr":"amarrage sous marin","definition_en":"A collection of oceanographic instruments attached to wires suspended between anchors on the seabed and buoyant spheres in the water column.","definition_fr":"Collection d\'instruments oc\xe9anographiques attach\xe9s \xe0 un cable tir\xe9 entre une ancre sur le fond marin et des sph\xe8res flottantes dans la colonne d\'eau."},{"identifier":"62","label_en":"aeroplane","label_fr":"avion","definition_en":"A fixed-wing self-propelled aircraft.","definition_fr":"Un avion automoteur \xe0 voilure fixe."},{"identifier":"60","label_en":"non-buoyant aircraft","label_fr":"a\xe9rodyne","definition_en":"A platform capable of flight in the atmosphere despite its being heavier than air.","definition_fr":"Une plateforme capable de voler dans l\'atmosph\xe8re m\xeame si elle est plus lourde que l\'air."},{"identifier":"90","label_en":"cryosphere","label_fr":"cryosph\xe8re","definition_en":"A frozen body of water on land, freshwater or sea.","definition_fr":"Portions de la surface des mers ou terres \xe9merg\xe9es o\xf9 l\'eau est pr\xe9sente \xe0 l\'\xe9tat solide"},{"identifier":"4A","label_en":"Ice-tethered subsurface profiling float","label_fr":"bou\xe9e de profilage sous-marine li\xe9 \xe0 la glace","definition_en":"A platform that periodically makes an automated vertical traverse of the water column that is fixed to a floating body of ice.","definition_fr":"plateforme fix\xe9e \xe0 un corps de glace flottant qui effectue p\xe9riodiquement une travers\xe9e verticale automatis\xe9e de la colonne d\'eau ."},{"identifier":"6D","label_en":"unmanned aerial vehicle","label_fr":"v\xe9hicule a\xe9rien sans pilote","definition_en":"Any untethered heavier-than-air aircraft that is not occupied by people: may be a remotely piloted aircraft or an autonomous aircraft. Also referred to as a drone.","definition_fr":"Tout a\xe9ronef non attach\xe9 plus lourd que l\'air qui n\'est pas occup\xe9 par des personnes : il peut s\'agir d\'un a\xe9ronef t\xe9l\xe9pilot\xe9 ou d\'un avion autonome. \xc9galement appel\xe9 drone."},{"identifier":"6B","label_en":"kite","label_fr":"cerf-volant","definition_en":"An aerofoil tethered to the ground held aloft by the wind.","definition_fr":"Une surface portante attach\xe9e au sol et maintenu en altitude par le vent."},{"identifier":"39","label_en":"naval vessel","label_fr":"navire militaire","definition_en":"A platform operating on the surface of the water column in unpredictable locations that is primarily equipped, manned and operated for military purposes. Includes surface warships of all sizes and logistic support vessels.","definition_fr":"Plateforme op\xe9rant \xe0 la surface de la colonne d\'eau dans des endroits impr\xe9visibles qui est principalement \xe9quip\xe9e, habit\xe9e et exploit\xe9e \xe0 des fins militaires. Comprend les navires de guerre de surface de toutes tailles et les navires de soutien logistique."},{"identifier":"14","label_en":"land/onshore structure","label_fr":"structure terrestre","definition_en":"A fixed man-made structure on land to which instrumentation may be attached (e.g. meteorological tower).","definition_fr":"Une structure terrestre artificielle fixe sur laquelle des instruments peuvent \xeatre attach\xe9s (par exemple une tour m\xe9t\xe9orologique)."},{"identifier":"12","label_en":"sea bed vehicle","label_fr":"v\xe9hicule benthique","definition_en":"An instrumented platform that is propelled on wheels or tracks on the seabed (e.g benthic crawler).","definition_fr":"Une plateforme instrument\xe9e qui est propuls\xe9e sur des roues ou des chenilles sur le fond marin (par exemple, chenille benthique)."},{"identifier":"6Z","label_en":"spacecraft","label_fr":"vaisseau spatial","definition_en":"A platform operating beyond the Earth\'s atmosphere.","definition_fr":"Une plateforme qui fonctionne au-del\xe0 de l\'atmosph\xe8re terrestre."},{"identifier":"18","label_en":"river station","label_fr":"station de rivi\xe8re","definition_en":"An instrumented structure in a river upstream of its tidal limit.","definition_fr":"Structure instrument\xe9e dans une rivi\xe8re en amont de la limite de mar\xe9e."},{"identifier":"35","label_en":"vessel of opportunity on fixed route","label_fr":"navire occasionnel (VOS) en itin\xe9raire fixe","definition_en":"A platform repeatedly following a predictable fixed track on the surface of the water column that collects scientific (oceanographic and meteorological) data (e.g. an instrumented ferry).","definition_fr":"Une plateforme qui suit de fa\xe7on r\xe9p\xe9t\xe9e une trajectoire fixe pr\xe9visible \xe0 la surface de la colonne d\'eau qui recueille des donn\xe9es scientifiques (oc\xe9anographiques et m\xe9t\xe9orologiques) (par exemple un traversier instrument\xe9)."},{"identifier":"16","label_en":"offshore structure","label_fr":"structure hauturi\xe8re","definition_en":"A fixed (for the duration of the measurements) man-made structure away from the coast to which instrumentation may be attached (e.g. oil rig, gas rig or jack-up barge).","definition_fr":"Une structure artificielle fixe (pour la dur\xe9e des mesures) \xe9loign\xe9e de la c\xf4te sur laquelle peuvent \xeatre fix\xe9s des instruments (par exemple, plateforme p\xe9troli\xe8re, plateforme gazi\xe8re ou barge auto-\xe9l\xe9vatrice)."},{"identifier":"37","label_en":"self-propelled boat","label_fr":"bateau automoteur","definition_en":"A small self-propelled platform operating on the surface of the water column in unpredictable locations that is smaller than a ship, but too large to easily remove from the water.","definition_fr":"Petite plateforme automotrice op\xe9rant \xe0 la surface de la colonne d\'eau dans des endroits impr\xe9visibles, plus petite qu\'un navire, mais trop grande pour \xeatre facilement retir\xe9e de l\'eau."},{"identifier":"52","label_en":"free-floating balloon","label_fr":"ballon flottant","definition_en":"A container filled with a gas that is lighter than air, which is free to drift in the atmosphere.","definition_fr":"R\xe9cipient rempli d\'un gaz plus l\xe9ger que l\'air, libre de d\xe9river dans l\'atmosph\xe8re."},{"identifier":"31","label_en":"research vessel","label_fr":"navire de recherche","definition_en":"A platform of any size operating on the surface of the water column in unpredictable locations that is specifically equipped, manned and operated for scientific, usually oceanographic, research.","definition_fr":"plateforme de toute taille op\xe9rant \xe0 la surface de la colonne d\'eau dans des lieux impr\xe9visibles, sp\xe9cialement \xe9quip\xe9e, habit\xe9e et exploit\xe9e pour la recherche scientifique, g\xe9n\xe9ralement oc\xe9anographique."},{"identifier":"77","label_en":"land-sea mammals","label_fr":"mammif\xe8res amphibie marin","definition_en":"A mammal that exists both on land and within the water column. Includes seals, sealions, sea-otters and walruses.","definition_fr":"Mammif\xe8re qui vit \xe0 la fois sur terre et dans la colonne d\'eau. Comprend les phoques, les otaries, les loutres de mer et les morses."},{"identifier":"96","label_en":"amphibious crawler","label_fr":"v\xe9hicule amphibie \xe0 chenille","definition_en":"A self-propelled vehicle capable of operation on land or the seabed (e.g. beach crawler).","definition_fr":"V\xe9hicule automoteur capable de fonctionner sur terre ou sur le fond marin (par exemple, chenille de plage)."},{"identifier":"54","label_en":"airship","label_fr":"dirigeable","definition_en":"A self-propelled container filled with a gas that is lighter than air.","definition_fr":"Conteneur autopropuls\xe9 rempli d\'un gaz plus l\xe9ger que l\'air."},{"identifier":"75","label_en":"cetacean","label_fr":"c\xe9tac\xe9","definition_en":"A mammal that exists within the water column but needing to regularly surface to breathe (i.e. dolphins and whales).","definition_fr":"Mammif\xe8re pr\xe9sent dans la colonne d\'eau mais qui a besoin de remonter r\xe9guli\xe8rement \xe0 la surface pour respirer (c\'est-\xe0-dire les dauphins et les baleines)."},{"identifier":"33","label_en":"self-propelled small boat","label_fr":"petit bateau automoteur","definition_en":"A small self-propelled platform operating on the surface of the water column that may be easily removed from the water (e.g. shore-based RIBs, ships\' boats).","definition_fr":"Petite plateforme automotrice fonctionnant \xe0 la surface de la colonne d\'eau qui peut \xeatre facilement retir\xe9e de l\'eau (par exemple, semi-rigides \xe0 terre, bateaux de navires)."},{"identifier":"94","label_en":"drift ice","label_fr":"glace d\xe9rivante","definition_en":"Sea ice not connected to land with an ice concentration of under 70 per cent.","definition_fr":"Glace de mer non reli\xe9e \xe0 la terre avec une concentration de glace inf\xe9rieure \xe0 70 pour cent."},{"identifier":"10","label_en":"land or seafloor","label_fr":"terre ou fond marin","definition_en":"A platform located on the solid surface of the Earth either above or below sea level.","definition_fr":"plateforme situ\xe9e sur la surface solide de la Terre au-dessus ou au-dessous du niveau de la mer."},{"identifier":"73","label_en":"flightless bird","label_fr":"oiseau inapte au vol","definition_en":"A bird that is unable to fly with the ability to exist within the water column (e.g. penguin).","definition_fr":"Oiseau incapable de voler avec la capacit\xe9 d\'exister dans la colonne d\'eau (par exemple, manchot)."},{"identifier":"92","label_en":"ice shelf","label_fr":"plateforme de glace flottante","definition_en":"A floating ice sheet attached to the coast.","definition_fr":"Une calotte glaciaire flottante attach\xe9e \xe0 la c\xf4te."},{"identifier":"50","label_en":"buoyant aircraft","label_fr":"avion a\xe9rostat","definition_en":"A platform capable of flight in the atmosphere because it is lighter than air.","definition_fr":"Une plateforme capable de voler dans l\'atmosph\xe8re parce qu\'elle est plus l\xe9g\xe8re que l\'air."},{"identifier":"71","label_en":"human","label_fr":"humain","definition_en":"A human being without specialised equipment operating on land or the surface of the water column.","definition_fr":"Un \xeatre humain sans \xe9quipement sp\xe9cialis\xe9 op\xe9rant sur terre ou \xe0 la surface de la colonne d\'eau."},{"identifier":"3A","label_en":"man-powered small boat","label_fr":"petit bateau \xe0 propulsion humaine","definition_en":"A platform operating on the surface of the water column that is manually propelled and may be easily removed from the water (e.g. rowing boat, canoe).","definition_fr":"Une plateforme fonctionnant \xe0 la surface de la colonne d\'eau qui est propuls\xe9e manuellement et peut \xeatre facilement retir\xe9e de l\'eau (par exemple bateau \xe0 rames, cano\xeb)."},{"identifier":"3C","label_en":"surface gliders","label_fr":"planeurs de surface","definition_en":"Platforms operating at a single depth near the sea surface, using a combination of solar energy and wave motion as means of propulsion.","definition_fr":"Plateforme fonctionnant \xe0 une seule profondeur pr\xe8s de la surface de la mer, utilisant une combinaison d\'\xe9nergie solaire et de mouvement des vagues comme moyens de propulsion."},{"identifier":"9B","label_en":"hovercraft","label_fr":"a\xe9roglisseur","definition_en":"A craft capable of moving over water or land on a downwardly-propelled cushion of air.","definition_fr":"Engin capable de se d\xe9placer au-dessus de l\'eau ou d\'atterrir sur un coussin d\'air propuls\xe9 vers le bas."},{"identifier":"27","label_en":"sub-surface gliders","label_fr":"planeurs sous-marins","definition_en":"Platforms with buoyancy-based propulsion that are capable of operations at variable depths which are not constrained to be near the sea surface.","definition_fr":"Plateforme dont la propulsion repose le remplissage de ballast (modification de flottabilit\xe9) et capable de fonctionner \xe0 des profondeurs variables no contraintes \xe0 surface de la mer."},{"identifier":"46","label_en":"drifting subsurface profiling float","label_fr":"profileur sous-marine d\xe9rivant","definition_en":"An unmanned instrumented platform drifting freely in the water column that periodically makes vertical traverses through the water column (e.g. Argo float).","definition_fr":"Une plateforme instrument\xe9e sans pilote d\xe9rivant librement dans la colonne d\'eau qui effectue p\xe9riodiquement des travers\xe9es verticales \xe0 travers la colonne d\'eau (par exemple, flotteur Argo)."},{"identifier":"23","label_en":"towed unmanned submersible","label_fr":"submersible non habit\xe9 remorqu\xe9","definition_en":"A vehicle towed by rigid cable through the water column at fixed or varying depth with no propulsion and no human operator (e.g. Towfish, Scanfish, UOR, SeaSoar).","definition_fr":"V\xe9hicule remorqu\xe9 par c\xe2ble rigide \xe0 travers la colonne d\'eau \xe0 une profondeur fixe ou variable, sans propulsion et sans op\xe9rateur humain (par exemple Towfish, Scanfish, UOR, SeaSoar)."},{"identifier":"69","label_en":"autogyro","label_fr":"autogyre","definition_en":"An aircraft without wings that obtains its lift from the rotation of overhead blades, but obtains forward populsion from a fixed propellor.","definition_fr":"A\xe9ronef sans ailes dont la portance provient de la rotation des pales a\xe9riennes, mais qui obtient une pouss\xe9e vers l\'avant \xe0 partir d\'une h\xe9lice fixe."},{"identifier":"48","label_en":"mooring","label_fr":"mouillage","definition_en":"A tethered collection of oceanographic instruments at a fixed location that may include seafloor, mid-water and surface components.","definition_fr":"Ensemble d\'instruments oc\xe9anographiques encord\xe9 \xe0 un emplacement fixe pouvant inclure des \xe9l\xe9ments du fond marin, du milieu de l\'eau et de la surface."},{"identifier":"67","label_en":"helicopter","label_fr":"h\xe9licopt\xe8re","definition_en":"An aircraft without wings that obtains its lift from the rotation of overhead blades.","definition_fr":"Un avion sans ailes qui tire sa portance de la rotation des pales a\xe9riennes."},{"identifier":"25","label_en":"autonomous underwater vehicle","label_fr":"v\xe9hicule sous-marin autonome","definition_en":"A free-roving platform operating in the water column with propulsion but no human operator on board (e.g. Autosub, Gavia).","definition_fr":"Une plateforme mobile fonctionnant dans la colonne d\'eau avec propulsion mais sans op\xe9rateur humain \xe0 bord (par exemple Autosub, Gavia)."},{"identifier":"42","label_en":"drifting surface float","label_fr":"bou\xe9e de surface d\xe9rivante","definition_en":"An unmanned instrumented platform operating on the surface of the water column often attached to a drogue to track currents rather than winds (e.g. Argos buoy).","definition_fr":"Plateforme instrument\xe9e sans pilote \xe9voluant \xe0 la surface de la colonne d\'eau, souvent fix\xe9e \xe0 une ancre flottante pour suivre les courants plut\xf4t que les vents (par exemple, une bou\xe9e Argos)."},{"identifier":"65","label_en":"orbiting satellite","label_fr":"satellite en orbite","definition_en":"A vehicle operating beyond the Earth\'s atmosphere without human occupants that orbits the Earth at a different rate to the Earth\'s rotation so it moves over the Earth\'s surface..","definition_fr":"Un v\xe9hicule \xe9voluant au-del\xe0 de l\'atmosph\xe8re terrestre sans occupants humains qui orbite autour de la Terre \xe0 une vitesse diff\xe9rente de celle de la Terre de sorte qu\'il se d\xe9place au-dessus de la surface de la Terre."},{"identifier":"44","label_en":"drifting subsurface float","label_fr":"flotteur d\xe9rivant de subsurface","definition_en":"An unmanned instrumented platform drifting freely in the water column at a depth governed by its density (e.g. Swallow float).","definition_fr":"Une plateforme instrument\xe9e sans pilote d\xe9rivant librement dans la colonne d\'eau \xe0 une profondeur d\xe9termin\xe9e par sa densit\xe9 (par exemple flotteur Swallow)."},{"identifier":"63","label_en":"rocket","label_fr":"fus\xe9e","definition_en":"A rocket is a vehicle, missile or aircraft which obtains thrust by the reaction to the ejection of fast moving exhaust gas from within a rocket engine.","definition_fr":"Une fus\xe9e est un v\xe9hicule, un missile ou un a\xe9ronef qui est propuls\xe9 par la r\xe9action \xe0 l\'\xe9jection de gaz d\'\xe9chappement se d\xe9pla\xe7ant rapidement \xe0 l\'int\xe9rieur d\'un moteur-fus\xe9e."},{"identifier":"21","label_en":"propelled manned submersible","label_fr":"submersible habit\xe9 propuls\xe9","definition_en":"A platform operating in the water column that has both self-contained propulsion and at least one human operator on board (e.g. submarine).","definition_fr":"Une plateforme fonctionnant dans la colonne d\'eau qui poss\xe8de \xe0 la fois une propulsion autonome et au moins un op\xe9rateur humain \xe0 bord (par exemple un sous-marin)."},{"identifier":"61","label_en":"research aeroplane","label_fr":"avion de recherche","definition_en":"A fixed-wing self-propelled aircraft that is equipped, manned and operated for atmospheric, meteorological or oceanographic research.","definition_fr":"A\xe9ronef automoteur \xe0 voilure fixe \xe9quip\xe9, pilot\xe9 et exploit\xe9 pour la recherche atmosph\xe9rique, m\xe9t\xe9orologique ou oc\xe9anographique."}]')},292:function(e,t,a){"use strict";(function(e){var n=a(16),r=a(7),i=a.n(r),l=a(12),o=a(29),s=a(30),c=a(42),u=a(44),d=a(0),m=a.n(d),f=a(306),p=a(309),h=a(307),b=a(310),g=a(308),v=a(186),E=a(46),y=a(51),w=a(531),x=a(101),O=a(134),C=a(533),j=a(537),k=a(534),S=a(303),_=a(535),D=a(530),R=a(532),I=a(293),A=a.n(I),q=a(294),P=a.n(q),N=a(18),L=a(41),T=a(113),U=a(23),M=a(1),z=a(54),F=a(33),B=a(10),W=function(e){return Object(F.f)(e.map((function(e){return e.trim()})).filter((function(e){return e})))},V=function(t){Object(c.a)(r,t);var a=Object(u.a)(r);function r(e){var t;return Object(o.a)(this,r),(t=a.call(this,e)).handleClickShowPassword=function(){return t.setState((function(e){return{showPassword:!e.showPassword}}))},t.handleMouseDownPassword=function(e){e.preventDefault()},t.handleToggleDoiCreation=function(){var e=t.state,a=e.isDoiCreationEnabled,n=e.credentialsStored;a&&n?t.setState({showDeletionDialog:!0}):t.setState((function(e){return{isDoiCreationEnabled:!e.isDoiCreationEnabled}}))},t.handleDisableDoiCreation=Object(l.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props.match.params.region,e.prev=1,e.next=4,Object(T.a)(a);case 4:t.setState({datacitePrefix:"",dataciteAccountId:"",datacitePass:"",credentialsStored:!1,isDoiCreationEnabled:!1,showDeletionDialog:!1}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("Failed to delete DataCite credentials:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])}))),t.handleChange=function(e){var a=e.target,r=a.name,i=a.value;t.setState(Object(n.a)({},r,i),(function(){"datacitePrefix"===r&&t.validateDatacitePrefix(i)}))},t.validateDatacitePrefix=function(e){var a=/^10\.\d+/.test(e);t.setState({datacitePrefixValid:a})},t.state={admins:[],projects:[],reviewers:[],datacitePrefix:"",datacitePrefixValid:!0,dataciteAccountId:"",datacitePass:"",loading:!1,showPassword:!1,isDoiCreationEnabled:!1,credentialsStored:!1,showDeletionDialog:!1,showCredentialsMissingDialog:!1},t}return Object(s.a)(r,[{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,a,n=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.match,a=t.params.region,this.setState({loading:!0}),this.unsubscribe=U.a.onAuthStateChanged(function(){var e=Object(l.a)(i.a.mark((function e(t){var r,l,o,s,c,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=15;break}return r=N.a.database().ref("admin"),l=r.child(a),o=l.child("permissions"),e.next=6,Object(L.c)(a);case 6:return s=e.sent,e.next=9,Object(T.d)(a);case 9:return c=e.sent,e.next=12,Object(T.c)(a);case 12:u=e.sent,o.on("value",(function(e){var t=e.toJSON(),a=t.admins.split(","),r=t.reviewers.split(",");n.setState({projects:s,admins:a,reviewers:r,loading:!1,datacitePrefix:c,credentialsStored:u,isDoiCreationEnabled:u})})),n.listenerRefs.push(o);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){t.credentialsStored!==this.state.credentialsStored&&this.state.credentialsStored&&this.setState({isDoiCreationEnabled:!0})}},{key:"save",value:function(){var t=this.props.match.params.region,a=this.state,n=a.reviewers,r=a.admins,i=a.projects,l=a.datacitePrefix,o=a.dataciteAccountId,s=a.datacitePass;if(!a.isDoiCreationEnabled||l&&o&&s){var c=e.from("".concat(o,":").concat(s),"utf8").toString("base64");if(U.a.currentUser){var u=N.a.database().ref("admin").child(t),d=u.child("permissions"),m=u.child("projects"),f=u.child("dataciteCredentials");d.child("admins").set(W(r).join()),m.set(W(i)),d.child("reviewers").set(W(n).join()),f.child("prefix").set(l),f.child("dataciteHash").set(c),this.setState({datacitePass:"",credentialsStored:!0})}}else this.setState({showCredentialsMissingDialog:!0})}},{key:"renderDeletionDialog",value:function(){var e=this;return m.a.createElement(f.a,{open:this.state.showDeletionDialog,onClose:function(){return e.setState({showDeletionDialog:!1})},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},m.a.createElement(p.a,{id:"alert-dialog-title"},"Delete Datacite Credentials?"),m.a.createElement(h.a,null,m.a.createElement(b.a,{id:"alert-dialog-description"},"Disabling DOI creation will delete the stored credentials. Are you sure you want to proceed?")),m.a.createElement(g.a,null,m.a.createElement(v.a,{onClick:function(){return e.setState({showDeletionDialog:!1})},color:"primary"},"Cancel"),m.a.createElement(v.a,{onClick:function(){return e.handleDisableDoiCreation()},color:"primary",autoFocus:!0},"Delete Credentials")))}},{key:"renderCredentialsMissingDialog",value:function(){var e=this;return m.a.createElement(f.a,{open:this.state.showCredentialsMissingDialog,onClose:function(){return e.setState({showCredentialsMissingDialog:!1})},"aria-labelledby":"credentials-missing-dialog-title","aria-describedby":"credentials-=missing-dialog-description"},m.a.createElement(p.a,{id:"credentials-missing-dialog-title"},"Missing DataCite Credentials"),m.a.createElement(h.a,null,m.a.createElement(b.a,{id:"credentials-missing-dialog-description"},"Please add DataCite credentials before saving.")),m.a.createElement(g.a,null,m.a.createElement(v.a,{onClick:function(){return e.setState({showCredentialsMissingDialog:!1})},color:"primary",autoFocus:!0},"OK")))}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.reviewers,r=t.admins,i=t.projects,l=t.showPassword,o=t.datacitePrefix,s=t.isDoiCreationEnabled,c=t.credentialsStored;return m.a.createElement(E.a,{container:!0,direction:"column",spacing:3},m.a.createElement(E.a,{item:!0,xs:!0},m.a.createElement(y.a,{variant:"h5"},m.a.createElement(M.c,null,m.a.createElement(M.a,null,"Admin"),m.a.createElement(M.b,null,"Administrateurs"))),m.a.createElement(y.a,null,m.a.createElement(M.c,null,m.a.createElement(M.a,null,"Add each admin or reviewer's email address on it's own line"),m.a.createElement(M.b,null,"Ajouter l'adresse e-mail de chaque administrateur ou r\xe9viseur sur sa propre ligne")))),a?m.a.createElement(w.a,null):m.a.createElement(m.a.Fragment,null,m.a.createElement(x.a,{style:B.c},m.a.createElement(E.a,{item:!0,xs:!0},m.a.createElement(y.a,null,m.a.createElement(M.c,null,m.a.createElement(M.a,null,"Projects"),m.a.createElement(M.b,null,"Projets")))),m.a.createElement(E.a,{item:!0,xs:!0},m.a.createElement(O.a,{multiline:!0,fullWidth:!0,value:i.join("\n"),onChange:function(t){return e.setState({projects:t.target.value.split("\n")})}}))),m.a.createElement(x.a,{style:B.c},m.a.createElement(E.a,{item:!0,xs:!0},m.a.createElement(y.a,null,m.a.createElement(M.c,null,m.a.createElement(M.a,null,"Admins"),m.a.createElement(M.b,null,"Administrateurs")))),m.a.createElement(E.a,{item:!0,xs:!0},m.a.createElement(O.a,{multiline:!0,fullWidth:!0,value:r.join("\n"),onChange:function(t){return e.setState({admins:t.target.value.split("\n")})}}))),m.a.createElement(x.a,{style:B.c},m.a.createElement(E.a,{item:!0,xs:!0},m.a.createElement(y.a,null,m.a.createElement(M.c,null,m.a.createElement(M.a,null,"Reviewers"),m.a.createElement(M.b,null,"R\xe9viseurs")))),m.a.createElement(E.a,{item:!0,xs:!0},m.a.createElement(O.a,{multiline:!0,fullWidth:!0,value:n.join("\n"),onChange:function(t){return e.setState({reviewers:t.target.value.split("\n")})}}))),m.a.createElement(x.a,{style:B.c},m.a.createElement(E.a,{container:!0,spacing:2},m.a.createElement(E.a,{item:!0,xs:12},m.a.createElement(y.a,{variant:"h5"},m.a.createElement(M.c,null,m.a.createElement(M.a,null,"DOI Creation Settings"),m.a.createElement(M.b,null,"Param\xe8tres de cr\xe9ation de DOI")))),m.a.createElement(E.a,{item:!0,xs:12,container:!0,alignItems:"center",justifyContent:"space-between"},m.a.createElement(E.a,{item:!0},m.a.createElement(C.a,{control:m.a.createElement(j.a,{checked:this.state.isDoiCreationEnabled||!1,onChange:this.handleToggleDoiCreation}),label:m.a.createElement(M.c,null,m.a.createElement(M.a,null,"Enable DOI Creation"),m.a.createElement(M.b,null,"Activer la cr\xe9ation de DOI"))})),s&&c&&m.a.createElement(E.a,{item:!0,container:!0,spacing:2,alignItems:"center"},m.a.createElement(E.a,{item:!0},m.a.createElement(y.a,{variant:"body1"},m.a.createElement(A.a,{style:{color:"green",marginRight:4,fontSize:"1.4rem"}}),m.a.createElement(M.c,null,m.a.createElement(M.a,null,"Credentials Stored"),m.a.createElement(M.b,null,"Identifiants Enregistr\xe9s"))))),s&&!c&&m.a.createElement(E.a,{item:!0,container:!0,spacing:2,alignItems:"center"},m.a.createElement(E.a,{item:!0},m.a.createElement(y.a,{variant:"body1"},m.a.createElement(P.a,{style:{color:"red",marginRight:4,fontSize:"1.4rem"}}),m.a.createElement(M.c,null,m.a.createElement(M.a,null,"Please Add DataCite Credentials"),m.a.createElement(M.b,null,"Identifiants Enregistr\xe9s")))))),s&&m.a.createElement(m.a.Fragment,null,m.a.createElement(E.a,{item:!0,xs:12},m.a.createElement(O.a,{name:"datacitePrefix",label:m.a.createElement(M.c,null,m.a.createElement(M.a,null,"DataCite Prefix"),m.a.createElement(M.b,null,"Pr\xe9fixe DataCite")),placeholder:"10.0000",value:o||"",onChange:this.handleChange,fullWidth:!0,error:!this.state.datacitePrefixValid,helperText:!this.state.datacitePrefixValid&&"Prefix must start with '10.' followed by numbers."})),m.a.createElement(E.a,{item:!0,xs:12},m.a.createElement(O.a,{name:"dataciteAccountId",label:m.a.createElement(M.c,null,m.a.createElement(M.a,null,"Account ID"),m.a.createElement(M.b,null,"Identifiant du compte")),onChange:this.handleChange,fullWidth:!0})),m.a.createElement(E.a,{item:!0,xs:12},m.a.createElement(O.a,{name:"datacitePass",label:m.a.createElement(M.c,null,m.a.createElement(M.a,null,"Password"),m.a.createElement(M.b,null,"Mot de passe")),type:l?"text":"password",onChange:this.handleChange,InputProps:{endAdornment:m.a.createElement(k.a,{position:"end"},m.a.createElement(S.a,{onClick:this.handleClickShowPassword,onMouseDown:this.handleMouseDownPassword,edge:"end"},l?m.a.createElement(_.a,null):m.a.createElement(D.a,null)))},fullWidth:!0}))))),m.a.createElement(E.a,{item:!0,xs:!0},m.a.createElement(v.a,{startIcon:m.a.createElement(R.a,null),variant:"contained",color:"secondary",onClick:function(){return e.save()}},m.a.createElement(M.c,null,m.a.createElement(M.a,null,"Save"),m.a.createElement(M.b,null,"Enregistrer"))))),this.renderDeletionDialog(),this.renderCredentialsMissingDialog())}}]),r}(z.a);t.a=V}).call(this,a(227).Buffer)},33:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return o})),a.d(t,"e",(function(){return c})),a.d(t,"d",(function(){return u})),a.d(t,"f",(function(){return d}));var n=a(22),r=a(9);function i(e){return JSON.parse(JSON.stringify(e))}function l(e,t){return JSON.stringify(e)===JSON.stringify(t)}function o(e){if(!e)return null;var t=i(e);return Object.keys(t).forEach((function(a){"object"===typeof t[a]&&"0"===Object.keys(t[a])[0]&&(t[a]=Object.entries(t[a]).map((function(e){return Object(r.a)(e,2)[1]}))),e.keywords&&(t.keywords={en:Object.values(e.keywords.en||{}),fr:Object.values(e.keywords.fr||{})})})),t.contacts&&Object.values(t.contacts).forEach((function(e){e.role&&(e.role=Object.values(e.role))})),t}var s=function(e,t){return"string"===typeof t?t.trim():t},c=function(e){return JSON.parse(JSON.stringify(e,s))};function u(e){return"".concat(e.title[e.language].slice(0,30),"_").concat(e.identifier.slice(0,5)).trim().toLowerCase().replace(/[^a-zA-Z0-9]/g,"_")}var d=function(e){return Object(n.a)(new Set(e))}},339:function(e,t,a){e.exports=a(522)},344:function(e,t,a){},41:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"g",(function(){return h})),a.d(t,"d",(function(){return b})),a.d(t,"h",(function(){return g})),a.d(t,"b",(function(){return E})),a.d(t,"i",(function(){return y})),a.d(t,"f",(function(){return x})),a.d(t,"c",(function(){return O})),a.d(t,"e",(function(){return j}));var n=a(7),r=a.n(n),i=a(9),l=a(17),o=a(12),s=a(312),c=a(18),u=a(79),d=a(33);function m(e,t,a,n){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(r.a.mark((function e(t,a,n,i){var l,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=c.a.database().ref(i).child("users").child(a).child("records"),e.next=3,l.child(t).once("value");case 3:(o=e.sent.val()).recordID="",o.status="",o.lastEditedBy={},o.created=(new Date).toISOString(),o.filename="",o.timeFirstPublished="",o.title.en&&(o.title.en="".concat(o.title.en," (Copy)")),o.title.fr&&(o.title.fr="".concat(o.title.fr," (Copte)")),o.identifier=Object(s.a)(),o.created=(new Date).toISOString(),c.a.database().ref(i).child("users").child(n).child("records").push(o);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return Object(l.a)(Object(l.a)({},Object(u.a)()),e)}function h(e,t,a,n){var r=Object(l.a)(Object(l.a)({},Object(u.b)()),e);return n&&(r.recordID=n),t&&a&&(r.userinfo=Object(l.a)(Object(l.a)({},null===t||void 0===t?void 0:t.userinfo),{},{userID:a})),r.contacts=r.contacts.map(p),r}function b(e,t){var a=e.toJSON(),n=[];return Object.entries(a).forEach((function(e){var a=Object(i.a)(e,2),r=a[0],l=a[1];l.records&&Object.entries(l.records).forEach((function(e){var a=Object(i.a)(e,2),o=a[0],s=a[1];t.includes(s.status)&&n.push(h(Object(d.c)(s),l,r,o))}))})),n}function g(e,t,a,n,r){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(r.a.mark((function e(t,a,n,i,l){var o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.a.database().ref(t).child("users").child(a).child("records").child(n),e.next=3,o.child("status").set(i);case 3:if("published"!==i){e.next=6;break}return e.next=6,o.child("timeFirstPublished").set((new Date).toISOString());case 6:if(!l||l.filename){e.next=10;break}return s=Object(d.d)(l),e.next=10,o.child("filename").set(s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t,a){return c.a.database().ref(e).child("users").child(t).child("records").child(a).remove()}function y(e,t,a,n){return w.apply(this,arguments)}function w(){return(w=Object(o.a)(r.a.mark((function e(t,a,n,l){var o,s,u,d,m,f,p,h,b,g;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.a.database().ref(l).child("users"),e.next=3,o.once("value");case 3:if(s=e.sent.val(),u=Object.entries(s).map((function(e){var t,a=Object(i.a)(e,2),n=a[0],r=a[1];return[n,null===r||void 0===r||null===(t=r.userinfo)||void 0===t?void 0:t.email]})),!(d=u.find((function(e){return Object(i.a)(e,2)[1].toLowerCase().trim()===t.toLowerCase().trim()})))){e.next=22;break}return m=Object(i.a)(d,1),f=m[0],p=o.child(n).child("records").child(a),e.next=11,p.once("value");case 11:return h=e.sent.val(),e.next=14,o.child(f).child("records").push(h);case 14:if(b=e.sent,g=b.key,h.recordID=g,b.update(h),!g){e.next=22;break}return e.next=21,p.remove();case 21:return e.abrupt("return",!0);case 22:return e.abrupt("return",!1);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t,a){return c.a.database().ref(e).child("users").child(t).child("records").child(a).child("status").set("")}function O(e){return C.apply(this,arguments)}function C(){return(C=Object(o.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Object,e.next=3,c.a.database().ref("admin").child(t).child("projects").once("value");case 3:if(e.t1=e.sent.toJSON(),e.t1){e.next=6;break}e.t1={};case 6:return e.t2=e.t1,a=e.t0.values.call(e.t0,e.t2),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=function(e){return Object.entries(e||{}).reduce((function(e,t){var a=Object(i.a)(t,2),n=a[0],r=a[1];return e[n]=h(Object(d.c)(Object(d.a)(r))),e}),{})}},522:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(32),l=a.n(i),o=a(637),s=a(298),c=(a(344),a(40)),u=a(39),d={pacific:{title:{en:"CIOOS Pacific",fr:"SIOOC Pacifique"},titleFrPossessive:"du SIOOC Pacifique",catalogueTitle:{fr:"Catalogue de donn\xe9es du SIOOC du Pacifique",en:"CIOOS Pacific Data Catalogue"},colors:{primary:"#006e90",secondary:"#ffc857"},email:"info@cioospacific.ca",catalogueURL:{fr:"https://catalogue.cioospacific.ca/fr/",en:"https://catalogue.cioospacific.ca/"},introPageText:{en:"CIOOS Pacific integrates data from Canada\u2019s west coast, from Dixon Entrance to the Strait of Juan de Fuca.",fr:"Le CIOOS Pacifique int\xe8gre les donn\xe9es de la c\xf4te ouest du Canada, de l'entr\xe9e Dixon au d\xe9troit de Juan de Fuca."},showInRegionSelector:!0},stlaurent:{title:{en:"St. Lawrence Global Observatory",fr:"Observatoire Global du Saint-Laurent (OGSL)"},titleFrPossessive:"de l'Observatoire Global du Saint-Laurent (OGSL)",catalogueTitle:{fr:"Catalogue de donn\xe9es de l'Observatoire global du Saint-Laurent (OGSL)",en:"St. Lawrence Global Observatory Data Catalogue (SLGO)"},colors:{primary:"#00adef",secondary:"#00aeef"},email:"info@ogsl.ca",catalogueURL:{fr:"https://catalogue.ogsl.ca/",en:"https://catalogue.ogsl.ca/en/"},introPageText:{en:"SLGO integrates data from the St. Lawrence, from the Great Lakes to the Gulf.",fr:"L'Observatoire global du Saint-Laurent int\xe8gre les donn\xe9es du Saint-Laurent, des Grands Lacs jusqu'au Golfe"},showInRegionSelector:!0},atlantic:{title:{en:"CIOOS Atlantic",fr:"SIOOC Atlantique"},titleFrPossessive:"du SIOOC Atlantique",catalogueTitle:{fr:"Catalogue de donn\xe9es du SIOOC du Atlantic",en:"CIOOS Atlantic Data Catalogue"},colors:{primary:"#19222b",secondary:"#e55162"},email:"info@cioosatlantic.ca",catalogueURL:{fr:"https://cioosatlantic.ca/ckan/fr/",en:"https://cioosatlantic.ca/ckan/"},introPageText:{en:"CIOOS Atlantic integrates data from Canada\u2019s east coast, from Labrador to Bay of Fundy.",fr:"Le CIOOS Atlantique int\xe8gre les donn\xe9es de la c\xf4te est du Canada, du Labrador \xe0 la baie de Fundy."},showInRegionSelector:!0},iys:{title:{en:"IYS",fr:"IYS"},catalogueTitle:{fr:"Catalogue de donn\xe9es du IYS",en:"IYS Data Catalogue"},colors:{primary:"#006e90",secondary:"#ffc857"},email:"iys.data@hakai.org",catalogueURL:{fr:"https://iys.hakai.org/dataset/",en:"https://iys.hakai.org/dataset/"},introPageText:{en:"",fr:""},showInRegionSelector:!1},hakai:{title:{en:"Hakai",fr:"Hakai"},catalogueTitle:{fr:"Catalogue de donn\xe9es du Hakai",en:"Hakai Data Catalogue"},colors:{primary:"#aa2025",secondary:"#459be2"},email:"data@hakai.org",catalogueURL:{fr:"https://catalogue.hakai.org/",en:"https://catalogue.hakai.org/"},introPageText:{en:"",fr:""},showInRegionSelector:!1},test:{title:{en:"Test",fr:"Test"},catalogueTitle:{fr:"Catalogue de donn\xe9es du Test",en:"Test Data Catalogue"},colors:{primary:"#fcba03",secondary:"#2518ad"},email:"data@hakai.org",catalogueURL:{fr:"https://example.com/",en:"https://example.com/"},introPageText:{en:"This is a test region",fr:""},showInRegionSelector:!1}},m=a(7),f=a.n(m),p=a(12),h=a(9),b=a(17),g=a(16),v=a(4),E=a(576),y=a(43),w=a(582),x=a(588),O=a(589),C=a(594),j=a(595),k=a(596),S=a(597),_=a(598),D=a(599),R=a(600),I=a(578),A=a(580),q=a(581),P=a(303),N=a(51),L=a(641),T=a(587),U=a(646),M=a(527),z=a(590),F=a(647),B=a(591),W=a(592),V=a(586),G=a(593),H=a(23),Y=a(1),J=a(29),K=a(30),Q=a(42),X=a(44),Z=a(63),$=a(18),ee=a(54),te=Object(n.createContext)({user:null,authIsLoading:!1}),ae=function(e){Object(Q.a)(a,e);var t=Object(X.a)(a);function a(e){var n;return Object(J.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=n.props.match.params.region;n.setState({authIsLoading:!0}),n.unsubscribe=H.a.onAuthStateChanged((function(t){if(t){var a=t.displayName,r=t.email,i=t.uid;n.setState({user:t,authIsLoading:!1,loggedIn:!0}),Z.b((function(e){e.setUser({email:r,username:r})})),$.a.database().ref(e).child("users").child(i).child("userinfo").update({displayName:a,email:r});var l=$.a.database().ref("admin").child(e).child("permissions");l.on("value",(function(e){var t=e.toJSON(),a=(null===t||void 0===t?void 0:t.admins)||"",i=(null===t||void 0===t?void 0:t.reviewers)||"",l=a.includes(r),o=i.includes(r);n.setState({admins:a,reviewers:i,isAdmin:l,isReviewer:o})})),n.listenerRefs.push(l)}else n.setState({loggedIn:!1,authIsLoading:!1});n.setState({user:t,authIsLoading:!1})}))},n.state={user:null,authIsLoading:!1,admins:[],reviewers:[],isReviewer:!1,loggedIn:!1},n}return Object(K.a)(a,[{key:"render",value:function(){var e=this.props.children,t=$.a.functions().httpsCallable("translate"),a=$.a.functions().httpsCallable("regenerateXMLforRecord"),n=$.a.functions().httpsCallable("downloadRecord"),i=$.a.functions().httpsCallable("createDraftDoi"),l=$.a.functions().httpsCallable("updateDraftDoi"),o=$.a.functions().httpsCallable("deleteDraftDoi"),s=$.a.functions().httpsCallable("getDoiStatus"),c=$.a.functions().httpsCallable("checkURLActive");return r.a.createElement(te.Provider,{value:Object(b.a)(Object(b.a)({},this.state),{},{translate:t,regenerateXMLforRecord:a,downloadRecord:n,createDraftDoi:i,updateDraftDoi:l,deleteDraftDoi:o,getDoiStatus:s,checkURLActive:c})},e)}}]),a}(ee.a),ne=Object(u.j)(ae),re=Object(E.a)((function(e){return{root:{display:"flex",flexGrow:1},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},languageSelector:{"&:before":{borderColor:"white"},"&:hover:not(.Mui-disabled):before":{borderColor:"white"},color:"white",borderColor:"white",marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(g.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(b.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}}));function ie(e){var t,a,i=e.children,l=Object(u.g)(),o=re(),s=Object(y.a)(),c=Object(n.useContext)(te),m=c.user,b=c.isReviewer,E=c.isAdmin,J=c.authIsLoading,K=Object(u.i)(),Q=K.language,X=void 0===Q?"en":Q,Z=K.region,$=void 0===Z?"region-select":Z;["en","fr"].includes(X)||(X="en"),Object.keys(d).includes($)||($="");var ee=Object(u.h)().pathname,ae=ee.split("/").map((function(e){return e})).slice(2).join("/"),ne="/".concat(X,"/").concat($),ie=r.a.useState(Boolean($)),le=Object(h.a)(ie,2),oe=le[0],se=le[1],ce={home:r.a.createElement(Y.c,{en:"Home",fr:"Accueil"}),new:r.a.createElement(Y.c,{en:"Metadata Editor",fr:"\xc9diteur de m\xe9ta-donn\xe9es"}),contacts:r.a.createElement(Y.c,{en:"Contacts",fr:"Contacts"}),saved:r.a.createElement(Y.c,{en:"My Records",fr:"Enregistrements"}),published:r.a.createElement(Y.c,{en:"Published Records",fr:"Dossiers publi\xe9s"}),review:r.a.createElement(Y.c,{en:"Review submissions",fr:"Examen des soumissions"}),admin:r.a.createElement(Y.c,{en:"Admin",fr:"Admin"}),signIn:r.a.createElement(Y.c,{en:"Sign in",fr:"Se Connecter"}),logout:r.a.createElement(Y.c,{en:"Logout",fr:"D\xe9connexion"})},ue=$?d[$].colors.primary:"#52a79b",de=Object({NODE_ENV:"production",PUBLIC_URL:"/metadata-entry-form",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_GOOGLE_CLOUD_API_KEY:"AIzaSyBz4kb3hJHXw0voYZgHZuAgmqGosxntMHM",REACT_APP_GOOGLE_CLOUD_API_KEY_DEV:"AIzaSyADkNENzpoqj3O7uGPsRA_4s1zQdbH708c"}).REACT_APP_DEV_DEPLOYMENT||!1;return r.a.createElement("div",{className:o.root},r.a.createElement(I.a,null),r.a.createElement(A.a,{position:"fixed",className:Object(v.a)(o.appBar,Object(g.a)({},o.appBarShift,oe))},r.a.createElement(q.a,{style:{backgroundColor:ue,alignItems:"end"}},$&&r.a.createElement(P.a,{"aria-label":"open drawer",onClick:function(){se(!0)},edge:"start",className:Object(v.a)(o.menuButton,Object(g.a)({},o.hide,oe))},r.a.createElement(w.a,null)),r.a.createElement(N.a,{variant:"h5",noWrap:!0,style:{marginLeft:"10px",marginBottom:"10px",flex:1,color:"white"}},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Metadata Entry Tool"),r.a.createElement(Y.b,null,"Outil de saisie de m\xe9tadonn\xe9es"))),r.a.createElement("div",{style:{marginLeft:"auto"}},r.a.createElement("img",{src:"".concat("/metadata-entry-form","/cioos_website_top_banner_").concat(X,".png"),alt:"CIOOS/SIOOC",width:350,style:{verticalAlign:"bottom",paddingRight:"15px"}}),r.a.createElement(L.a,{color:"primary",className:o.languageSelector,value:X,onChange:function(e){return l.push("/".concat(e.target.value,"/").concat(ae))}},r.a.createElement(T.a,{value:"en"},"EN"),r.a.createElement(T.a,{value:"fr"},"FR"))))),$&&r.a.createElement(U.a,{variant:"permanent",className:Object(v.a)(o.drawer,(t={},Object(g.a)(t,o.drawerOpen,oe),Object(g.a)(t,o.drawerClose,!oe),t)),classes:{paper:Object(v.a)((a={},Object(g.a)(a,o.drawerOpen,oe),Object(g.a)(a,o.drawerClose,!oe),a))}},r.a.createElement("div",{className:o.toolbar},r.a.createElement(P.a,{onClick:function(){se(!1)}},"rtl"===s.direction?r.a.createElement(x.a,null):r.a.createElement(O.a,null))),m&&r.a.createElement(M.a,{key:"userInfo"},r.a.createElement(z.a,null,r.a.createElement(F.a,{src:m.photoURL})),r.a.createElement(B.a,{primary:m.displayName})),r.a.createElement(W.a,null),r.a.createElement(V.a,null,!m&&$&&r.a.createElement(G.a,{placement:"right-start",title:oe?"":ce.signIn},r.a.createElement(M.a,{disabled:J,button:!0,key:"Sign in",onClick:Object(p.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.b)();case 2:l.push(ee);case 3:case"end":return e.stop()}}),e)})))},r.a.createElement(z.a,null,r.a.createElement(C.a,null)),r.a.createElement(B.a,{primary:ce.signIn}))),m&&$&&r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{placement:"right-start",title:oe?"":ce.saved},r.a.createElement(M.a,{button:!0,key:"My Records",onClick:function(){return l.push("".concat(ne,"/submissions"))}},r.a.createElement(z.a,null,r.a.createElement(j.a,null)),r.a.createElement(B.a,{primary:ce.saved}))),r.a.createElement(G.a,{placement:"right-start",title:oe?"":ce.saved},r.a.createElement(M.a,{button:!0,key:"Region's Published Records",onClick:function(){return l.push("".concat(ne,"/published"))}},r.a.createElement(z.a,null,r.a.createElement(k.a,null)),r.a.createElement(B.a,{primary:ce.published}))),r.a.createElement(G.a,{placement:"right-start",title:oe?"":ce.contacts},r.a.createElement(M.a,{button:!0,key:"Contacts",onClick:function(){return l.push("".concat(ne,"/contacts"))}},r.a.createElement(z.a,{disabled:!0},r.a.createElement(S.a,null)),r.a.createElement(B.a,{primary:ce.contacts}))),b&&r.a.createElement(G.a,{placement:"right-start",title:oe?"":ce.review},r.a.createElement(M.a,{button:!0,key:"Review",onClick:function(){return l.push("".concat(ne,"/reviewer"))}},r.a.createElement(z.a,null,r.a.createElement(_.a,null)),r.a.createElement(B.a,{primary:ce.review}))),E&&r.a.createElement(G.a,{placement:"right-start",title:oe?"":ce.admin},r.a.createElement(M.a,{button:!0,key:"Admin",onClick:function(){return l.push("".concat(ne,"/admin"))}},r.a.createElement(z.a,null,r.a.createElement(D.a,null)),r.a.createElement(B.a,{primary:ce.admin})))),m&&r.a.createElement(G.a,{placement:"right-start",title:oe?"":ce.logout},r.a.createElement(M.a,{button:!0,key:"Logout",onClick:function(){return H.a.signOut().then((function(){return l.push(ne)}))}},r.a.createElement(z.a,null,r.a.createElement(R.a,null)),r.a.createElement(B.a,{primary:ce.logout})))),r.a.createElement(W.a,null),de&&r.a.createElement("h5",null,"Connected to development database")),r.a.createElement("main",{className:o.content},r.a.createElement("div",{className:o.toolbar}),i))}var le=a(171),oe=a(46),se=a(531),ce=a(299),ue=a(631),de=a(186),me=a(613),fe=a(41),pe=a(313);function he(){return Math.round(20*Math.random())-10}function be(){var e=50+he(),t=50+he();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var ge=Object(E.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function ve(e){var t=e.open,a=e.onClose,n=e.onAccept,i=e.modalQuestion,l=ge(),o=r.a.useState(be),s=Object(h.a)(o,1)[0];return r.a.createElement("div",null,r.a.createElement(pe.a,{open:t,onClose:a,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",onKeyPress:function(e){"y"===e.key&&(a(),n())}},r.a.createElement("div",{style:s,className:l.paper},r.a.createElement("h2",{id:"simple-modal-title"},i||r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Are you sure?"),r.a.createElement(Y.b,null,"Vous \xeates s\xfbr ?"))),r.a.createElement("button",{type:"button",onClick:function(){a(),n()}},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Yes"),r.a.createElement(Y.b,null,"Oui"))),r.a.createElement("button",{type:"button",onClick:a},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"No"),r.a.createElement(Y.b,null,"Non"))))))}var Ee=a(275),ye=a.n(Ee),we=a(603),xe=a(604),Oe=a(300),Ce=a(530),je=a(605),ke=a(606),Se=a(607),_e=a(608),De=a(609),Re=a(610),Ie=a(611),Ae=a(612),qe=a(33),Pe=a(276),Ne=a.n(Pe),Le=a(277),Te=a.n(Le);function Ue(e,t,a){var n=e.title,r=e.datasetIdentifier,i=void 0===r?"":r,l=e.created,o=e.contacts,s=void 0===o?[]:o,c=e.datePublished,u=e.dateRevised,d=s.filter((function(e){return e.inCitation&&e.role.includes("publisher")})).map((function(e){return e.orgName})),m=[{title:n[t],author:s.filter((function(e){return!(e.role.includes("publisher")&&1===e.role.length)})).filter((function(e){var t,a,n;return e.inCitation&&((null===(t=e.givenNames)||void 0===t?void 0:t.length)>1&&(null===(a=e.lastName)||void 0===a?void 0:a.length)>1||(null===(n=e.orgName)||void 0===n?void 0:n.length)>1)})).map((function(e){var t,a;return(null===(t=e.givenNames)||void 0===t?void 0:t.length)>1&&(null===(a=e.lastName)||void 0===a?void 0:a.length)>1?{given:e.givenNames,family:e.lastName}:{family:e.orgName}})),issued:{"date-parts":[[u||c||l]]},publisher:d.join(", "),DOI:i.replace(/https?:\/\/doi\.org\//,""),version:"v".concat(e.edition)}];try{return Te()(m).format("bibliography",{format:a,template:"apa",lang:"en-US"})}catch(f){return""}}function Me(e){var t=Ue(e.record,e.language,"html");return r.a.createElement("div",null,r.a.createElement("div",{dangerouslySetInnerHTML:{__html:t},style:{padding:"5px"}}))}var ze=a(436);function Fe(e,t){return e.some((function(e){return t.includes(e)}))}function Be(e){return console.log(e),e}var We={creator:["author","originator"],metadataProvider:["distributor","custodian"],associatedParty:["principalInvestigator","editor"]};function Ve(){return(Ve=Object(p.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ze.configure({autoescape:!0,web:!0}),e.next=3,fetch(Ne.a).then((function(e){return e.text()}));case 3:return a=e.sent,e.abrupt("return",ze.renderString(a,{record:t,translateRole:Be,arrayOverlap:Fe,citation:Ue(t,t.language,"text"),roleMapping:We,roleMappingKeys:Object.keys(We)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ge=function(e){return Ve.apply(this,arguments)},He=a(281),Ye=a.n(He),Je={"CC-BY-4.0":{title:{en:"Creative Commons Attribution 4.0 Attribution"},url:"https://creativecommons.org/licenses/by/4.0",code:"CC-BY-4.0"},"CC-BY-SA-4.0":{title:{en:"Creative Commons Attribution 4.0 Attribution-ShareAlike"},url:"https://creativecommons.org/licenses/by-sa/4.0/",code:"CC-BY-SA-4.0"},"CC-BY-ND-4.0":{title:{en:"Creative Commons Attribution 4.0 Attribution-NoDerivs "},url:"https://creativecommons.org/licenses/by-nd/4.0/",code:"CC-BY-ND-4.0"},"CC-BY-NC-4.0":{title:{en:"Creative Commons Attribution 4.0 Attribution-NonCommercial  "},url:"https://creativecommons.org/licenses/by-nc/4.0/",code:"CC-BY-NC-4.0"},"CC-BY-NC-SA-4.0":{title:{en:"Creative Commons Attribution 4.0 Attribution-NonCommercial-ShareAlike "},url:"https://creativecommons.org/licenses/by-nc-sa/4.0/",code:"CC-BY-NC-SA-4.0"},"CC-BY-NC-ND-4.0":{title:{en:"Creative Commons Attribution 4.0 Attribution-NonCommercial-NoDerivs"},url:"https://creativecommons.org/licenses/by-nc-nd/4.0/",code:"CC-BY-NC-ND-4.0"},CC0:{title:{en:"Creative Commons 0"},url:"https://creativecommons.org/share-your-work/public-domain/cc0",code:"CC0"},"government-open-license-canada":{title:{en:"Open Government Licence - Canada",fr:"Licence du gouvernement ouvert \u2013 Canada "},url:"https://open.canada.ca/en/open-government-licence-canada",code:"government-open-license-canada"},"government-open-license-nova-scotia":{title:{en:"Open Government Licence - Nova Scotia"},url:"https://novascotia.ca/opendata/licence.asp",code:"government-open-license-nova-scotia"},"OGL-NB":{title:{en:"Open Government Licence \u2013 New Brunswick"},url:"http://www.snb.ca/e/2000/data-E.html",code:"OGL-NB"},"OGL-BC":{title:{en:"Open Government Licence - British Columbia"},url:"https://www2.gov.bc.ca/gov/content/data/open-data/open-government-licence-bc",code:"OGL-BC"},"government-open-license-newfoundland":{title:{en:"Open Government Licence - Newfoundland and Labrador"},url:"https://opendata.gov.nl.ca/public/opendata/page/?page-id=licence",code:"government-open-license-newfoundland"},"Apache-2.0":{title:{en:"Apache License, Version 2.0"},url:"https://www.apache.org/licenses/LICENSE-2.0",code:"Apache-2.0"},"No License":{title:{en:"No License",fr:"Aucune licence"},url:"https://choosealicense.com/no-permission/",code:"None"},"ca-eccc-odl":{title:{en:"Environment and Climate Change Canada Data Servers End-use Licence",fr:"Licence d\u2019utilisation finale pour les serveurs de donn\xe9es d\u2019Environnement et Changement climatique Canada"},url:"https://eccc-msc.github.io/open-data/licence/readme_en/",code:"ca-eccc-odl"}};function Ke(e,t){return e.some((function(e){return t.includes(e)}))}var Qe=function(e){var t,a,n,r,i,l,o,s=e.contacts,c=e.language,u=s.find((function(e){return Ke(e.role,["publisher","custodian"])})),d=s.find((function(e){return Ke(e.role,["orginator","owner"])})),m={citation:Ue(e,e.language,"text"),creator_email:null===d||void 0===d?void 0:d.indEmail,creator_name:null===d||void 0===d?void 0:d.indName,creator_url:null===d||void 0===d?void 0:d.orgURL,creator_institution:null===d||void 0===d?void 0:d.orgName,publisher_email:null===u||void 0===u?void 0:u.indEmail,publisher_institution:null===u||void 0===u?void 0:u.orgName,publisher_url:null===u||void 0===u?void 0:u.orgURL,publisher_name:null===u||void 0===u?void 0:u.indName,date_created:(o=e.created,o.slice(0,10)),geospatial_lat_max:null===(t=e.map)||void 0===t?void 0:t.north,geospatial_lat_min:null===(a=e.map)||void 0===a?void 0:a.south,geospatial_lon_max:null===(n=e.map)||void 0===n?void 0:n.east,geospatial_lon_min:null===(r=e.map)||void 0===r?void 0:r.west,geospatial_vertical_min:e.verticalExtentMin,geospatial_vertical_max:e.verticalExtentMax,institution:s.map((function(e){return e.orgName})).filter((function(e){return e})).join(),project:null===(i=e.projects)||void 0===i?void 0:i.join(),product_version:e.edition,license:(null===(l=Je[e.license])||void 0===l?void 0:l.url)||e.license,instrument:e.instruments.map((function(e){return[e.manufacturer,e.id,e.version].join(" - ")})).filter((function(e){return e})).join(),id:e.identifier,naming_authority:"ca.cioos",references:"https://doi.org/".concat(e.datasetIdentifier),keywords:e.keywords[c],platform:e.platform,platform_vocabulary:e.platform&&"http://vocab.nerc.ac.uk/collection/L06/current/",summary:e.abstract[c],title:e.title[c]},f=Object.entries(m).filter((function(e){return Object(h.a)(e,2)[1]})).map((function(e){var t=Object(h.a)(e,2),a=t[0],n=t[1];return'  <att name="'.concat(a,'">').concat(Ye()(String(n)),"</att>")})).join("\n");return"\n<iso19115File>/your/waf/".concat(e.filename||Object(qe.d)(e),".xml</iso19115File>\n<addAttributes>\n").concat(f,"\n</addAttributes>")};var Xe=function(e,t,a,n){var r,i=e.contacts?e.contacts.reduce((function(e,t){var a;if(t.inCitation&&!t.role.includes("publisher")){var n=t.givenNames,r=t.lastName,i=t.orgName,l=t.indOrcid,o=t.orgRor;n&&(a={name:"".concat(r,", ").concat(n),nameType:"Personal",givenName:n,familyName:r,affiliation:i?[{name:i,schemeUri:"https://ror.org",affiliationIdentifier:o,affiliationIdentifierScheme:"ROR"}]:[]},l&&(a.nameIdentifiers=[{schemeUri:"https://orcid.org",nameIdentifier:l,nameIdentifierScheme:"ORCID"}]))}return a&&e.push(a),e}),[]):[],l=e.contacts.find((function(e){return e.role.includes("publisher")})),o=e.contacts.filter((function(e){return e.role.includes("funder")}));if(e.dateRevised){var s=parseInt(e.dateRevised.slice(0,4),10);r=Number.isNaN(s)?void 0:s}else if(e.datePublished){var c=parseInt(e.datePublished.slice(0,4),10);r=Number.isNaN(c)?void 0:c}else r=void 0;var u=e.keywords?Object.entries(e.keywords).flatMap((function(e){var t=Object(h.a)(e,2),a=t[0];return t[1].map((function(e){return{lang:a,subject:e}}))})):void 0,m=[];e.dateStart&&m.push({date:e.dateStart,dateType:"Collected",dateInformation:"Start date when data was first collected"}),e.dateEnd&&m.push({date:e.dateEnd,dateType:"Collected",dateInformation:"End date when data was last collected"}),e.dateRevised&&m.push({date:e.dateRevised,dateType:"Updated",dateInformation:"Date when the data was last revised"});var f=Je[e.license],p=f&&f.title?[{rights:f.title.en,rightsUri:f.url,schemeUri:"https://spdx.org/licenses/",rightsIdentifier:f.code,rightsIdentifierScheme:"SPDX"}]:[],b=e.map?e.map:{},g=b.east,v=b.north,E=b.south,y=b.west;g=Number.isNaN(g)?void 0:g,v=Number.isNaN(v)?void 0:v,E=Number.isNaN(E)?void 0:E,y=Number.isNaN(y)?void 0:y;var w=e.map&&g&&v&&E&&y?[{geoLocationBox:{eastBoundLongitude:parseFloat(g),northBoundLatitude:parseFloat(v),southBoundLatitude:parseFloat(E),westBoundLongitude:parseFloat(y)}}]:[],x={data:{type:"dois",attributes:{prefix:n,creators:i,titles:[]}}};return e.title.en&&x.data.attributes.titles.push({lang:"en",title:e.title.en}),e.title.fr&&x.data.attributes.titles.push({lang:"fr",title:e.title.fr}),l&&(x.data.attributes.publisher=l.orgName||l.indName),o&&o.length>0&&(x.data.attributes.fundingReferences=o.map((function(e){var t={funderName:e.orgName};return e.orgRor&&(t.funderIdentifier=e.orgRor,t.funderIdentifierType="ROR"),t}))),e.datePublished&&(x.data.attributes.publicationYear=r),e.keywords&&(x.data.attributes.subjects=u),e.edition&&(x.data.attributes.version=e.edition),m.length>0&&(x.data.attributes.dates=m),x.data.attributes.rightsList=p,delete e.abstract.translations,x.data.attributes.descriptions=Object.entries(e.abstract).map((function(e){var t=Object(h.a)(e,2);return{lang:t[0],description:t[1],descriptionType:"Abstract"}})),e.map&&(x.data.attributes.geoLocations=w),x.data.attributes.types={resourceTypeGeneral:"Dataset"},x.data.attributes.url="".concat(d[a].catalogueURL[t],"dataset/ca-cioos_").concat(e.identifier),x},Ze=a(131),$e=a.n(Ze),et=function(e){return!e||$e.a.isEmail(e)},tt=function(e){return!e||$e.a.isURL(e)},at=$.a.functions().httpsCallable("checkURLActive"),nt=/^(https:\/\/doi.org\/)?10\.\d{4,9}\/[-._;()/:A-Z0-9]+$/i;var rt=function(e){return!e||nt.test(e)&&function(e){var t;try{t=new URL(e)}catch(a){return!1}return"http:"===t.protocol||"https:"===t.protocol}(e)},it=function(e){return e>=-90&&e<=90},lt=function(e){return e>=-360&&e<=360},ot=function(e){var t,a,n=e.split(" ").map((function(e){return e.split(",")}));return!(n.length<2)&&(t=n[0],a=n[n.length-1],!!JSON.parse(JSON.stringify(t)===JSON.stringify(a))&&n.filter((function(e){var t=Object(h.a)(e,2),a=t[0],n=t[1];return lt(parseFloat(n))&&it(parseFloat(a))})).length===n.length)},st=function(e){return Boolean(e.role&&e.role.length&&(e.orgName||e.givenNames||e.lastName))},ct={title:{validation:function(e){return e&&e.en&&e.fr},tab:"dataID",error:{en:"Missing title in French or English",fr:"Titre manquant en fran\xe7ais ou en anglais"}},abstract:{validation:function(e){return e&&e.en&&e.fr},tab:"dataID",error:{en:"Missing abstract in French or English",fr:"Abr\xe9g\xe9 manquant en fran\xe7ais ou en anglais"}},keywords:{validation:function(e){return e&&(e.en.length||e.fr.length)},tab:"dataID",error:{en:"At least one keyword is required",fr:"Au moins un mot cl\xe9 est requis"}},eov:{validation:function(e){return e&&e.length},tab:"dataID",error:{en:"At least one EOV is required",fr:"Au moins un variable essentielle oc\xe9anique est requise"}},datasetIdentifier:{validation:rt,optional:!0,tab:"dataID",error:{en:"Invalid DOI",fr:"DOI non valide"}},progress:{tab:"dataID",validation:function(e){return e},error:{en:"Please select a dataset status",fr:"L'information spatiale est manquante"}},language:{tab:"dataID",validation:function(e){return e},error:{en:"Language field is missing",fr:"Le champ de langue est vide"}},license:{tab:"dataID",validation:function(e){return e},error:{en:"Please select a license for the dataset",fr:"Veuillez s\xe9lectionner une licence pour le jeu de donn\xe9es"}},map:{error:{en:"Spatial information is missing",fr:"L'information g\xe9ographique est manquante"},tab:"spatial",validation:function(e){if(!e)return!1;var t=parseFloat(e.north),a=parseFloat(e.south),n=parseFloat(e.east),r=parseFloat(e.west),i=e.polygon;return t&&a&&n&&r&&t>=a&&n>=r&&it(t)&&it(a)&&lt(n)&&lt(r)||i&&ot(i)}},verticalExtentMin:{tab:"spatial",validation:function(e){return e},error:{en:"Missing Vertical Extent Min",fr:"\xc9tendue verticale manquante Min"}},verticalExtentMax:{tab:"spatial",validation:function(e){return e},error:{en:"Missing Vertical Extent Max",fr:"\xc9tendue verticale manquante Max"}},verticalExtentDirection:{tab:"spatial",validation:function(e){return e},error:{en:"Missing Vertical Extent Direction",fr:"Direction de l'\xe9tendue verticale manquante"}},contacts:{tab:"contacts",validation:function(e){return e&&e.every(st)&&e.every((function(e){return et(e.indEmail)&&et(e.orgEmail)&&tt(e.orgURL)}))&&e.filter(st).find((function(e){return e.role.includes("custodian")}))&&e.filter(st).find((function(e){return e.role.includes("owner")}))&&e.filter(st).find((function(e){return e.inCitation}))},error:{en:"Every contact must have at least one role checked, and 'Data Owner' or 'Metadata Custodian' must be added to at least one contact. One contact can occupy multiple roles. Email addresses must be in the form of user@example.com and URLs must be valid.  At least one contact must be selected to appear in the citation.",fr:"Chaque contact doit avoir au moins un r\xf4le coch\xe9, et \xab Propri\xe9taire des donn\xe9es \xbb ou \xab D\xe9positaire des m\xe9tadonn\xe9es \xbb doit \xeatre ajout\xe9 \xe0 au moins un contact. Un contact peut occuper plusieurs r\xf4les. Les adresses e-mail doivent \xeatre au format user@example.com et les URL doivent \xeatre valides. Au moins un contact doit \xeatre s\xe9lectionn\xe9 pour appara\xeetre dans la citation."}},distribution:{tab:"resources",validation:function(e){return Array.isArray(e)&&e.filter((function(e){return e.name&&e.url&&$e.a.isURL(e.url)})).length},error:{en:"Must have at least one resource. If a URL is included it must be valid.",fr:"Doit avoir au moins une ressource. V\xe9rifiez si votre URL est valide."}},platformID:{tab:"platform",validation:function(e,t){return t.noPlatform||e},error:{en:"Missing platform ID",fr:"ID de la plateforme manquant"}},platform:{tab:"platform",validation:function(e,t){return t.noPlatform||e},error:{en:"Missing platform type",fr:"Type de plateforme manquant"}},instruments:{tab:"platformInstruments",validation:function(e){return e.every((function(e){return e.id}))},error:{en:"Instrument ID is required",fr:"L'identifiant de l'instrument est requis"}}},ut=function(e,t){var a=e[t],n=ct[t]&&ct[t].validation||function(){return!0};return n&&n(a,e)},dt={distribution:{tab:"resources",validation:function(){var e=Object(p.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(p.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at(t.url);case 2:return a=e.sent,e.abrupt("return",Object(b.a)(Object(b.a)({},t),{},{status:a.data}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return a=e.sent,n=a.filter((function(e){return!e.status})),e.abrupt("return",n.length);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),error:{en:"Resource URL is not accessible. This could be because it has not been created yet or is otherwise unreachable",fr:"L'URL de la ressource n'est pas accessible. Cela peut \xeatre d\xfb au fait qu'il n'a pas encore \xe9t\xe9 cr\xe9\xe9 ou qu'il est autrement inaccessible."}}},mt=function(){var e=Object(p.a)(f.a.mark((function e(t,a){var n,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t[a],r=dt[a]&&dt[a].validation||function(){return!0},e.next=4,r(n,t);case 4:return i=e.sent,e.abrupt("return",r&&i);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ft=function(e){var t=Object.keys(ct),a=t.filter((function(e){return!ct[e].optional})).length;return t.filter((function(t){return!ct[t].optional&&ut(e,t)})).length/a},pt=function(e){var t=Object.entries(ct).filter((function(e){return Object(h.a)(e,2)[1].optional})).every((function(t){var a=Object(h.a)(t,1)[0];return ut(e,a)}));return 1===ft(e)&&t},ht=a(636),bt=a(282),gt=a(283),vt=function(e){var t,a=e.dateStr,n=Object(u.i)().language;return a?("en"===n?(ht.a.addLocale(bt),t=new ht.a("en-US")):(ht.a.addLocale(gt),t=new ht.a("fr-FR")),r.a.createElement("span",null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Last edited"),r.a.createElement(Y.b,null,"Derni\xe8re modification"))," ",t.format(new Date(a)),". ")):null},Et=a(601),yt=a(602),wt=function(e){var t=e.status;return"published"===t?r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"Published",fr:"Publi\xe9"})},r.a.createElement(k.a,{color:"primary"})):"submitted"===t?r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"Submitted",fr:"Soumis"})},r.a.createElement(Et.a,{color:"secondary"})):""===t?r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"Draft",fr:"Brouillon"})},r.a.createElement(yt.a,{color:"action"})):null},xt=function(e){var t,a,i,l=e.record,o=e.onViewEditClick,s=e.onDeleteClick,c=e.onCloneClick,m=e.onSubmitClick,b=e.showAuthor,g=e.showDeleteAction,v=e.showSubmitAction,E=e.showPublishAction,y=e.showUnPublishAction,w=e.showUnSubmitAction,x=e.showViewAction,O=e.showEditAction,C=e.showPercentComplete,j=e.showCloneAction,k=e.onUnSubmitClick,S=e.onUnPublishClick,_=e.showDownloadButton,D=void 0===_||_,R=e.showTransferButton,I=e.onTransferClick,A=Object(u.i)(),q=A.language,N=A.region,L="published"===l.status,U=Object(n.useContext)(te).downloadRecord,z=Object(n.useState)({downloadXML:!1}),W=Object(h.a)(z,2),V=W[0],H=W[1],J="".concat(d[N].catalogueURL[q],"dataset/ca-cioos_").concat(l.identifier),K=r.a.useState(null),Q=Object(h.a)(K,2),X=Q[0],Z=Q[1],$=Boolean(X),ee=function(){Z(null)};if(!l.title)return console.log(l),r.a.createElement(r.a.Fragment,null);var ae=(v||D)&&pt(l),ne=C&&Math.round(100*ft(l));function re(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(p.a)(f.a.mark((function e(t){var a,n,r,i,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={erddap:"_erddap.txt",xml:".xml",yaml:".yaml",eml:"_eml.xml",json:".json"},H({downloadXML:!0}),e.prev=2,"eml"!==t){e.next=10;break}return e.next=6,Ge(l);case 6:r=e.sent,n=[r],e.next=22;break;case 10:if("erddap"!==t){e.next=14;break}n=[Qe(l)],e.next=22;break;case 14:if("json"!==t){e.next=18;break}n=[JSON.stringify(Xe(l,q,N),null,2)],e.next=22;break;case 18:return e.next=20,U({record:l,fileType:t});case 20:i=e.sent,n=Object.values(i.data.message);case 22:o=new Blob(n,{type:"".concat({xml:"application/xml",yaml:"application/x-yaml",eml:"application/xml",erddap:"application/xml",json:"application/json"}[t],";charset=utf-8")}),ye.a.saveAs(o,"".concat(Object(qe.d)(l)).concat(a[t])),H({downloadXML:!1}),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(2),console.log(e.t0),H({downloadXML:!1});case 32:case"end":return e.stop()}}),e,null,[[2,28]])})))).apply(this,arguments)}return r.a.createElement(M.a,{key:l.recordID},r.a.createElement(we.a,null,r.a.createElement(P.a,{onClick:o},r.a.createElement(F.a,null,r.a.createElement(wt,{status:l.status})))),r.a.createElement(B.a,{primary:r.a.createElement("div",{style:{width:"80%"}},null===(t=l.title)||void 0===t?void 0:t[q]),secondaryTypographyProps:{variant:"body2"},secondary:r.a.createElement("span",null,b&&r.a.createElement("span",null,r.a.createElement(Y.c,{en:"Author",fr:"Auteur"}),": ",null===(a=l.userinfo)||void 0===a?void 0:a.displayName," ",null===(i=l.userinfo)||void 0===i?void 0:i.email),r.a.createElement("span",{style:{display:"block"}},r.a.createElement(vt,{dateStr:l.created}),C&&r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,ne,"% complete"),r.a.createElement(Y.b,null,ne,"% Achev\xe9e"))),r.a.createElement("span",{style:{display:"block"}},"UUID: ",l.identifier))}),r.a.createElement(xe.a,null,x&&r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"View",fr:"Vue"})},r.a.createElement("span",null,r.a.createElement(P.a,{onClick:o,edge:"end","aria-label":"view record"},r.a.createElement(Ce.a,null)))),O&&r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"Edit record",fr:"\xc9diter un enregistrement"})},r.a.createElement("span",null,r.a.createElement(P.a,{onClick:o,edge:"end","aria-label":"Edit record"},r.a.createElement(je.a,null)))),g&&r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"Delete",fr:"Supprimer"})},r.a.createElement("span",null,r.a.createElement(P.a,{onClick:s,edge:"end","aria-label":"delete"},r.a.createElement(ke.a,null)))),E&&r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"Publish",fr:"Publier"})},r.a.createElement("span",null,r.a.createElement(P.a,{onClick:m,edge:"end","aria-label":"delete"},r.a.createElement(Se.a,null)))),v&&(""===l.status?r.a.createElement(G.a,{title:r.a.createElement(r.a.Fragment,null,ae?r.a.createElement(Y.c,{en:"Submit for review",fr:"Soumettre pour examen"}):r.a.createElement(Y.c,{en:"Can't submit incomplete or invalid record",fr:"Impossible de soumettre un enregistrement incomplet ou non valide"}))},r.a.createElement("span",null,r.a.createElement(P.a,{onClick:m,edge:"end","aria-label":"submit",disabled:!ae},r.a.createElement(Se.a,null)))):r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"Return record to draft for editing",fr:"Retourner l'enregistrement au brouillon pour modification"})},r.a.createElement("span",null,r.a.createElement(P.a,{onClick:m,edge:"end","aria-label":"delete"},r.a.createElement(_e.a,null))))),y&&r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"Un-publish",fr:"De-Publier"})},r.a.createElement("span",null,r.a.createElement(P.a,{onClick:S,edge:"end","aria-label":"delete"},r.a.createElement(_e.a,null)))),j&&r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"Clone",fr:"Cloner"})},r.a.createElement("span",null,r.a.createElement(P.a,{onClick:c,edge:"end","aria-label":"clone"},r.a.createElement(De.a,null)))),w&&r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"Return to draft",fr:"Revenir au brouillon"})},r.a.createElement("span",null,r.a.createElement(P.a,{onClick:k,edge:"end","aria-label":"delete"},r.a.createElement(_e.a,null)))),D&&r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"Download",fr:"Download"})},r.a.createElement("span",null,r.a.createElement(P.a,{"aria-label":"more",id:"long-button","aria-controls":"long-menu","aria-expanded":$?"true":void 0,"aria-haspopup":"true",onClick:function(e){Z(e.currentTarget)},disabled:!ae},V.downloadXML?r.a.createElement(se.a,null):r.a.createElement(Re.a,null)),r.a.createElement(Oe.a,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:X,open:$,onClose:ee,PaperProps:{style:{width:"20ch"}}},r.a.createElement(T.a,{key:"xml",onClick:function(){re("xml"),ee()}},"ISO 19115 XML"),r.a.createElement(T.a,{key:"yaml",onClick:function(){re("yaml"),ee()}},"YAML"),r.a.createElement(T.a,{key:"erddap",onClick:function(){re("erddap"),ee()}},"ERDDAP snippet"),r.a.createElement(T.a,{key:"eml",onClick:function(){re("eml"),ee()}},"EML for OBIS IPT"),r.a.createElement(T.a,{key:"json",onClick:function(){re("json"),ee()}},"DATACITE JSON")))),R&&r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"Transfer to user",fr:"Transfert vers l'utilisateur"})},r.a.createElement("span",null,r.a.createElement(P.a,{onClick:I,edge:"end","aria-label":"transfer"},r.a.createElement(Ie.a,null)))),r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"Open catalogue entry in new window",fr:"Ouvrir l'entr\xe9e dans le catalogue dans une nouvelle fen\xeatre"})},r.a.createElement("span",null,r.a.createElement(P.a,{disabled:!L,onClick:function(){window.open(J,"_blank").focus()},edge:"end","aria-label":"transfer"},r.a.createElement(Ae.a,null))))))},Ot=function(e){Object(Q.a)(a,e);var t=Object(X.a)(a);function a(e){var n;return Object(J.a)(this,a),(n=t.call(this,e)).state={records:{},deleteModalOpen:!1,submitModalOpen:!1,withdrawModalOpen:!1,modalKey:"",modalRecord:null,loading:!1},n}return Object(K.a)(a,[{key:"loadRecords",value:function(){var e=Object(p.a)(f.a.mark((function e(){var t,a,n=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0}),t=this.props.match,a=t.params.region,this.unsubscribe=H.a.onAuthStateChanged((function(e){if(e){var t=$.a.database().ref(a).child("users").child(e.uid).child("records");t.on("value",(function(e){var t=e.toJSON();n.setState({records:Object(fe.e)(t),loading:!1})})),n.listenerRefs.push(t)}}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.unsubscribeAndCloseListeners()}},{key:"unsubscribeAndCloseListeners",value:function(){this.unsubscribe&&this.unsubscribe(),this.listenerRefs.length&&this.listenerRefs.forEach((function(e){return e.off()}))}},{key:"componentDidMount",value:function(){var e=Object(p.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadRecords();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"editRecord",value:function(e){var t=this.props,a=t.match,n=t.history,r=a.params,i=r.language,l=r.region,o=H.a.currentUser;n.push("/".concat(i,"/").concat(l,"/").concat(o.uid,"/").concat(e))}},{key:"handleSubmitRecord",value:function(e){var t=this.props.match.params.region;return!(!H.a.currentUser||!e)&&Object(fe.h)(t,H.a.currentUser.uid,e,"submitted")}},{key:"withdrawRecord",value:function(e){var t=this.props.match.params.region;return!(!H.a.currentUser||!e)&&Object(fe.f)(t,H.a.currentUser.uid,e)}},{key:"cloneRecord",value:function(e){var t=this.props.match.params.region;H.a.currentUser&&Object(fe.a)(e,H.a.currentUser.uid,H.a.currentUser.uid,t)}},{key:"deleteRecord",value:function(e){var t=this.props.match.params.region;return!!H.a.currentUser&&Object(fe.b)(t,H.a.currentUser.uid,e)}},{key:"toggleModal",value:function(e,t){var a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.setState((a={modalKey:n},Object(g.a)(a,e,t),Object(g.a)(a,"modalRecord",r),a))}},{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.history,i=a.params,l=i.language,o=i.region,s=this.state,c=s.deleteModalOpen,u=s.withdrawModalOpen,m=s.modalKey,f=s.modalRecord,p=s.submitModalOpen,b=s.records,g=s.loading;return r.a.createElement("div",null,r.a.createElement(ve,{open:c,onClose:function(){return e.toggleModal("deleteModalOpen",!1)},onAccept:function(){return e.deleteRecord(m)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"}),r.a.createElement(ve,{open:p,onClose:function(){return e.toggleModal("submitModalOpen",!1)},onAccept:function(){return e.handleSubmitRecord(m,f)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"}),r.a.createElement(ve,{open:u,onClose:function(){return e.toggleModal("withdrawModalOpen",!1)},onAccept:function(){return e.withdrawRecord(m)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"}),r.a.createElement(N.a,{variant:"h5"},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"My Records"),r.a.createElement(Y.b,null,"Mes dossiers"))),g?r.a.createElement(se.a,null):r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement(N.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,'To start a new record, click on "New Record" and begin adding information. To continue working on a record, select it from the list below. Once your record is completed and information has been provided for all mandatory fields, you can submit your record for review by clicking the "Submit for review" icon to the right of your record title. The record will not be published until it is reviewed and approved by ',d[o].title[l]," staff."),r.a.createElement(Y.b,null,"Afin de soumettre vos m\xe9tadonn\xe9es, cliquez sur \xab Nouvel enregistrement \xbb et ajoutez-y les informations demand\xe9es. Si vous d\xe9sirez reprendre la saisie d\u2019un formulaire d\xe9j\xe0 entam\xe9, s\xe9lectionnez-le dans la liste ci-dessous. Lorsque les informations sont saisies pour tous les champs obligatoires, vous pouvez soumettre vos m\xe9tadonn\xe9es pour validation en cliquant sur l\u2019ic\xf4ne \xab soumettre pour validation \xbb. Vos m\xe9tadonn\xe9es seront publi\xe9es lorsqu\u2019elles auront \xe9t\xe9 valid\xe9es et approuv\xe9es par un professionel du"," ",d[o].title[l],"."))),r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement(de.a,{startIcon:r.a.createElement(me.a,null),onClick:function(){return n.push("/".concat(l,"/").concat(o,"/new"))}},r.a.createElement(Y.c,{en:"New Record",fr:"Nouvel enregistrement"}))),r.a.createElement(V.a,null,Object.entries(b||{}).sort((function(e,t){return new Date(t[1].created)-new Date(e[1].created)})).map((function(t){var a=Object(h.a)(t,2),n=a[0],i=a[1],l=i.status,o=i.title;return!(null===o||void 0===o?void 0:o.en)&&(null===o||void 0===o?void 0:o.fr)?null:r.a.createElement(xt,{key:n,record:i,showCloneAction:!0,onCloneClick:function(){return e.cloneRecord(n)},showDeleteAction:!0,onDeleteClick:function(){return e.toggleModal("deleteModalOpen",!0,n)},showEditAction:!0,showPercentComplete:!0,onViewEditClick:function(){return e.editRecord(n)},showSubmitAction:!0,onSubmitClick:function(){""===l?e.toggleModal("submitModalOpen",!0,n,i):e.toggleModal("withdrawModalOpen",!0,n)}})})))),!b&&r.a.createElement(N.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"You don't have any records."),r.a.createElement(Y.b,null,"Vous n'avez pas d'historique de saisie.")))))}}]),a}(ee.a),Ct=function(e){Object(Q.a)(a,e);var t=Object(X.a)(a);function a(e){var n;return Object(J.a)(this,a),(n=t.call(this,e)).state={records:{},deleteModalOpen:!1,submitModalOpen:!1,withdrawModalOpen:!1,modalKey:"",modalRecord:null,loading:!1},n}return Object(K.a)(a,[{key:"loadRecords",value:function(){var e=Object(p.a)(f.a.mark((function e(){var t,a,n=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0}),t=this.props.match,a=t.params.region,this.unsubscribe=H.a.onAuthStateChanged(function(){var e=Object(p.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&((r=$.a.database().ref(a).child("users")).on("value",(function(e){var t=Object(fe.d)(e,["published"]);n.setState({records:t,loading:!1})})),n.listenerRefs.push(r));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(p.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadRecords();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"editRecord",value:function(e,t){var a=this.props,n=a.match,r=a.history,i=n.params,l=i.language,o=i.region;r.push("/".concat(l,"/").concat(o,"/").concat(t,"/").concat(e))}},{key:"handleCloneRecord",value:function(e,t){var a=this.props.match.params.region;H.a.currentUser&&Object(fe.a)(e,t,H.a.currentUser.uid,a)}},{key:"render",value:function(){var e=this,t=this.props.match.params.region,a=this.state,n=a.records,i=a.loading;return r.a.createElement("div",null,r.a.createElement(N.a,{variant:"h5"},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Published Records"),r.a.createElement(Y.b,null,"Dossiers publi\xe9s"))),i?r.a.createElement(se.a,null):r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement(N.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"These are the published records in your region."),r.a.createElement(Y.b,null,"Il s'agit des enregistrements publi\xe9s dans votre r\xe9gion."))),r.a.createElement(V.a,null,n&&n.length?n.sort((function(e,t){return new Date(t.created)-new Date(e.created)})).filter((function(e){return"published"===e.status})).map((function(a){var n=a.title;return!(null===n||void 0===n?void 0:n.en)&&(null===n||void 0===n?void 0:n.fr)?null:r.a.createElement(xt,{record:a,key:a.recordID,onViewEditClick:function(){var t;return e.editRecord(a.recordID,null===(t=a.userinfo)||void 0===t?void 0:t.userID)},showDeleteAction:!1,showUnSubmitAction:!1,showCloneAction:!0,showAuthor:!0,showViewAction:!0,onCloneClick:function(){var n;return e.handleCloneRecord(a.recordID,null===(n=a.userinfo)||void 0===n?void 0:n.userID,t)}})})):"")),!n&&r.a.createElement(N.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"There are no published records."),r.a.createElement(Y.b,null,"Il n'y a pas de documents publi\xe9s.")))))}}]),a}(ee.a),jt=a(614);function kt(){return(kt=Object(p.a)(f.a.mark((function e(t,a,n){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$.a.database().ref(t).child("users").child(a).child("contacts"),e.next=3,r.child(n).once("value");case 3:(i=e.sent.val()).lastName?i.lastName+=" (Copy)":i.orgName+=" (Copy)",r.push(i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function St(){return(St=Object(p.a)(f.a.mark((function e(t,a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.database().ref(t).child("users").child(a).child("contacts").push({});case 2:return n=e.sent,e.abrupt("return",n.key);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _t=function(e){return function(e){var t=e.orgName,a=e.givenNames;return[[e.lastName,a].filter((function(e){return e})).join(", "),t].filter((function(e){return e})).map((function(e){return e.trim()})).filter((function(e){return e})).join(" - ")}(e.contact)||r.a.createElement(Y.c,{en:"New contact",fr:"Nouveau contact"})},Dt=function(e){Object(Q.a)(a,e);var t=Object(X.a)(a);function a(e){var n;return Object(J.a)(this,a),(n=t.call(this,e)).state={contacts:{},modalOpen:!1,modalKey:"",loading:!1},n}return Object(K.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(f.a.mark((function e(){var t,a,n=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0}),t=this.props.match,a=t.params.region,this.unsubscribe=H.a.onAuthStateChanged((function(e){if(e){var t=$.a.database().ref(a).child("users").child(e.uid).child("contacts");t.on("value",(function(e){return n.setState({contacts:e.toJSON(),loading:!1})})),n.listenerRefs.push(t)}}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleDeleteContact",value:function(e){var t=this.props.match.params.region;H.a.currentUser&&function(e,t,a){$.a.database().ref(e).child("users").child(t).child("contacts").child(a).remove()}(t,H.a.currentUser.uid,e)}},{key:"handleCloneContact",value:function(e){var t=this.props.match.params.region;return!!H.a.currentUser&&function(e,t,a){return kt.apply(this,arguments)}(t,H.a.currentUser.uid,e)}},{key:"addContact",value:function(){var e=this.props,t=e.history,a=e.match.params,n=a.language,r=a.region;H.a.currentUser&&function(e,t){return St.apply(this,arguments)}(r,H.a.currentUser.uid).then((function(e){t.push("/".concat(n,"/").concat(r,"/contacts/").concat(e))}))}},{key:"editContact",value:function(e){var t=this.props,a=t.history,n=t.match.params,r=n.language,i=n.region;a.push("/".concat(r,"/").concat(i,"/contacts/").concat(e))}},{key:"toggleModal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.setState({modalKey:t,modalOpen:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.modalOpen,n=t.modalKey,i=t.loading,l=t.contacts;return r.a.createElement(oe.a,{container:!0,direction:"column",spacing:3},r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(ve,{open:a,onClose:function(){return e.toggleModal(!1)},onAccept:function(){return e.handleDeleteContact(n)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"}),r.a.createElement(N.a,{variant:"h5"},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Contacts"),r.a.createElement(Y.b,null,"Contacts")))),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(N.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Create contacts here that you can reuse in multiple metadata records."),r.a.createElement(Y.b,null,"Ajoutez ici les personnes ressources que vous d\xe9sirez r\xe9utiliser pour la saisie d\u2019autres m\xe9tadonn\xe9es.")))),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(de.a,{startIcon:r.a.createElement(me.a,null),onClick:function(){return e.addContact()}},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Add contact"),r.a.createElement(Y.b,null,"ajouter un contact")))),i?r.a.createElement(se.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{item:!0,xs:!0},l&&Object.keys(l).length?r.a.createElement("div",null,r.a.createElement(N.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"These are your contacts"),r.a.createElement(Y.b,null,"Ce sont vos contacts"))),r.a.createElement(V.a,null,Object.entries(l).map((function(t){var a=Object(h.a)(t,2),n=a[0],i=a[1];return r.a.createElement(M.a,{key:n,button:!0,onClick:function(){return e.editContact(n)}},r.a.createElement(we.a,null,r.a.createElement(F.a,null,r.a.createElement(jt.a,null))),r.a.createElement(B.a,{primary:r.a.createElement(_t,{contact:i})}),r.a.createElement(xe.a,null,r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"Edit",fr:"\xc9diter"})},r.a.createElement("span",null,r.a.createElement(P.a,{onClick:function(){return e.editContact(n)}},r.a.createElement(je.a,null)))),r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"Clone",fr:"Clone"})},r.a.createElement("span",null,r.a.createElement(P.a,{onClick:function(){return e.handleCloneContact(n)}},r.a.createElement(De.a,null)))),r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"Delete",fr:"Supprimer"})},r.a.createElement("span",null,r.a.createElement(P.a,{onClick:function(){return e.toggleModal(!0,n)}},r.a.createElement(ke.a,null))))))})))):r.a.createElement(N.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"No contacts submitted yet"),r.a.createElement(Y.b,null,"Aucun contacts n'a encore \xe9t\xe9 soumis"))))))}}]),a}(ee.a),Rt=function(){return r.a.createElement("div",null,r.a.createElement(N.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Please sign in to access your metadata records. You will need a Google account to login."),r.a.createElement(Y.b,null,"Connectez-vous pour acc\xe9der \xe0 l'historique de saisie de vos m\xe9tadonn\xe9es. Vous aurez besoin d'un compte Google pour vous connecter."))))},It=a(126),At=a(639),qt=a(628),Pt=a(629),Nt=a(640),Lt=a(630),Tt=a(8),Ut=a(532),Mt=a(648),zt=function(e){var t=e.status,a="";return a="submitted"===t?r.a.createElement(Y.c,{en:"Submitted",fr:"Soumis"}):"published"===t?r.a.createElement(Y.c,{en:"Published",fr:"Publi\xe9"}):r.a.createElement(Y.c,{en:"Draft",fr:"Brouillon"}),r.a.createElement(Mt.a,{label:a,variant:"outlined"})},Ft=function(){return r.a.createElement("div",null,r.a.createElement(N.a,{variant:"h5"},"Not Found / Non trouv\xe9"))},Bt=a(101);var Wt=function(e){return e.passes?r.a.createElement("span",{style:{color:"green",fontSize:"x-large",position:"relative",bottom:"-4px"}}," ","\u2713"," "):r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"Required",fr:"Obligatoire"})},r.a.createElement("span",{style:{color:"red",fontSize:"large"}}," ","\u2735"," "))},Vt=a(10),Gt=function(e){var t=e.disabled,a=Object(u.i)().region,n=d[a];return r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(Bt.a,{style:Vt.c},t&&r.a.createElement(N.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,r.a.createElement("b",null,"This form is locked because it has already been published, or you do not have access to edit it.")),r.a.createElement(Y.b,null,r.a.createElement("b",null,"Ce formulaire est verrouill\xe9 car il a d\xe9j\xe0 \xe9t\xe9 publi\xe9 ou vous n'avez pas acc\xe8s pour le modifier.")))),r.a.createElement(N.a,{variant:"body1"},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Welcome to the ",n.title.en," Metadata Entry Tool, the first step in making your data discoverable and accessible through CIOOS. This information will be used to create a metadata record for your dataset that will allow it to be searchable through the"," ",n.catalogueTitle.en,". Please fill out each field with as much detail as possible. The metadata record will help describe this dataset for others to determine if it is relevant for their work and ensure it is interoperable with other databases and systems.",r.a.createElement("br",null),r.a.createElement("br",null)," Questions regarding the form can be directed to"," "),r.a.createElement(Y.b,null,"Bienvenue dans l\u2019outil de saisie de m\xe9tadonn\xe9es"," ",n.titleFrPossessive," qui constitue la premi\xe8re \xe9tape du processus de partage de vos donn\xe9es. Ces renseignements serviront \xe0 cr\xe9er le profil de m\xe9tadonn\xe9es de votre jeu de donn\xe9es. Ces m\xe9tadonn\xe9es facilitent l\u2019accessibilit\xe9 et la d\xe9couvrabilit\xe9 de vos donn\xe9es via le Catalogue de donn\xe9es ",n.catalogueTitle.fr,". Elles rendent \xe9galement vos jeux de donn\xe9es interop\xe9rables avec d\u2019autres syst\xe8mes de diffusion. Aussi, nous vous incitons fortement \xe0 remplir les champs requis de la fa\xe7on la plus exhaustive possible.",r.a.createElement("br",null),r.a.createElement("br",null)," Les questions concernant le formulaire peuvent \xeatre adress\xe9es \xe0"," ")),r.a.createElement("a",{href:"mailto:".concat(n.email)},n.email),"."),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"You can save the form once you have filled out a title."),r.a.createElement(Y.b,null,"D\xe8s que vous avez saisi un titre, vous pouvez enregistrer le formulaire."))),r.a.createElement("li",null,r.a.createElement(Y.a,null,"All fields marked with a ",r.a.createElement(Wt,null)," are mandatory."),r.a.createElement(Y.b,null,"Tous les champs marqu\xe9s d'une \xe9toile ",r.a.createElement(Wt,null)," sont obligatoires.")),r.a.createElement("li",null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"The form can be saved and completed over time by clicking the"," ",r.a.createElement(Ut.a,null),' icon in the bottom right corner. This icon will be greyed out until you have filled in the dataset title in the "Identification" section.'),r.a.createElement(Y.b,null,"Le formulaire peut \xeatre sauvegard\xe9 et compl\xe9t\xe9 ult\xe9rieurement en cliquant sur le bouton ",r.a.createElement(Ut.a,null)," dans le coin inf\xe9rieur droit. Cet ic\xf4ne sera activ\xe9 par l\u2019ajout du titre du jeu de donn\xe9es dans la section \xab Identification des donn\xe9es \xbb."))),r.a.createElement("li",null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Some fields can have text in both French and English, though this is only required for the title and the abstract. There is a 'Translate' button that will automatically generate text in the other language. This translation is more accurate when there is more text to translate."),r.a.createElement(Y.b,null,"Certains champs peuvent avoir du texte \xe0 la fois en fran\xe7ais et en anglais, toutefois seules les traductions du titre et du r\xe9sum\xe9 sont r\xe9ellement requises. Le bouton \xab Traduire\xbb g\xe9n\xe8re automatiquement du texte dans l'autre langue. Veuillez noter que plus il y a de texte \xe0 traduire et plus la traduction sera pr\xe9cise."))))))},Ht=a(22),Yt=a(210),Jt=a.n(Yt),Kt=a(134),Qt=a(534),Xt=a(642),Zt=a(179),$t=a(619),ea=a(79),ta=a(537),aa=a(643),na=a(615),ra=a(617),ia=a(616),la=a(533),oa=function(e){var t=e.onChange,a=e.value,n=void 0===a?[]:a,i=e.name,l=e.options,o=e.optionLabels,s=void 0===o?l:o,c=e.optionTooltips,u=void 0===c?[]:c,d=e.disabled,m=e.labelSize,f=void 0===m?3:m;return r.a.createElement(oe.a,{container:!0,direction:"row"},l.map((function(e,a){return r.a.createElement(oe.a,{item:!0,key:a,xs:f},r.a.createElement(G.a,{title:u[a]||""},r.a.createElement(la.a,{disabled:d,control:r.a.createElement(ta.a,{value:e||[],name:i,checked:n.includes(e),onChange:function(e){var a,r,i=e.target.value,l=(a=i,(r=n).includes(a)?r.filter((function(e){return e!==a})):r.concat(a));t(l)}}),label:r.a.createElement(N.a,null,s[a])})))})))},sa={custodian:{title:{en:"Metadata Custodian",fr:"D\xe9positaire des m\xe9tadonn\xe9es"},text:{en:"Party that accepts accountability and responsibility for the resource and ensures appropriate care and maintenance of the resource ",fr:"Partie qui accepte la reddition de comptes et la responsabilit\xe9 de la ressource et assure le soin et l'entretien appropri\xe9s de la ressource "},required:!0,showProminently:!0},owner:{title:{en:"Data Owner",fr:"Propri\xe9taire des donn\xe9es"},text:{en:"Party that owns the resource",fr:"Partie propri\xe9taire de la ressource"},required:!0,showProminently:!0},distributor:{title:{en:"Distributor",fr:"Distributeur"},text:{en:"Party who distributes the resource",fr:"Partie qui distribue la ressource"},showProminently:!0},author:{title:{en:"Author",fr:"Auteur"},text:{en:"Party who authored the resource"}},coAuthor:{title:{en:"Coauthor",fr:"Co-auteur"},text:{en:"Party who jointly authors the resource",fr:"Partie qui est l'auteur conjoint de la ressource"}},collaborator:{title:{en:"Collaborator",fr:"Collaborateur"},text:{en:"Party who assists with the generation of the resource other than the principal investigator",fr:"Partie qui aide \xe0 la production de la ressource autre que le chercheur principal"}},contributor:{title:{en:"Contributor",fr:"Contributeur"},text:{en:"Party contributing to the resource",fr:"Partie contribuant \xe0 la ressource"}},editor:{title:{en:"Editor",fr:"\xc9diteur"},text:{en:"Party who reviewed or modified the resource to improve the content",fr:"Partie qui a examin\xe9 ou modifi\xe9 la ressource pour am\xe9liorer le contenu"}},funder:{title:{en:"Funder",fr:"Financeur"},text:{en:"Party providing monetary support for the resource",fr:"Partie fournissant un soutien mon\xe9taire pour la ressource"}},mediator:{title:{en:"Mediator",fr:"M\xe9diateur"},text:{en:"A class of entity that mediates access to the resource and for whom the resource is intended or useful ",fr:"Classe d'entit\xe9 qui sert de m\xe9diateur \xe0 l'acc\xe8s \xe0 la ressource et pour laquelle la ressource est destin\xe9e ou utile"}},originator:{title:{en:"Originator",fr:"Initiateur"},text:{en:"Party who created the resource",fr:"Partie qui a cr\xe9\xe9 la ressource"}},pointOfContact:{title:{en:"Point Of Contact",fr:"Point de contact"},text:{en:"Party who can be contacted for acquiring knowledge about or acquisition of the resource",fr:"Partie qui peut \xeatre contact\xe9e pour acqu\xe9rir des connaissances sur la ressource ou l'acquisition de la ressource"}},principalInvestigator:{title:{en:"Principal Investigator",fr:"Responsable de recherche"},text:{en:"Key party responsible for gathering information and conducting research",fr:"Partie cl\xe9 responsable de la collecte de l'information et de la r\xe9alisation de la recherche"}},processor:{title:{en:"Processor",fr:"Transformateur"},text:{en:"Party who has processed the data in a manner such that the resource has been modified",fr:"Partie qui a trait\xe9 les donn\xe9es d'une mani\xe8re telle que la ressource a \xe9t\xe9 modifi\xe9e"}},publisher:{title:{en:"Publisher",fr:"Editeur"},text:{en:"Party who published the resource",fr:"Partie qui a publi\xe9 la ressource"}},resourceProvider:{title:{en:"Resource Provider",fr:"Fournisseur de ressources"},text:{en:"Party that supplies the resource",fr:"Partie qui fournit la ressource "}},rightsHolder:{title:{en:"Rights Holder",fr:"Ayant droit"},text:{en:"Party owning or managing rights over the resource ",fr:"Partie d\xe9tenant ou g\xe9rant des droits sur la ressource"}},sponsor:{title:{en:"Sponsor",fr:"Commanditaire"},text:{en:"Party who speaks for the resource ",fr:"Parti qui parle pour la ressource"}},stakeholder:{title:{en:"Stakeholder",fr:"Actionnaire"},text:{en:"Party who has an interest in the resource or the use of the resource ",fr:"Partie qui a un int\xe9r\xeat dans la ressource ou l'utilisation de la ressource"}}},ca={onGoing:{title:{en:"Ongoing",fr:"En cours"},text:{en:"Data is continually being updated. e.g satellite dataset that continues to be augmented",fr:"Les donn\xe9es sont continuellement mises \xe0 jour, par exemple un ensemble de donn\xe9es satellite qui continue d'\xeatre augment\xe9"}},historicalArchive:{title:{en:"Historical Archive",fr:"Archives historiques"},text:{en:"Data has been stored in an offline storage facility. use to indicate data are archived",fr:"Les donn\xe9es ont \xe9t\xe9 stock\xe9es dans une installation de stockage hors connexion. Utilisez pour indiquer que les donn\xe9es sont archiv\xe9es"}},completed:{title:{en:"Completed",fr:"Termin\xe9"},text:{en:"Production of the data has been completed \te.g. raw data that is not ongoing, completed model",fr:"La production des donn\xe9es a \xe9t\xe9 termin\xe9e, p. ex. donn\xe9es brutes qui ne sont pas en cours, mod\xe8le termin\xe9"}}},ua={heightPositive:{en:"Depth Positive",fr:"Profondeur positive"},depthPositive:{en:"Height Positive",fr:"Hauteur positive"}},da=function(e){var t,a=e.value,i=e.disabled,l=e.updateContact,o=Object(n.useState)(!1),s=Object(h.a)(o,2),c=s[0],d=s[1],m=Object(u.i)().language,f=Object.entries(sa).map((function(e){var t=Object(h.a)(e,2),a=t[0],n=t[1];return Object(b.a)({key:a},n)})),p=f.filter((function(e){return e.showProminently})),g=f.filter((function(e){return!e.showProminently})),v=g.map((function(e){return e.key})),E=(a.role||[]).filter((function(e){return v.includes(e)})).length>0;return r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Appear in citation?"),r.a.createElement(Y.b,null,"Apparaissent dans la citation?")),r.a.createElement(ta.a,{name:"inCitation",checked:a.inCitation||!1,onChange:function(e){var t=e.target.checked;l("inCitation")(t)}})),r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"What is the role of this contact?"),r.a.createElement(Y.b,null,"Quel est son r\xf4le?")),r.a.createElement(Wt,{passes:null===(t=a.role)||void 0===t?void 0:t.length}),r.a.createElement(Vt.b,null," ",r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Multiple roles can be selected for each contact. Expand the list below for additional role."),r.a.createElement(Y.b,null,"Plusieurs r\xf4les peuvent \xeatre s\xe9lectionn\xe9s par personne. Si vous avez besoin de r\xf4les plus sp\xe9cifiques, vous pouvez \xe9tendre la liste. D\xe9veloppez la liste ci-dessous pour un r\xf4le suppl\xe9mentaire.")))),r.a.createElement(oa,{value:a.role||[],onChange:l("role"),options:p.map((function(e){return e.key})),optionLabels:p.map((function(e){return e.title[m]+(e.required?"*":"")})),disabled:i,optionTooltips:p.map((function(e){return e.text[m]}))}),r.a.createElement(aa.a,{onChange:function(){return d(!c)},expanded:c||E},r.a.createElement(na.a,{expandIcon:r.a.createElement(G.a,{title:"Show/Hide more options"},r.a.createElement(ia.a,null)),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Show/Hide more role options"),r.a.createElement(Y.b,null,"Afficher/masquer les r\xf4les"))),r.a.createElement(ra.a,null,r.a.createElement(oa,{value:a.role||[],onChange:l("role"),options:g.map((function(e){return e.key})),optionLabels:g.map((function(e){return e.title[m]})),disabled:i,optionTooltips:g.map((function(e){return e.text[m]}))}))))};var ma=function(e){var t,a,i,l,o=e.value,s=e.showRolePicker,c=e.disabled,u=e.handleClear,d=e.updateContact,m=e.updateContactEvent,f=e.updateContactRor,p=e.updateContactOrcid,g=Object(n.useRef)(!1),v=et(o.orgEmail),E=et(o.indEmail),y=tt(o.orgURL),w=!(null===(t=o.givenNames)||void 0===t?void 0:t.includes(",")),x=!(null===(a=o.lastName)||void 0===a?void 0:a.includes(",")),O=Object(n.useState)(o.orgRor),C=Object(h.a)(O,2),j=C[0],k=C[1],S=Object(n.useState)(""),_=Object(h.a)(S,2),D=_[0],R=_[1],I=Object(Zt.a)(j,500),A=Object(h.a)(I,1)[0],q=Object(n.useState)([]),L=Object(h.a)(q,2),T=L[0],U=L[1],M=Object(n.useState)(!1),z=Object(h.a)(M,2),F=z[0],B=z[1];return o=Object(b.a)(Object(b.a)({},Object(ea.a)()),o),Object(n.useEffect)((function(){var e;return g.current=!0,A&&((e=A).startsWith("http")&&!e.includes("ror.org")?g.current&&B(!1):fetch("https://api.ror.org/organizations?query=".concat(e)).then((function(e){return e.json()})).then((function(e){g.current&&U(e.items)})).then((function(){g.current&&B(!1)}))),function(){g.current=!1}}),[A]),r.a.createElement(oe.a,{container:!0,direction:"column",spacing:2},r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(N.a,{variant:"h6"},r.a.createElement(_t,{contact:o}))),r.a.createElement(oe.a,{item:!0,xs:!0},s&&r.a.createElement(da,{value:o,updateContact:d,disabled:c}),r.a.createElement(oe.a,{container:!0,direction:"column",spacing:1,style:{marginTop:"10px"}},r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Provide any information about the organization"),r.a.createElement(Y.b,null,"Identification de l'organisation")))),r.a.createElement(oe.a,{item:!0,xs:!0,style:{marginleft:"10px",height:"33px"}},F?r.a.createElement(se.a,{size:20}):r.a.createElement("div",{style:{height:"33px"}})),r.a.createElement(oe.a,{item:!0,xs:!0,style:{marginleft:"10px"}},r.a.createElement(Xt.a,{inputValue:j,onInputChange:function(e,t){k(t),B(""!==t)},disabled:c,onChange:function(e,t){null!==t&&fetch("https://api.ror.org/organizations/".concat(t.id)).then((function(e){return e.json()})).then((function(e){e.errors||f(e)})).then((function(){return B(!1)})).then((function(){return k("")}))},freeSolo:!0,filterOptions:function(e){return e},getOptionLabel:function(e){return e.name},options:T,fullWidth:!0,renderInput:function(e){return r.a.createElement(Kt.a,Object.assign({},e,{label:r.a.createElement(Y.c,{en:"Type to search Research Organization Registry (ROR)",fr:"Tapez pour rechercher le registre des organismes de recherche (ROR)\n"})}))}})),r.a.createElement(oe.a,{item:!0,xs:!0,style:{marginleft:"10px"}},r.a.createElement(Kt.a,{label:r.a.createElement(Y.c,{active:!0,en:"ROR URL",fr:"URL ROR"}),InputLabelProps:{shrink:""!==o.orgRor},value:o.orgRor,disabled:!0,fullWidth:!0,InputProps:{endAdornment:o.orgRor&&r.a.createElement(Qt.a,{position:"end"},r.a.createElement(P.a,{onClick:function(){u("orgRor")}},r.a.createElement($t.a,null)))}})),r.a.createElement(oe.a,{item:!0,xs:!0,style:{marginleft:"10px"}},r.a.createElement(Kt.a,{label:r.a.createElement(Y.c,{en:"Organization name",fr:"Nom de l'organisation"}),value:o.orgName,onChange:m("orgName"),disabled:""!==o.orgRor||c,fullWidth:!0})),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(Kt.a,{helperText:!y&&r.a.createElement(Y.c,{en:"Invalid URL",fr:"URL non valide"}),error:!y,label:r.a.createElement(Y.c,{en:"URL",fr:"URL"}),value:o.orgURL,onChange:m("orgURL"),disabled:""!==o.orgRor||c,fullWidth:!0})),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(Kt.a,{label:r.a.createElement(Y.c,{en:"Address",fr:"Adresse"}),value:o.orgAdress,onChange:m("orgAdress"),disabled:c,fullWidth:!0})),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(Kt.a,{label:r.a.createElement(Y.c,{en:"City",fr:"Ville"}),value:o.orgCity,onChange:m("orgCity"),disabled:""!==o.orgRor||c,fullWidth:!0})),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(Kt.a,{label:r.a.createElement(Y.c,{en:"Country",fr:"Pays"}),value:o.orgCountry,onChange:m("orgCountry"),disabled:""!==o.orgRor||c,fullWidth:!0})),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(Kt.a,{helperText:!v&&r.a.createElement(Y.c,{en:"Invalid email",fr:"E-mail non valide"}),error:!v,label:r.a.createElement(Y.c,{en:"Email",fr:"Courriel"}),value:o.orgEmail,onChange:m("orgEmail"),fullWidth:!0,disabled:c})," "))),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(N.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Provide any information about the individual"),r.a.createElement(Y.b,null,"Identification de l'individu"))),r.a.createElement(N.a,null,r.a.createElement(de.a,{href:"https://orcid.org/orcid-search/search",target:"_blank",rel:"noopener noreferrer",style:{marginTop:"10px",marginBottom:"10px"}},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"ORCID search "),r.a.createElement(Y.b,null,"Rechercher ORCID ")),r.a.createElement(Ae.a,{style:{verticalAlign:"middle"}}))),r.a.createElement(oe.a,{item:!0,xs:!0,style:{marginleft:"10px"}},r.a.createElement(Kt.a,{label:r.a.createElement(Y.c,{en:"Paste ORCID identifier here to populate personal data",fr:"Collez l'identifiant ORCID ici pour remplir les donn\xe9es personnelles"}),value:D,onChange:function(e){R(e.target.value);var t=e.target.value.match(/\w{4}-\w{4}-\w{4}-\w{4}/g);t&&fetch("https://pub.orcid.org/v3.0/".concat(t,"/record"),{headers:{accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){return p(e)})).then((function(){setTimeout((function(){return R("")}),100)}))},disabled:c,fullWidth:!0})),r.a.createElement(oe.a,{container:!0,direction:"column",spacing:1},r.a.createElement(oe.a,{item:!0,xs:!0},o.givenNames&&o.lastName&&o.inCitation&&r.a.createElement("div",{style:{marginBottom:"10px"}},"This name will appear in the citation as:"," ",r.a.createElement("b",null,(i=o.givenNames,l=o.lastName,i&&l?"".concat(l,", ").concat(function(e){return e.split(" ").filter((function(e){return e})).map((function(e){return"".concat(e[0].toUpperCase(),". ")})).join(" ")}(i)):"")))),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(Kt.a,{label:r.a.createElement(Y.c,{en:"ORCID URL",fr:"URL ORCID"}),InputLabelProps:{shrink:""!==o.indOrcid},value:o.indOrcid,InputProps:{endAdornment:o.indOrcid&&r.a.createElement(Qt.a,{position:"end"},r.a.createElement(P.a,{onClick:function(){u("indOrcid")}},r.a.createElement($t.a,null)))},disabled:!0,fullWidth:!0})),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(Kt.a,{label:r.a.createElement(Y.c,{en:"Given name(s)",fr:"Pr\xe9nom"}),value:o.givenNames,helperText:!w&&r.a.createElement(Y.c,{en:"No commas allowed",fr:"Aucune virgule n'est autoris\xe9e"}),error:!w,onChange:m("givenNames"),disabled:c,fullWidth:!0})),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(Kt.a,{label:r.a.createElement(Y.c,{en:"Last name",fr:"nom de famille"}),value:o.lastName,helperText:!x&&r.a.createElement(Y.c,{en:"No commas allowed",fr:"Aucune virgule n'est autoris\xe9e"}),error:!x,onChange:m("lastName"),disabled:c,fullWidth:!0})),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(Kt.a,{label:r.a.createElement(Y.c,{en:"Position",fr:"Poste occup\xe9"}),value:o.indPosition,onChange:m("indPosition"),disabled:c,fullWidth:!0})),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(Kt.a,{helperText:!E&&r.a.createElement(Y.c,{en:"Invalid email",fr:"E-mail non valide"}),error:!E,label:r.a.createElement(Y.c,{en:"Email",fr:"Courriel"}),value:o.indEmail,onChange:m("indEmail"),disabled:c,fullWidth:!0})))))},fa=a(209),pa=a(284),ha=a.n(pa),ba=a(620),ga=a(618),va=a(649),Ea=Object(E.a)((function(){return{formControl:{minWidth:200},selectEmpty:{}}})),ya=function(e){var t=e.value,a=void 0===t?"":t,n=e.name,i=e.options,l=e.optionLabels,o=e.optionTooltips,s=void 0===o?[]:o,c=e.onChange,u=e.disabled,d=e.label,m=e.fullWidth,f=void 0===m||m,p=Ea();return r.a.createElement(ga.a,{fullWidth:f,className:p.formControl,disabled:u},r.a.createElement(L.a,{className:p.selectEmpty,name:n,fullWidth:f,value:a,disabled:u,displayEmpty:!0,onChange:c},r.a.createElement(T.a,{value:""},r.a.createElement(va.a,{id:"demo-simple-select-label"},r.a.createElement(N.a,null,d||r.a.createElement(Y.c,{en:"Choose",fr:"Choisir"})))),i.map((function(e,t){return r.a.createElement(T.a,{key:e,value:e},r.a.createElement(G.a,{enterDelay:1,title:s[t]?s[t]:""},r.a.createElement("div",{style:{width:"100%"}},l[t])))}))))},wa=function(e){var t=e.contacts,a=e.updateContacts,i=e.activeContact,l=e.setActiveContact,o=e.disabled,s=e.userContacts,c=e.saveToContacts,u=Object(n.useState)(t),d=Object(h.a)(u,2),m=d[0],f=d[1];Object(qe.b)(m,t)||f(t);var p=Object.values(s||{});return r.a.createElement(Bt.a,{style:Vt.c},r.a.createElement(oe.a,{container:!0,direction:"column",justifyContent:"flex-start"},r.a.createElement(oe.a,{item:!0,xs:!0,style:{margin:"10px"}},r.a.createElement(N.a,null,t.length?r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Contacts in this record:"),r.a.createElement(Y.b,null,"Contacts dans cet enregistrement:")):r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"There are no contacts in this record."),r.a.createElement(Y.b,null,"Il n'y a aucun contact dans cet enregistrement.")))),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(V.a,null,r.a.createElement(fa.Container,{dragHandleSelector:".drag-handle",lockAxis:"y",onDrop:function(e){var t=e.removedIndex,n=e.addedIndex;t===i?l(n):n<=i&&t>i&&l(i+1);var r=ha()(m,t,n);a(r)}},t.map((function(e,n){var s,u,d;return r.a.createElement(fa.Draggable,{key:n},r.a.createElement(M.a,{key:n,button:!0,onClick:function(){return l(n)}},r.a.createElement(B.a,{primary:r.a.createElement(N.a,{style:{fontWeight:i===n?"bold":"",width:"80%"}},r.a.createElement(_t,{contact:e}))}),r.a.createElement(xe.a,null,r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"Duplicate contact",fr:"Duplicate contact"})},r.a.createElement("span",null,r.a.createElement(P.a,{onClick:function(){return function(e){var n=Object(qe.a)(t[e]);n.lastName?n.lastName+=" (Copy)":n.orgName+=" (Copy)",a(t.concat(n))}(n)},edge:"end","aria-label":"clone",disabled:o},r.a.createElement(De.a,null)))),r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"Remove from this record",fr:"Supprimer de cet enregistrement"})},r.a.createElement("span",null,r.a.createElement(P.a,{onClick:function(){return e=n,a(t.filter((function(t,a){return a!==e}))),void(t.length&&l(t.length-2));var e},edge:"end","aria-label":"clone",disabled:o},r.a.createElement(ke.a,null)))),r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"Add to saved contacts",fr:"Ajouter aux contacts enregistr\xe9s"})},r.a.createElement("span",null,r.a.createElement(P.a,{onClick:function(){var e=Object(qe.a)(t[n]);delete e.role,e.contactID=c(e),f(t)},disabled:!((null===(s=t[n].orgName)||void 0===s?void 0:s.length)||(null===(u=t[n].givenNames)||void 0===u?void 0:u.length)||(null===(d=t[n].lastName)||void 0===d?void 0:d.length)),edge:"end","aria-label":"clone"},r.a.createElement(Ut.a,null)))),r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"Drag to reorder",fr:"Duplicate contact"})},r.a.createElement("span",null,r.a.createElement(P.a,{className:"drag-handle",edge:"end","aria-label":"clone",disabled:o},r.a.createElement(ba.a,null)))))))}))))),r.a.createElement(oe.a,{item:!0,xs:!0,style:{margin:"10px"}},r.a.createElement(de.a,{disabled:o,onClick:function(){a(t.concat(Object(ea.a)())),l(t.length)},fullWidth:!0,style:{height:"56px",justifyContent:"emptyContact"}},r.a.createElement(N.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Add new contact"),r.a.createElement(Y.b,null,"Ajouter un contact"))))),r.a.createElement(oe.a,{item:!0,xs:!0,style:{margin:"10px"}},r.a.createElement(ya,{value:"",labelId:"add-existing",onChange:function(e){var n=e.target.value,r=p[n],i=(r.role,Object(It.a)(r,["role"]));a(t.concat(Object(qe.a)(Object(b.a)(Object(b.a)({},Object(ea.a)()),i)))),l(t.length)},optionLabels:p.map((function(e){return r.a.createElement(_t,{contact:e})})),options:p.map((function(e,t){return t})),disabled:!p.length||o,label:r.a.createElement(Y.c,{en:"ADD SAVED CONTACT",fr:"AJOUTER UN CONTACT"})}))))},xa=function(e){var t,a,i=e.disabled,l=e.record,o=e.userContacts,s=e.updateRecord,c=e.saveToContacts,m=Object(u.i)(),f=m.language,p=m.region,b=l.contacts,g=void 0===b?[]:b,v=s("contacts"),E=Object(n.useState)(0),y=Object(h.a)(E,2),w=y[0],x=y[1];function O(e){return function(t){var a=Object(Ht.a)(g);a[w][e]=t,v(a)}}var C=(null===(t=l.title)||void 0===t?void 0:t[f])&&g.length&&l.created&&(null===(a=l.contacts)||void 0===a?void 0:a.some((function(e){return e.inCitation}))),j=g[w];return r.a.createElement(oe.a,{container:!0,spacing:3},r.a.createElement(Bt.a,{style:Vt.c},r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Please enter at least one Metadata Custodian ",r.a.createElement("b",null,"and")," one Data Owner for this dataset that can work with"," ",d[p].title[f]," Staff to finalize this Metadata Record. You also must select at least one contact to appear in the citation. One contact can occupy multiple roles."),r.a.createElement(Y.b,null,"Veuillez saisir au moins un D\xe9positaire des m\xe9tadonn\xe9es ET un propri\xe9taire des donn\xe9es de ce jeu. Ces personnes pourraient \xeatre appel\xe9es \xe0 collaborer avec le personnel",d[p].titleFrPossessive," pour finaliser la saisie des informations. Vous devez \xe9galement s\xe9lectionner au moins un contact pour appara\xeetre dans la citation. Un contact peut occuper plusieurs r\xf4les.")),r.a.createElement(Wt,{passes:ut(l,"contacts")}),r.a.createElement(Vt.b,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"It is important to include all individuals from the chain of attribution to ensure all involved parties are credited appropriately for their role in creating this dataset. Saved contacts can be selected from the list below."),r.a.createElement(Y.b,null,"Il est important d'inclure toutes les personnes ayant travaill\xe9 sur le jeu de donn\xe9es afin de s'assurer que toutes les parties concern\xe9es soient cr\xe9dit\xe9es de fa\xe7on appropri\xe9e pour leur r\xf4le dans la cr\xe9ation de ce jeu de donn\xe9es. Les contacts sauvegard\xe9s peuvent \xeatre s\xe9lectionn\xe9s dans la liste ci-dessous.")))))),C&&r.a.createElement(Bt.a,{style:Vt.c},r.a.createElement(Vt.a,null,r.a.createElement("div",null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"This is how your record citation will look in the catalogue. To change the citation order, drag the"," ",r.a.createElement(Jt.a,{style:{verticalAlign:"middle"}})," symbol."),r.a.createElement(Y.b,null,"Voici \xe0 quoi ressemblera votre citation dans le catalogue. Seuls les contacts dont la case \xabAuteur cit\xe9\xbb est coch\xe9e apparaissent. Seuls les r\xf4les \xe9toil\xe9s appara\xeetront dans la citation. Changer la commande, faites glisser le"," ",r.a.createElement(Jt.a,{style:{verticalAlign:"middle"}}),".")))),r.a.createElement(Vt.b,null,r.a.createElement(Me,{language:f,record:l}))),r.a.createElement(oe.a,{container:!0,direction:"row",style:{marginLeft:"5px"}},r.a.createElement(oe.a,{item:!0,xs:5},r.a.createElement(wa,{contacts:g,updateContacts:v,setActiveContact:x,activeContact:w,disabled:i,userContacts:o,saveToContacts:c})),j&&r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(oe.a,{container:!0,direction:"column"},r.a.createElement(Bt.a,{style:Vt.c},r.a.createElement(oe.a,{container:!0,direction:"column",spacing:3},r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(ma,{showRolePicker:!0,value:j,handleClear:function(e){return O(e)("")},updateContactEvent:function(e){return function(t){var a=Object(Ht.a)(g);a[w][e]=t.target.value,v(a)}},updateContact:O,updateContactRor:function(e){var t=Object(Ht.a)(g);t[w].orgRor=e.id,t[w].orgName=e.name,t[w].orgURL=e.links.find((function(){return!0}))||"",t[w].orgCity=e.addresses.find((function(){return!0})).city||"",t[w].orgCountry=e.country.country_name,v(t)},updateContactOrcid:function(e){var t=e.person,a=t.name,n=t.emails,r=n.email.length>0?n.email[0].email:"",i=a["family-name"]?a["family-name"].value:"",l=Object(Ht.a)(g);l[w].indOrcid=e["orcid-identifier"].uri,l[w].givenNames=a["given-names"].value,l[w].indEmail=r,l[w].lastName=i,v(l)},disabled:i}))))))))},Oa=a(621),Ca=a(622),ja=a(285),ka=a.n(ja),Sa=a(286),_a=a.n(Sa),Da=a(287),Ra=a.n(Da),Ia=function(e){var t,a,i,l=e.onChange,o=e.value,s=e.name,c=e.multiline,d=e.disabled,m=e.error,f=e.translationButonDisabled,p=void 0!==f&&f,v=Object(n.useContext)(te).translate,E=Object(n.useState)(!1),y=Object(h.a)(E,2),w=y[0],x=y[1],O=Object(u.i)().language,C=new Blob([null===o||void 0===o?void 0:o[O]]).size>=5e3,j=(i="en"===O?["en","fr"]:["fr","en"])[1],k=(null===o||void 0===o||null===(t=o.translations)||void 0===t||null===(a=t[j])||void 0===a?void 0:a.verified)||!1;function S(e,t){return Object(b.a)(Object(b.a)({},e),{},Object(g.a)({},j,Object(b.a)({verified:t},!t&&{message:"text translated using the Amazon translate service / texte traduit \xe0 l'aide du service de traduction Amazon"})))}function _(e){var t=Object(b.a)({},o),a=(t.translations,Object(It.a)(t,["translations"])),n=Object(b.a)(Object(b.a)({},a),{},Object(g.a)({},e.target.name,e.target.value),e.target.name===j&&e.target.value&&{translations:o.translations||S({},!1)});l({target:{name:s,value:n}})}function D(e){var t=e.target.checked,a=Object(b.a)(Object(b.a)({},o),{},{translations:S(o.translations,t)});l({target:{name:s,value:a}})}return Object(n.useEffect)((function(){if(o&&!o.translations&&(o.en&&o.fr)){var e=Object(b.a)(Object(b.a)({},o),{},{translations:Object(g.a)({},j,{verified:!1,message:"text translated using the Amazon translate service / texte traduit \xe0 l'aide du service de traduction Amazon"})});l({target:{name:s,value:e}})}}),[s,l,o,j]),r.a.createElement("div",null,i.map((function(e,t){return r.a.createElement("div",{key:e},r.a.createElement(Kt.a,{name:e,fullWidth:!0,value:(null===o||void 0===o?void 0:o[e])||"",onChange:function(e){return _(e)},InputProps:{startAdornment:r.a.createElement(Qt.a,{position:"start"},e.toUpperCase())},multiline:c,disabled:d,error:Boolean(m)}),0===t&&!p&&r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"Translate english to french",fr:"Traduire du fran\xe7ais en anglais"})},r.a.createElement("span",null,r.a.createElement(de.a,{style:{margin:"10px"},startIcon:w?r.a.createElement(se.a,{size:20}):r.a.createElement(_a.a,null),endIcon:w?null:r.a.createElement(Ra.a,null),disabled:d||w||!(null===o||void 0===o?void 0:o[e])||C,onClick:function(){x(!0),v({text:o[e],fromLang:e}).then((function(e){x(!1);var t=e.data;_({target:{name:j,value:t}})}))}},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Translate"),r.a.createElement(Y.b,null,"Traduire"))),(null===o||void 0===o?void 0:o[j])&&r.a.createElement(la.a,{control:r.a.createElement(ta.a,{checked:k,onChange:function(e){return D(e)},color:"primary"}),label:r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"I have verified this translation"),r.a.createElement(Y.b,null,"J'ai v\xe9rifi\xe9 cette traduction"))}),C&&r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Translation is disabled because text is larger than"," ",5e3," characters."),r.a.createElement(Y.b,null,"La traduction est d\xe9sactiv\xe9e car le texte est plus grand que ",5e3," caract\xe8res.")))))})))},Aa=function(e){var t=e.updateResources,a=e.resources,i=e.disabled,l=Object(n.useRef)(!1),o=Object(n.useContext)(te).checkURLActive,s=Object(n.useState)({}),c=Object(h.a)(s,2),u=c[0],d=c[1],m={url:"",name:"",description:{en:"",fr:""}},v=Object(n.useRef)({});function E(e){t(a.filter((function(t,a){return a!==e})))}function y(e,n){if(!(n<0||n>=a.length)){var r=a.splice(e,1)[0];a.splice(n,0,r),t(a)}}Object(n.useEffect)((function(){return l.current=!0,a.forEach((function(e,t){e.url&&tt(e.url)&&(v.current[t]||(v.current[t]=ka()(function(){var e=Object(p.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(t.url);case 2:a=e.sent,l.current&&d((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(g.a)({},t.url,a.data))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),500)),v.current[t](e))})),function(){l.current=!1}}),[a,o]);var w=r.a.createElement(Y.c,{en:"Name",fr:"Titre"}),x=r.a.createElement(Y.c,{en:"Description",fr:"Description"});return r.a.createElement("div",null,a.map((function(){var e,n,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(qe.a)(m),o=arguments.length>1?arguments[1]:void 0,s=!l.url||tt(l.url);function c(e){return function(n){var r=Object(Ht.a)(a);r[o][e]=n.target.value,t(r)}}return r.a.createElement(Bt.a,{key:o,style:Vt.c},r.a.createElement(oe.a,{container:!0,direction:"column",spacing:3},r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Enter a name for the resource"),r.a.createElement(Y.b,null,"Entrez un titre pour la ressource")),r.a.createElement(Wt,{passes:(null===(e=l.name)||void 0===e?void 0:e.en)||(null===(n=l.name)||void 0===n?void 0:n.fr)})),r.a.createElement(Ia,{name:"name",label:w,value:l.name,onChange:c("name"),fullWidth:!0,disabled:i})),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Enter the URL for the resource"),r.a.createElement(Y.b,null,"Entrez l'URL de la ressource")),r.a.createElement(Wt,{passes:$e.a.isURL(l.url)}),r.a.createElement(Vt.b,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,r.a.createElement("p",null,"The link may be to a formal data resource on another repository or a link to a personal online drive (e.g. Google Drive).")),r.a.createElement(Y.b,null,r.a.createElement("p",null,"Le lien peut \xeatre vers une ressource de donn\xe9es formelle sur un autre d\xe9p\xf4t de donn\xe9es ou un lien vers un disque personnel en ligne (par exemple Google Drive)."))))),r.a.createElement(Kt.a,{helperText:!s&&r.a.createElement(Y.c,{en:"Invalid URL",fr:"URL non valide"})||l.url&&!1===u[l.url]&&r.a.createElement(Y.c,{en:"URL is not active",fr:"L'URL n'est pas active"})||l.url&&!0===u[l.url]&&r.a.createElement(Y.c,{en:"URL is active",fr:"L'URL est active"}),error:!s,label:"URL",value:l.url,onChange:c("url"),fullWidth:!0,disabled:i})),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Enter a description of the resource"),r.a.createElement(Y.b,null,"Entrez une description de la ressource")))," ",r.a.createElement(Ia,{name:"description",label:x,value:l.description,onChange:c("description"),disabled:i})),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(de.a,{startIcon:r.a.createElement(ke.a,null),disabled:i,onClick:function(){return E(o)}},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Remove item"),r.a.createElement(Y.b,null,"Supprimer la ressource"))),r.a.createElement(de.a,{startIcon:r.a.createElement(Oa.a,null),disabled:i||o-1<0,onClick:function(){return y(o,o-1)}},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Move up"),r.a.createElement(Y.b,null,"D\xe9placer vers le haut"))),r.a.createElement(de.a,{startIcon:r.a.createElement(Ca.a,null),disabled:i||o+1>=a.length,onClick:function(){return y(o,o+1)}},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Move down"),r.a.createElement(Y.b,null,"D\xe9placer vers le bas"))))))})),r.a.createElement(Bt.a,{style:Vt.c},r.a.createElement(de.a,{startIcon:r.a.createElement(me.a,null),disabled:i,onClick:function(){t(a.concat(Object(qe.a)(m)))}},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Add item"),r.a.createElement(Y.b,null,"Ajouter une ressource")))))},qa=function(e){var t=e.disabled,a=e.record,n=(0,e.updateRecord)("distribution");return r.a.createElement("div",null,r.a.createElement(Bt.a,{style:Vt.c},r.a.createElement(Vt.a,null,r.a.createElement(Y.a,null,"Enter any links to information associated with this dataset."),r.a.createElement(Y.b,null,"Entrez les liens vers les informations associ\xe9es \xe0 ce jeu de donn\xe9es."),r.a.createElement(Wt,{passes:ut(a,"distribution")}),r.a.createElement(Vt.b,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Some examples of resources are:",r.a.createElement("ul",null,r.a.createElement("li",null,"supporting documentation (eg text or pdf files)"),r.a.createElement("li",null,"CSV files"),r.a.createElement("li",null,"ERDDAP datasets"),r.a.createElement("li",null,"images")),"At least one item is required. A Resource URL can link to a (compressed) data package or folder."),r.a.createElement(Y.b,null,"Voici quelques exemples de ressources :",r.a.createElement("ul",null,r.a.createElement("li",null,"Documentation \xe0 l'appui (par exemple, fichiers texte ou pdf)"),r.a.createElement("li",null,"Fichiers CSV"),r.a.createElement("li",null,"Jeux de donn\xe9es ERDDAP"),r.a.createElement("li",null,"Images")),"Au moins une ressource est requise. Une URL de ressource peut \xeatre li\xe9e \xe0 un paquet de donn\xe9es (compress\xe9) ou \xe0 un dossier."))))),r.a.createElement(Aa,{paperClass:Vt.c,resources:a.distribution||[],updateResources:n,disabled:t}))},Pa=a(624),Na={Biogeochemical:{en:"Biogeochemical",fr:"Biog\xe9ochimie"},"Biology and Ecosystems":{en:"Biological and Ecosystem",fr:"Biologie et \xe9cosyst\xe8mes"},"Cross-disciplinary":{en:"Cross-disciplinary",fr:"Interdisciplinaire"},Physical:{en:"Physical",fr:"Physique"},Other:{en:"Other",fr:"Autre"}},La=[{category:"Biogeochemical",value:"oxygen","label EN":"Oxygen","label FR":"Oxyg\xe8ne","definition EN":"The amount of dissolved oxygen in seawater.","definition FR":"Concentration d'oxyg\xe8ne dissous dans l'eau de mer",icon:"dissolved-oxygen.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17473"},{category:"Biogeochemical",value:"nutrients","label EN":"Nutrients","label FR":"Nutriments","definition EN":"The amount of inorganic nutrients in seawater","definition FR":"Concentration des nutriments inorganiques dissous dans l'eau de mer [NO\u2083, NO\u2082, PO\u2084, NH\u2084, Si(OH)\u2084]",icon:"nutrients.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17474"},{category:"Biogeochemical",value:"inorganicCarbon","label EN":"Inorganic carbon","label FR":"Carbone inorganique","definition EN":"Total amount of inorganic carbon dissolved in sea water [CO\u2082, HCO\u2083-, CO\u2083\xb2-]","definition FR":"Quantit\xe9 totale de carbone inorganique dissous dans l'eau de mer [CO\u2082, HCO\u2083-, CO\u2083\xb2-]",icon:"inorganic-carbon.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17475"},{category:"Biogeochemical",value:"dissolvedOrganicCarbon","label EN":"Dissolved organic carbon","label FR":"Carbone organique dissous","definition EN":"The amount of dissolved carbon dioxide in seawater","definition FR":"Concentration de carbone organique dissous dans l'eau de mer",icon:"dissolved-organic-carbon.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17480"},{category:"Physical",value:"seaSurfaceHeight","label EN":"Sea surface height","label FR":"Niveau de l'eau","definition EN":"The altitude of mean sea level relative to the Earth's geode.","definition FR":"Correspond au niveau d'eau mesur\xe9. Les niveaux sont variables en fonction des saisons et des \xe9v\xe8nements climatique",icon:"sea-level.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17465"},{category:"Physical",value:"seaIce","label EN":"Sea ice","label FR":"Glace de mer","definition EN":"The concentration of ice cover over a specified area and extent","definition FR":"La concentration en couverture de glace sur une zone et une \xe9tendue sp\xe9cifi\xe9es",icon:"sea-ice.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17464"},{category:"Physical",value:"seaState","label EN":"Sea state","label FR":"\xc9tat de la mer","definition EN":"Sea State is the characterization of wave and swell, typically in terms of height, wavelength, period, and directional wave energy flux.","definition FR":"L'\xe9tat de la mer est la caract\xe9risation des vagues et de la houle, g\xe9n\xe9ralement en termes de hauteur, de longueur d'onde, de p\xe9riode, et le flux d'\xe9nergie des ondes directionnelles",icon:"sea-state.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17462"},{category:"Physical",value:"seaSurfaceSalinity","label EN":"Sea surface salinity","label FR":"Salinit\xe9 de surface","definition EN":"The concentration of dissolved salts in surface seawater.","definition FR":"La concentration de sel dissous dans l'eau de mer de surface",icon:"salinity.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17470"},{category:"Physical",value:"seaSurfaceTemperature","label EN":"Sea surface temperature","label FR":"Temp\xe9rature de surface","definition EN":"The temperature of surface seawater.","definition FR":"La temp\xe9rature de l'eau de mer en surface",icon:"temperature.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17466"},{category:"Physical",value:"subSurfaceSalinity","label EN":"Subsurface salinity","label FR":"Salinit\xe9 sous la surface","definition EN":"The concentration of dissolved salts in subsurface seawater.","definition FR":"La concentration de sel dissous dans l'eau de mer sous la surface",icon:"salinity.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17471"},{category:"Physical",value:"subSurfaceTemperature","label EN":"Subsurface temperature","label FR":"Temp\xe9rature sous la surface","definition EN":"The temperature of subsurface seawater.","definition FR":"La temp\xe9rature de l'eau de mer sous la surface",icon:"temperature.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17467"},{category:"Physical",value:"surfaceCurrents","label EN":"Surface currents","label FR":"Courants de surface","definition EN":"The velocity of sea water in surface","definition FR":"Vitesse et d\xe9bit de l'eau en surface",icon:"currents.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17468"},{category:"Physical",value:"subSurfaceCurrents","label EN":"Subsurface currents","label FR":"Courants sous-marins","definition EN":"","definition FR":"",icon:"currents.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17469"},{category:"Other",value:"other","label EN":"Other","label FR":"Autre","definition EN":"All data that does not correspond to the current EOVs.","definition FR":"Toutes les donn\xe9es qui ne correspondent pas aux EOVs actuels.",icon:"eov_other.svg"},{category:"Biogeochemical",value:"transientTracers","label EN":"Transient tracers","label FR":"Traceurs transitoires","definition EN":"Transient tracers are man-made chemical compounds released to the atmosphere at known quantities that can be used in the ocean to quantify ventilation, transit time distribution and transport time-scales","definition FR":"Les traceurs transitoires sont des compos\xe9s chimiques artificiels rejet\xe9s dans l'atmosph\xe8re en quantit\xe9s connues qui peuvent \xeatre utilis\xe9s dans l'oc\xe9an pour quantifier la ventilation, la distribution des temps de transit et les \xe9chelles de temps de transport.",icon:"transient-tracers.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17476"},{category:"Biogeochemical",value:"particulateMatter","label EN":"Particulate matter","label FR":"Mati\xe8re particulaire","definition EN":"Total amount of particles (organic & inorganic) suspended in sea water","definition FR":"Quantit\xe9 totale de particules (organiques et inorganiques) en suspension dans l'eau de mer",icon:"particulate-matter.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17477"},{category:"Biogeochemical",value:"nitrousOxide","label EN":"Nitrous oxide","label FR":"Protoxyde d'azote","definition EN":"Nitrous oxide (N2O) is an important climate-relevant trace gas in the Earth\u2019s atmosphere. The ocean-including its coastal areassuch as continental shelves, estuaries and upwelling areas is a major source of N2O and contributesabout 30% to the atmospheric N2O budget.","definition FR":"Le protoxyde d'azote ou azote nitreux (N2O) est un important gaz traceur du climat dans l'atmosph\xe8re terrestre. L'oc\xe9an, y compris ses zones c\xf4ti\xe8res telles que les plateaux continentaux, les estuaires et les zones d'upwelling, est une source majeure de N2O. Elle contribue \xe0 environ 30 % du bilan atmosph\xe9rique en protoxyde d'azote.",icon:"nitrous-oxide.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17478"},{category:"Biogeochemical",value:"stableCarbonIsotopes","label EN":"Stable carbon isotopes","label FR":"Isotopes stables du carbone","definition EN":"The utility of carbon-13 isotope (\u03b413C, the carbon-13 to carbon-12 isotope ratio; 13C/12C) as a tracer of the ocean\u2019s carbon cycle.","definition FR":"L\u2019utilit\xe9 de l\u2019isotope du carbone-13 (\u03b413C, le rapport des isotopes du carbone-13 au carbone-12; 13C/12C) comme traceur du cycle du carbone de l\u2019oc\xe9an.",icon:"stable-carbon-isotopes.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17479"},{category:"Biology and Ecosystems",value:"phytoplanktonBiomassAndDiversity","label EN":"Phytoplankton biomass and diversity","label FR":"Biomasse et diversit\xe9 de phytoplancton","definition EN":"Characterization of the biological diversity of phytoplankton, their phenology, vertical distribution, and community composition, and their role in ocean biogeochemistry and ecosystem services.","definition FR":"Caract\xe9risation de la diversit\xe9 biologique du phytoplancton, de sa ph\xe9nologie, de sa distribution verticale et de sa composition communautaire, ainsi que le r\xf4le dans la biog\xe9ochimie des oc\xe9ans et les services \xe9cosyst\xe9miques.",icon:"phytoplankton.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17507"},{category:"Biology and Ecosystems",value:"zooplanktonBiomassAndDiversity","label EN":"Zooplankton biomass and diversity","label FR":"Biomasse et diversit\xe9 de zooplancton","definition EN":"Zooplankton diversity refers to the number of zooplankton species, taxonomic composition, or community structure within a region. Zooplankton diversity influences ecosystem health and productivity through trophic links.","definition FR":"La diversit\xe9 du zooplancton fait r\xe9f\xe9rence au nombre d'esp\xe8ces de zooplancton, \xe0 la composition taxonomique ou \xe0 la structure communautaire au sein d'une r\xe9gion. La diversit\xe9 du zooplancton influence la sant\xe9 et la productivit\xe9 de l'\xe9cosyst\xe8me par le biais de liens trophiques.",icon:"zooplankton.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17509"},{category:"Biology and Ecosystems",value:"fishAbundanceAndDistribution","label EN":"Fish abundance and distribution","label FR":"Abondance et distribution de poissons","definition EN":"Fish abundance describes the biomass or numbers of fish in the ocean. It can be reported in terms of species or taxonomic or functional groups (e.g., small pelagic fish, mesopelagic fish, and tunalike species) in an assemblage, population, stock or area, or globally","definition FR":"L'abondance des poissons d\xe9crit la biomasse ou le nombre de poissons dans l'oc\xe9an. Il peut \xeatre rapport\xe9 en termes d'esp\xe8ces ou de groupes taxonomiques ou fonctionnels (par exemple, petits poissons p\xe9lagiques, poissons m\xe9sop\xe9lagiques et esp\xe8ces tunal) dans un assemblage, une population, un stock ou une zone, ou \xe0 l'\xe9chelle mondiale",icon:"fish.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17510"},{category:"Biology and Ecosystems",value:"marineTurtlesBirdsMammalsAbundanceAndDistribution","label EN":"Marine turtles, birds, mammals abundance and distribution","label FR":"Abondance et distribution de tortues marines, oiseaux et mammif\xe8res","definition EN":"Abundance refers to the number of individuals (turtles, birds or marine mammals) within a population while distribution refers to\nthe geographic or spatial extent of habitats used by individuals in the population.","definition FR":"L'abondance se r\xe9f\xe8re au nombre d'individus (tortues, oiseaux ou mammif\xe8res marins) au sein d'une population tandis que la distribution se r\xe9f\xe8re \xe0\nl'\xe9tendue g\xe9ographique ou spatiale des habitats utilis\xe9s par les individus de la population.",icon:"birds-mammals.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17511"},{category:"Biology and Ecosystems",value:"hardCoralCoverAndComposition","label EN":"Hard coral cover and composition","label FR":"Composition et couverture des coraux durs","definition EN":"Live hard coral cover and the areal extent of a reef are the most important indicators of whether a reef is in a coral-dominated state or not; the composition and diversity of coral taxa is an important index of reef health; coral condition (e.g. bleaching, disease) gives fundamental information on the health of a reef; the size class structure (and recruitment) of hard corals gives fundamental information on the resilience, disturbance history and recovery potential of a reef.","definition FR":"La couverture de coraux durs vivants et l'\xe9tendue spatiale des r\xe9cifs sont les indicateurs les plus importants pour savoir si le r\xe9cif est ou non domin\xe9 par les coraux.  La composition et la diversit\xe9 des taxons coralliens sont un indice important de la sant\xe9 du r\xe9cif ; l'\xe9tat des coraux (par exemple le blanchissement, les maladies) donne des informations fondamentales sur la sant\xe9 du r\xe9cif ; la structure des classes de taille (et le recrutement) des coraux durs donne des informations fondamentales sur la r\xe9silience, l'historique des perturbations et le potentiel de r\xe9cup\xe9ration du r\xe9cif.",icon:"birds-mammals.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17512"},{category:"Biology and Ecosystems",value:"seagrassCoverAndComposition","label EN":"Seagrass cover and composition","label FR":"Composition et couverture des herbiers marins","definition EN":"Characterization of seagrass beds according to species and their cover linked to a spatial distribution.","definition FR":"Caract\xe9risation des herbiers marins en fonction des esp\xe8ces et de leur couverture selon une distribution spatiale.",icon:"seagrass.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17513"},{category:"Biology and Ecosystems",value:"macroalgalCanopyCoverAndComposition","label EN":"Macroalgal canopy cover and composition","label FR":"Composition et couverture de la canop\xe9e de macroalgues","definition EN":"Characterization of macroalgal forest according to species and their cover linked to a spatial distribution.","definition FR":"Caract\xe9risation des macroalgues en fonction des esp\xe8ces et de leur couvert selon une distribution spatiale.",icon:"macroalgal-canopy.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17515"},{category:"Biology and Ecosystems",value:"invertebrateAbundanceAndDistribution","label EN":"Invertebrate abundance and distribution","label FR":"Abondance et distribution d'invert\xe9br\xe9s","definition EN":"The abundance of invertebrate species describes the biomass or number of individuals in an assemblage and according to a spatial distribution.","definition FR":"L'abondance d'esp\xe8ces invert\xe9br\xe9es d\xe9crit la biomasse ou le nombre d'individus dans un assemblage et selon une distribution spatiale.",icon:"invertebrates.svg",emerging:!0},{category:"Biology and Ecosystems",value:"microbeBiomassAndDiversity","label EN":"Microbe biomass and diversity","label FR":"Biomasse et diversit\xe9 microbienne","definition EN":"","definition FR":"",icon:"microbes.svg",emerging:!0},{category:"Cross-disciplinary",value:"oceanColour","label EN":"Ocean colour","label FR":"Couleur des oc\xe9ans","definition EN":'The term "ocean colour" refers to the result of absorption and scattering of spectral radiation emanating from the sun. Light interacts with water and suspended or dissolved matter and encompasses a multitude of biological, biogeochemical and ecological factors that form the colour of water.',"definition FR":"Le terme \xabcouleur de l'oc\xe9an\xbb se r\xe9f\xe8re au r\xe9sultat de l'absorption et de la diffusion du rayonnement spectral \xe9manant du soleil. La lumi\xe8re interagit avec l'eau et les mati\xe8res en suspension ou dissoutes et englobe une multitude de facteurs biologiques, biog\xe9ochimiques et \xe9cologiques qui forment la couleur de l'eau.",icon:"ocean-color.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=19959"},{category:"Cross-disciplinary",value:"oceanSound","label EN":"Ocean sound","label FR":"Paysage acoustique des oc\xe9ans","definition EN":"","definition FR":"",icon:"ocean-sound.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=22567"},{category:"Cross-disciplinary",value:"marineDebris","label EN":"Marine debris","label FR":"D\xe9bris marins","definition EN":"","definition FR":"",icon:"",emerging:!0,url:""},{category:"Physical",value:"oceanSurfaceHeatFlux","label EN":"Ocean surface heat flux","label FR":"Flux de chaleur oc\xe9anique de surface","definition EN":"Surface heat flux is the rate of heat exchange, per unit area, passing through the sea surface to the atmosphere. The net heat flux is the sum of the turbulent fluxes (latent and sensitive) and the radiative flux (short and long waves).","definition FR":"Le flux de chaleur de surface est le taux d'\xe9change de chaleur, par unit\xe9 de surface, traversant la surface de la mer jusqu'\xe0 l'atmosph\xe8re. Le flux de chaleur net est la somme des flux turbulents (latents et sensibles) et du flux radiatif (ondes courtes et longues).",icon:"ocean-surface-heat-flux.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17472"},{category:"Physical",value:"oceanSurfaceStress","label EN":"Ocean surface stress","label FR":"Contraintes sur la surface oc\xe9anique","definition EN":"Ocean stress is related to lower atmosphere drag and ocean surface dynamics. The magnitude of the stress influences the exchange of energy between the ocean and the atmosphere (evaporation, oxygen, carbon dioxide and other gases).","definition FR":"Le stress oc\xe9anique est li\xe9 \xe0 la train\xe9e de la basse atmosph\xe8re et \xe0 la dynamique de surface de l'oc\xe9an. L'ampleur du stress influence l'\xe9change d'\xe9nergie entre l'oc\xe9an et l'atmosph\xe8re (\xe9vaporation, oxyg\xe8ne, dioxyde de carbon et gaz autres).",icon:"sea-surface-stress.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17463"},{category:"Physical",value:"oceanBottomPressure","label EN":"Ocean Bottom Pressure","label FR":"Pression au fond de l'oc\xe9an","definition EN":"Ocean bottom pressure is the total pressure resulting from the weight or mass of the column of seawater and the overlaying atmosphere.","definition FR":"La pression au fond de l'oc\xe9an est la pression totale r\xe9sultant du poids ou de la masse de la colonne d'eau de mer et de l'atmosph\xe8re qui la recouvre.",icon:"ocean-bottom-pressure.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=32488"}],Ta=a(58),Ua=a(638),Ma=a(297);function za(e){try{var t=e.getDate(),a=e.getMonth(),n=e.getFullYear();return new Date(n,a,t,12,0,0,0).toISOString()}catch(r){return null}}var Fa=function(e){var t=e.onChange,a=e.value,n=e.name,i=e.disabled,l=e.dateStart,o=e.dateEnd;return r.a.createElement(Ta.a,{utils:Ma.a},r.a.createElement(Ua.a,{disabled:i,margin:"normal",id:"date-picker-dialog",label:r.a.createElement(Y.c,{en:"Select date",fr:"S\xe9lectionner une date"}),format:"yyyy-MM-dd",value:a,minDate:l||"1100-01-01",maxDate:o,onChange:function(e){return t({target:{name:n,value:za(e)}})},KeyboardButtonProps:{"aria-label":"change date"}}))},Ba=a(623),Wa=[{en:"abundance and biomass",fr:"abondance et biomasse"},{en:"sea access",fr:"acc\xe8s \xe0 la mer"},{en:"decision making",fr:"aide \xe0 la d\xe9cision"},{en:"protected areas",fr:"aires prot\xe9g\xe9es"},{en:"knowledge improvement",fr:"am\xe9lioration des connaissances"},{en:"land-use planning",fr:"am\xe9nagement du territoire"},{en:"water purification",fr:"assainissement des eaux"},{en:"striped bass",fr:"bar ray\xe9"},{en:"watershed",fr:"bassin versant"},{en:"habitat characterization",fr:"caract\xe9risation des habitats"},{en:"coastal characterization",fr:"caract\xe9risation des rives"},{en:"climate change",fr:"changement climatique"},{en:"chlorophyll a",fr:"chlorophylle a"},{en:"resource conservation",fr:"conservation des ressources"},{en:"water consumption",fr:"consommation d'eau"},{en:"sea currents",fr:"courant marin"},{en:"crustacean",fr:"crustac\xe9"},{en:"fresh water flow",fr:"d\xe9bits eau douce"},{en:"water density",fr:"densit\xe9 eau"},{en:"sustainable development",fr:"d\xe9veloppement durable"},{en:"ocean-atmosphere exchange",fr:"\xe9change oc\xe9an-atmosph\xe8re"},{en:"sampling",fr:"\xe9chantillonnage"},{en:"crayfish",fr:"\xe9crevisses"},{en:"mariculture",fr:"entreprises de maricultures"},{en:"coastal erosion",fr:"\xe9rosion des c\xf4tes"},{en:"endangered species",fr:"esp\xe8ces en p\xe9ril"},{en:"invasive species",fr:"esp\xe8ces envahissante"},{en:"coastal flora",fr:"flore c\xf4ti\xe8re"},{en:"fluorescence",fr:"fluorescence"},{en:"spawning",fr:"fraie"},{en:"community management",fr:"gestion communautaire"},{en:"resource management",fr:"gestion des ressources"},{en:"integrated management",fr:"gestion int\xe9gr\xe9e"},{en:"sea ice",fr:"glace de mer"},{en:"sensitive habitat",fr:"habitat sensible"},{en:"important habitat",fr:"habitats important"},{en:"hydrocarbon",fr:"hydrocarbure"},{en:"incidents",fr:"incidents"},{en:"general information",fr:"informations g\xe9n\xe9rales"},{en:"wildlife inventory",fr:"inventaire faunique"},{en:"fish inventory",fr:"inventaire poisson"},{en:"macroalgae",fr:"macroalgue"},{en:"benthic macrofauna",fr:"macrofaune benthique"},{en:"marine mammal",fr:"mammif\xe8res marins"},{en:"marsh",fr:"marais"},{en:"meteorology",fr:"m\xe9t\xe9orologie"},{en:"wetlands",fr:"milieux humides"},{en:"natural environments of interest",fr:"milieux naturels d'int\xe9r\xeat"},{en:"enhancement",fr:"mise en valeur"},{en:"oceanographic missions",fr:"missions oc\xe9anographique"},{en:"mollusc",fr:"mollusque"},{en:"sea level",fr:"niveau eau"},{en:"seabirds",fr:"oiseaux marins"},{en:"migrator birds",fr:"oiseaux migrateurs"},{en:"commercial fisheries",fr:"p\xeaches commerciales"},{en:"experimental fisheries",fr:"p\xeaches exp\xe9rimentales"},{en:"physical-chemical",fr:"physico-chimie"},{en:"phytoplankton",fr:"phytoplancton"},{en:"sea grass",fr:"plantes aquatique"},{en:"fish",fr:"poisson"},{en:"coastal pollution",fr:"pollution c\xf4ti\xe8re"},{en:"atmospheric pressure",fr:"pression atmosph\xe9rique"},{en:"coast protection",fr:"protection des c\xf4tes"},{en:"habitat protection",fr:"protection des habitats"},{en:"water quality",fr:"qualit\xe9 eau"},{en:"radiation",fr:"radiation"},{en:"maritime resources",fr:"ressources maritimes"},{en:"ecological rehabilitation",fr:"r\xe9habilitation \xe9cologique"},{en:"shore restoration",fr:"restauration des rives"},{en:"experimental restoration",fr:"restauration exp\xe9rimentale"},{en:"habitat restoration",fr:"restauration habitat"},{en:"coastal risks",fr:"risques c\xf4tiers"},{en:"citizen data",fr:"saisie citoyenne"},{en:"salinity",fr:"salinit\xe9"},{en:"sediment",fr:"s\xe9diment"},{en:"fishing sites",fr:"sites de p\xeaches"},{en:"annual follow-up",fr:"suivi annuel"},{en:"species tracking",fr:"suivi des esp\xe8ces"},{en:"habitat tracking",fr:"suivi habitat"},{en:"taxonomy",fr:"taxonomie"},{en:"remote sensing",fr:"t\xe9l\xe9d\xe9tection"},{en:"water temperature",fr:"temp\xe9rature de l'eau"},{en:"sea turtles",fr:"tortue de mer"},{en:"land-use",fr:"utilisation du territoire"},{en:"sustainabilty",fr:"utilisation durable"},{en:"waves",fr:"vagues"},{en:"wind",fr:"vents"},{en:"coastal zone",fr:"zone c\xf4ti\xe8re"}];var Va=function(e){var t=e.onChange,a=e.value,i=void 0===a?{en:[],fr:[]}:a,l=e.name,o=e.disabled,s=Object(u.i)().language,c=Object(n.useState)(""),d=Object(h.a)(c,2),m=d[0],f=d[1],p=Object(n.useState)(""),b=Object(h.a)(p,2),v=b[0],E=b[1],y=Object(n.useState)(""),w=Object(h.a)(y,2),x=w[0],O=w[1],C=["en","fr"];"fr"===s&&C.reverse();var j=C[1];function k(e){return e.map((function(e){return(e||"").trim()})).filter((function(e,t,a){return e&&a.indexOf(e)===t}))}return r.a.createElement(oe.a,{container:!0,spacing:3,direction:"column"},r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(Xt.a,{inputValue:v,onInputChange:function(e,t){E(t)},disabled:o,onChange:function(e,t){return O(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fr";if(!e)return"";var a="fr"===t?"en":"fr",n=Wa.find((function(t){return t&&t[a]===e}));return n?n[t]:""}(t,j))},value:m||"",freeSolo:!0,options:Wa.sort((function(e,t){return e[s].localeCompare(t[s])})).map((function(e){return e[s]})),fullWidth:!0,renderInput:function(e){return r.a.createElement(Kt.a,Object.assign({},e,{label:s.toUpperCase()}))}})),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(Kt.a,{value:x||"",onChange:function(e){return O(e.target.value)},fullWidth:!0,InputProps:{startAdornment:r.a.createElement(Qt.a,{position:"start"},j.toUpperCase())}})),r.a.createElement(oe.a,{item:!0,xs:3},r.a.createElement(de.a,{disabled:o||!m&&!x&&!v,startIcon:r.a.createElement(Ba.a,null),onClick:function(){var e=m||v;if(e||x){var a={en:i.en,fr:i.fr},n=[].concat(Object(Ht.a)(i[s]),[e]),r=[].concat(Object(Ht.a)(i[j]),[x]);e&&(a[s]=k(n)),x&&(a[j]=k(r)),t({target:{name:l,value:a}})}f(""),O(""),E("")}},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Add"),r.a.createElement(Y.b,null,"Ajouter")))),r.a.createElement(oe.a,{item:!0,xs:!0},C.filter((function(e){var t;return null===(t=i[e])||void 0===t?void 0:t.length})).map((function(e){return r.a.createElement("div",{style:{margin:"15px"},key:e},r.a.createElement(Qt.a,{position:"start",style:{margin:"10px"}},e.toUpperCase()),r.a.createElement(oe.a,{container:!0,direction:"row"},r.a.createElement(oe.a,{item:!0,xs:!0},(i[e]||[]).map((function(a,n){return r.a.createElement(Mt.a,{key:n,disabled:o,label:a,onDelete:(s=a,c=e,function(){var e=Object(g.a)({en:i.en,fr:i.fr},c,i[c].filter((function(e){return e!==s})));t({target:{name:l,value:e}})}),color:"primary",style:{margin:"5px"}});var s,c})))))}))))},Ga=a(113),Ha=function(e){var t=e.disabled,a=e.record,i=e.handleUpdateRecord,l=e.updateRecord,o=e.projects,s=Object(n.useContext)(te),c=s.createDraftDoi,m=s.updateDraftDoi,g=s.deleteDraftDoi,v=s.getDoiStatus,E=Object(u.i)(),y=E.language,w=E.region,x=E.userID,O=d[w],C=rt(a.datasetIdentifier),j=y.toUpperCase(),k=Object(n.useState)(!1),S=Object(h.a)(k,2),_=S[0],D=S[1],R=Object(n.useState)(!1),I=Object(h.a)(R,2),A=I[0],q=I[1],N=Object(Zt.a)(a.datasetIdentifier,1e3),L=Object(h.a)(N,1)[0],T=Object(n.useState)(!1),U=Object(h.a)(T,2),M=U[0],z=U[1],F=Object(n.useState)(!1),B=Object(h.a)(F,2),W=B[0],V=B[1],H=Object(n.useState)(!1),J=Object(h.a)(H,2),K=J[0],Q=J[1],X=Object(n.useState)(!1),Z=Object(h.a)(X,2),ee=Z[0],ae=Z[1],ne=Object(n.useState)(""),re=Object(h.a)(ne,2),ie=re[0],le=re[1],ce=Object(n.useState)(!0),ue=Object(h.a)(ce,2),me=ue[0],fe=ue[1],pe=Object(n.useState)(""),he=Object(h.a)(pe,2),be=he[0],ge=he[1],ve=Object(n.useState)(!0),Ee=Object(h.a)(ve,2),ye=Ee[0],we=Ee[1],xe=_||M||""!==a.doiCreationStatus||""===a.recordID,Oe=!me&&Boolean(ie),Ce=C&&!me&&ie&&a.doiCreationStatus&&""!==a.doiCreationStatus,je=C&&!me&&ie&&""!==a.doiCreationStatus&&a.datasetIdentifier.includes(ie),ke=C&&!me&&ie&&""!==a.doiCreationStatus&&!A&&a.datasetIdentifier.includes(ie),Se=Object(n.useRef)(!1),_e=function(e){var t=e.lang;return r.a.createElement("a",{href:O.catalogueURL[t],target:"_blank",rel:"noopener noreferrer"},O.catalogueURL[t])},De=Object.values(Je).sort((function(e,t){return(e.title[y]||e.title.en).localeCompare(t.title[y]||e.title.en,y)}));function Re(){return(Re=Object(p.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z(!0),e.prev=1,t=Xe(a,y,w,ie),ye||!be){e.next=6;break}return e.next=6,c({record:t,authHash:be}).then((function(e){return e.data.data.attributes})).then(function(){var e=Object(p.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l("datasetIdentifier")("https://doi.org/".concat(t.doi)),l("doiCreationStatus")("draft"),n=Object(b.a)(Object(b.a)({},a),{},{datasetIdentifier:"https://doi.org/".concat(t.doi),doiCreationStatus:"draft"}),r=$.a.database().ref(w).child("users").child(x).child("records"),!a.recordID){e.next=7;break}return e.next=7,r.child(a.recordID).update({datasetIdentifier:n.datasetIdentifier,doiCreationStatus:n.doiCreationStatus});case 7:D(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).finally((function(){z(!1)}));case 6:e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(1),console.error("Error in handleGenerateDOI:",e.t0),q(!0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function Ie(){return(Ie=Object(p.a)(f.a.mark((function e(){var t,n,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),e.prev=1,delete(t=Xe(a,y,w,ie)).data.type,delete t.data.attributes.prefix,n=a.datasetIdentifier.replace("https://doi.org/",""),r={doi:n,data:t,dataciteAuthHash:be},e.next=9,m(r);case 9:i=e.sent,200===i.data.status?ae(!0):q(!0),e.next=19;break;case 14:throw e.prev=14,e.t0=e.catch(1),console.error("Error updating draft DOI: ",e.t0),q(!0),e.t0;case 19:return e.prev=19,V(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[1,14,19,22]])})))).apply(this,arguments)}function qe(){return(qe=Object(p.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q(!0),e.prev=1,t=a.datasetIdentifier.replace("https://doi.org/",""),g({doi:t,dataciteAuthHash:be}).then((function(e){return e.data})).then(function(){var e=Object(p.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(204!==t){e.next=11;break}if(l("datasetIdentifier")(""),l("doiCreationStatus")(""),n=Object(b.a)(Object(b.a)({},a),{},{datasetIdentifier:"",doiCreationStatus:""}),r=$.a.database().ref(w).child("users").child(x).child("records"),!a.recordID){e.next=8;break}return e.next=8,r.child(a.recordID).update({datasetIdentifier:n.datasetIdentifier,doiCreationStatus:n.doiCreationStatus});case 8:D(!1),e.next=12;break;case 11:q(!0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).finally((function(){Q(!1)})),e.next=11;break;case 6:throw e.prev=6,e.t0=e.catch(1),console.error(e.t0),q(!0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=function(){var e=Object(p.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fe(!0),e.next=3,Object(Ga.d)(w);case 3:t=e.sent,le(t),fe(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(p.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return we(!0),e.next=3,Object(Ga.b)(w);case 3:t=e.sent,ge(t),we(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t()}),[w]),Object(n.useEffect)((function(){if(Se.current=!0,""===L)l("doiCreationStatus")("");else if(L&&!me&&ie&&C&&!ye&&be){var e=L;L.includes("doi.org/")&&(e=L.split("doi.org/").pop()),v({doi:e,prefix:ie,authHash:be}).then((function(e){l("doiCreationStatus")(e.data)})).catch((function(e){console.error(e)}))}return function(){Se.current=!1}}),[L,v,C,l,ie,me,be,ye]),r.a.createElement("div",null,r.a.createElement(Bt.a,{style:Vt.c},r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"What is the dataset title? Required in English and French."),r.a.createElement(Y.b,null,"Quel est le titre du jeu de donn\xe9es? Obligatoire dans les deux langues.")),r.a.createElement(Wt,{passes:ut(a,"title")}),r.a.createElement(Vt.b,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,r.a.createElement("p",null,"Recommended title includes: What, Where, When."),r.a.createElement("p",null,"Title should be precise enough so that the user will not have to open the dataset to understand its contents. Title should not have acronyms, special characters, or use specialized nomenclature. This will appear as the title that is shown for this dataset in the ",O.catalogueTitle.en,".")),r.a.createElement(Y.b,null,r.a.createElement("p",null,"Le titre recommand\xe9 comprend : Quoi, O\xf9, Quand."),r.a.createElement("p",null,"Le titre doit \xeatre suffisamment pr\xe9cis pour que l'utilisateur n'ait pas \xe0 ouvrir le ensemble de donn\xe9es pour comprendre son contenu. Le titre ne doit pas avoir des acronymes, des caract\xe8res sp\xe9ciaux ou utiliser une nomenclature sp\xe9cialis\xe9e. Ceci appara\xeetra comme titre de votre jeu de donn\xe9es dans le"," ",O.catalogueTitle.fr,"."))))),r.a.createElement(Ia,{name:"title",value:a.title,onChange:i("title"),disabled:t})),r.a.createElement(Bt.a,{style:Vt.c},r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"What is the primary language of the dataset?"),r.a.createElement(Y.b,null,"Quelle est la langue principale du jeu de donn\xe9es?")),r.a.createElement(Wt,{passes:ut(a,"language")})),r.a.createElement(ya,{value:a.language,onChange:i("language"),options:["en","fr"],optionLabels:["English","Fran\xe7ais"],disabled:t})),o.length?r.a.createElement(Bt.a,{style:Vt.c},r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"What are the projects that this record is part of? To add a project, email"," "),r.a.createElement(Y.b,null,"Quels sont les projets dont ce disque fait partie? Pour ajouter un projet, e-mail"," ")),r.a.createElement("a",{href:"mailto:".concat(O.email)},O.email),"."),r.a.createElement(oa,{value:a.projects||[],labelSize:6,onChange:l("projects"),options:o,optionLabels:o,disabled:t})):r.a.createElement("div",null),r.a.createElement(Bt.a,{style:Vt.c},r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Enter an abstract or summary for the dataset. Required in both languages."),r.a.createElement(Y.b,null,"D\xe9crivez votre jeu de donn\xe9es.")),r.a.createElement(Wt,{passes:ut(a,"abstract")}),r.a.createElement(Vt.b,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"This information will appear as the summary text that is shown for this dataset in the ",O.catalogueTitle.en,". Browsing datasets at ",r.a.createElement(_e,{lang:"en"})," can help provide a sense of the type of descriptions that are typically used for this section of the record. As a general rule, this section should be worded with as little jargon as possible to give potential users an understanding of your dataset. Use a maximum of 500 words. For detailed methods please submit supplemental materials with your data.",r.a.createElement("br",null),r.a.createElement("br",null),"Suggested abstract points -",r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,"What"),"- variables that were measured"),r.a.createElement("li",null,r.a.createElement("b",null,"When"),"- temporal coverage of the data, frequency of the measurements/observations"),r.a.createElement("li",null,r.a.createElement("b",null,"Where"),"- spatial coverage of the data, sampling sites, sensor tracks, laboratory spaces"),r.a.createElement("li",null,r.a.createElement("b",null,"Why"),"- a high level statement on the outcome this data is meant to inform")))),r.a.createElement(Y.b,null,"Cette description correspond au r\xe9sum\xe9 de votre jeu de donn\xe9es lorsqu\u2019il sera publi\xe9 dans le ",O.catalogueTitle.fr," ",r.a.createElement(_e,{lang:"fr"}),". Pour vous aider \xe0 r\xe9diger ce r\xe9sum\xe9, vous pouvez vous inspirer d\u2019autres jeux de donn\xe9es d\xe9j\xe0 publi\xe9s dans le catalogue. Ce champ doit \xeatre compris par tout type d\u2019utilisateur, nous vous recommandons un maximum de 500 mots, l\u2019utilisation d\u2019un langage accessible et de limiter l\u2019utilisation de vocabulaire de type jargon.",r.a.createElement("br",null),r.a.createElement("br",null),"Suggestion de points \xe0 aborder dans votre r\xe9sum\xe9:",r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,"Quoi"),": Les variables qui ont \xe9t\xe9 mesur\xe9es"),r.a.createElement("li",null,r.a.createElement("b",null,"Quand"),": Couverture temporelle de la donn\xe9e, fr\xe9quence de la mesure/observation"),r.a.createElement("li",null,r.a.createElement("b",null,"O\xf9"),": Couverture spatiale de la donn\xe9e, nom/lieu des sites d\u2019\xe9chantillonnages, d\xe9placement enregistr\xe9s d\u2019un capteur, laboratoire, etc."),r.a.createElement("li",null,r.a.createElement("b",null,"Comment"),": \xc9quipement, proc\xe9dures, protocoles, calibration, assurance/contr\xf4le de la qualit\xe9"),r.a.createElement("li",null,r.a.createElement("b",null,"Qui"),": Participants, membres du personnel"),r.a.createElement("li",null,r.a.createElement("b",null,"Pourquoi"),": Quelques lignes pour d\xe9crire le contexte dans lequel les donn\xe9es ont \xe9t\xe9 \xe9chantillonn\xe9es et comment elles permettent de r\xe9pondre \xe0 la probl\xe9matique (p. ex: quelles informations peuvent-elles apporter)"))))))),r.a.createElement(Ia,{name:"abstract",value:a.abstract,onChange:i("abstract"),disabled:t,multiline:!0})),r.a.createElement(Bt.a,{style:Vt.c},r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Please select all the essential ocean variables that are contained in this dataset. Hover over a variable to see its definition."),r.a.createElement(Y.b,null,"Veuillez s\xe9lectionner toutes les variables oc\xe9aniques essentielles contenues dans ce jeu de donn\xe9es. Survolez une variable pour voir sa d\xe9finition ou cliquez sur l\u2019ic\xf4ne ",r.a.createElement(Ae.a,null)," pour acc\xe9der \xe0 la d\xe9finition compl\xe8te du Syst\xe8me d\u2019Observatoire Global des Oc\xe9ans (GOOS).")),r.a.createElement(Wt,{passes:ut(a,"eov")}),r.a.createElement(Vt.b,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"If none of these apply you can select Other."),r.a.createElement(Y.b,null,"Si aucune de ces variables ne vous semble pertinente, vous pouvez s\xe9lectionner \xab Autre \xbb.")))),Object.entries(Na).map((function(e){var n=Object(h.a)(e,2),i=n[0],o=n[1],s=La.filter((function(e){return e.category===i})).sort((function(e,t){return e["label ".concat(j)].localeCompare(t["label ".concat(j)],y)}));return r.a.createElement("div",{key:o[y]},r.a.createElement("h4",null,o[y]),r.a.createElement(oa,{value:a.eov||[],labelSize:6,onChange:l("eov"),options:s.map((function(e){return e.value})),optionLabels:s.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{title:e["definition ".concat(j)]},r.a.createElement("span",null,e["label ".concat(j)])),e.url&&r.a.createElement(P.a,{onClick:function(){window.open(e.url,"_blank").focus()}},r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"Open GOOS definition in new window",fr:"Ouvrir la d\xe9finition GOOS dans une nouvelle fen\xeatre"})},r.a.createElement(Ae.a,null))),e.emerging&&r.a.createElement(P.a,{onClick:function(){}},r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"GOOS emerging EOV",fr:"EOV \xe9mergent GOOS"})},r.a.createElement(Pa.a,null))))})),disabled:t}))}))),r.a.createElement(Bt.a,{style:Vt.c},r.a.createElement(oe.a,{container:!0,spacing:3,direction:"column"},r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Choose the most specific keywords that apply to your data, or create your own."),r.a.createElement(Y.b,null,"Choisissez des mots-cl\xe9s sp\xe9cifiques qui s\u2019appliquent \xe0 vos donn\xe9es ou cr\xe9ez-en des nouveaux.")),r.a.createElement(Wt,{passes:ut(a,"keywords")}),r.a.createElement(Vt.b,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,r.a.createElement("p",null,"Keywords are an important way to categorize your data that allow people and other systems to search for datasets that share some important characteristics."),r.a.createElement("p",null,"Keywords should include the place name of the closest community or major geographic location. Ex. Hartley Bay, Gitga\u2019at Territory, in addition to the closest body of water, e.g. Douglas Channel."),r.a.createElement("p",null,"Enter one at a time, clicking 'Add' after each.")),r.a.createElement(Y.b,null,r.a.createElement("p",null,"Les mots cl\xe9s sont un moyen efficace de cat\xe9goriser vos donn\xe9es pour permettre aux utilisateurs ou \xe0 d'autres syst\xe8mes d\u2019acc\xe9der \xe0 tous les jeux de donn\xe9es partageant une m\xeame caract\xe9ristique."),r.a.createElement("p",null,"Vous pouvez choisir un mot cl\xe9 pr\xe9d\xe9fini (liste d\xe9roulante) en fran\xe7ais puis cliquer sur le bouton de traduction. Vous pouvez aussi cr\xe9er votre propre mot cl\xe9 en r\xe9digeant un texte libre en anglais ou en fran\xe7ais (v\xe9rifiez toujours si son \xe9quivalent existe dans la liste d\xe9roulante afin de diminuer le risque d\u2019\xe9criture multiple d\u2019un m\xeame mot cl\xe9 -ex: phoque Vs Phoques-)."),r.a.createElement("p",null,"Entrez un mot-cl\xe9 \xe0 la fois. Cliquez sur \xab Ajouter \xbb chaque mot saisi.")))))),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(Va,{value:a.keywords,onChange:i("keywords"),disabled:t})))),r.a.createElement(Bt.a,{style:Vt.c},r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"What is the status of this dataset?"),r.a.createElement(Y.b,null,"Quel est l'\xe9tat de ce jeu de donn\xe9es?")),r.a.createElement(Wt,{passes:ut(a,"progress")}),r.a.createElement(Vt.b,null,Object.values(ca).map((function(e){var t=e.title,a=e.text;return r.a.createElement("div",{style:{margin:"10px"},key:t[y]},"".concat(t[y],": ").concat(a[y]))})))),r.a.createElement(ya,{value:a.progress||"",onChange:i("progress"),options:Object.keys(ca),optionLabels:Object.values(ca).map((function(e){return e.title[y]})),disabled:t,fullWidth:!1,style:{width:"200px"}})),r.a.createElement(Bt.a,{style:Vt.c},r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"What is the start date when data was first collected?"),r.a.createElement(Y.b,null,"Inscrivez la date de d\xe9but de votre collecte de donn\xe9es."))),r.a.createElement(Fa,{value:a.dateStart||null,onChange:i("dateStart"),disabled:t,dateEnd:a.dateEnd||void 0}),r.a.createElement("br",null),r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"What is the end date when data was last collected? Leave blank if data collection is ongoing."),r.a.createElement(Y.b,null,"Inscrivez la date de fin de votre collecte de donn\xe9es. Laissez le champs vide si la collecte des donn\xe9es toujours est en cours."))),r.a.createElement(Fa,{value:a.dateEnd||null,onChange:i("dateEnd"),disabled:t,dateStart:a.dateStart||void 0})),r.a.createElement(Bt.a,{style:Vt.c},r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"What is the date when the data was published? Leave blank if dataset hasn't been published."),r.a.createElement(Y.b,null,"Quelle est la date de premi\xe8re publication des donn\xe9es ? Laissez le champ vide si les donn\xe9es n'ont pas \xe9t\xe9 publi\xe9es."))),r.a.createElement(Fa,{name:"datePublished",value:a.datePublished||null,onChange:i("datePublished"),disabled:t})),r.a.createElement(Bt.a,{style:Vt.c},r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"The version number of this dataset. For example, 1.1"),r.a.createElement(Y.b,null,"Le num\xe9ro de version de cet ensemble de donn\xe9es. Par exemple, 1.1"))),r.a.createElement(Kt.a,{value:a.edition,onChange:i("edition"),disabled:t,style:{marginTop:"10px"},fullWidth:!0})),r.a.createElement(Bt.a,{style:Vt.c},r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"What is the date when data was revised? Leave blank if dataset hasn't been revised."),r.a.createElement(Y.b,null,"Quelle est la date de la derni\xe8re r\xe9vision des donn\xe9es ? Laissez le champ vide si le jeu de donn\xe9es n'a pas \xe9t\xe9 r\xe9vis\xe9.")),r.a.createElement(Vt.b,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,r.a.createElement("p",null,"Please note that this field does not need to be populated or updated when revisions are made to the metadata, but rather when a new version of the data file or package becomes available, i.e. for time-series data.")),r.a.createElement(Y.b,null,r.a.createElement("p",null,"Veuillez noter que ce champ n'a pas besoin d'\xeatre rempli ou mis \xe0 jour lorsque des r\xe9visions sont apport\xe9es aux m\xe9tadonn\xe9es, mais plut\xf4t lorsqu'une nouvelle version du fichier ou du paquet de donn\xe9es devient disponible, c'est-\xe0-dire pour les donn\xe9es de s\xe9ries temporelles."))))),r.a.createElement(Fa,{name:"dateRevised",value:a.dateRevised||null,onChange:i("dateRevised"),disabled:t})),r.a.createElement(Bt.a,{style:Vt.c},r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"What is the DOI for this dataset? Eg,"),r.a.createElement(Y.b,null,"Quel est le DOI de ce jeu de donn\xe9es ? Par exemple,"))," ","https://doi.org/10.0000/0000",Oe&&r.a.createElement(Vt.b,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,r.a.createElement("p",null,"Please save the form before generating a draft DOI.")),r.a.createElement(Y.b,null,r.a.createElement("p",null,"Veuillez enregistrer le formulaire avant de g\xe9n\xe9rer un brouillon de DOI."))))),Oe&&r.a.createElement(de.a,{onClick:function(){return Re.apply(this,arguments)},disabled:xe,style:{display:"inline"}},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},M?r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{size:24,style:{marginRight:"8px"}}),"Loading..."):"Generate DOI")),je&&r.a.createElement(de.a,{onClick:function(){return Ie.apply(this,arguments)},disabled:["not found","unknown"].includes(a.doiCreationStatus),style:{display:"inline"}},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},W?r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{size:24,style:{marginRight:"8px"}}),"Loading..."):"Update DOI")),ke&&r.a.createElement(de.a,{onClick:function(){return qe.apply(this,arguments)},disabled:"draft"!==a.doiCreationStatus,style:{display:"inline"}},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},K?r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{size:24,style:{marginRight:"8px"}}),"Loading..."):"Delete DOI")),A&&r.a.createElement("span",null,r.a.createElement(Y.c,{en:"Error occurred with DOI API",fr:"Une erreur s'est produite avec l'API DOI"})),ee&&r.a.createElement("span",null,r.a.createElement(Y.c,{en:"DOI has been updated",fr:"Le DOI a \xe9t\xe9 mis \xe0 jour"})),r.a.createElement(Kt.a,{style:{marginTop:"10px"},name:"datasetIdentifier",helperText:(C?"":r.a.createElement(Y.c,{en:"Invalid DOI",fr:"DOI non valide"}))||Ce&&r.a.createElement(Y.c,{en:"DOI Status: ".concat(a.doiCreationStatus),fr:"Statut DOI: ".concat(a.doiCreationStatus)}),error:!C,value:a.datasetIdentifier,onChange:i("datasetIdentifier"),disabled:t,fullWidth:!0})),r.a.createElement(Bt.a,{style:Vt.c},r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"How is the dataset licensed?"),r.a.createElement(Y.b,null,"Quelle est la licence de ce jeu de donn\xe9es?")),r.a.createElement(Wt,{passes:ut(a,"license")}),r.a.createElement(Vt.b,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,r.a.createElement("a",{href:"https://creativecommons.org/licenses/by/4.0/",target:"_blank",rel:"noopener noreferrer"},"Creative Commons Attribution 4.0 International licence (CC-BY 4.0)"))," ","- CIOOS recommended. Allows for open sharing and adaptation of the data provided that the original creator is attributed."),r.a.createElement("li",null,r.a.createElement("b",null,r.a.createElement("a",{href:"https://creativecommons.org/share-your-work/public-domain/cc0/",target:"_blank",rel:"noopener noreferrer"},"Creative Commons 0"))," ","- imposes no restrictions of any kind."),r.a.createElement("li",null,r.a.createElement("b",null,r.a.createElement("a",{href:"https://open.canada.ca/en/open-government-licence-canada",target:"_blank",rel:"noopener noreferrer"},"Open Government Licence - Canada"))," ","- For datasets made available by Government of Canada departments and agencies, it is very similar to CC-BY as it allows for open sharing and adaptation of the data, provided that the original creator of the data is properly attributed."))),r.a.createElement(Y.b,null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,"Licence internationale Creative Commons Attribution 4.0 (CC-BY 4.0)"," "),"- Licence recommand\xe9e par le SIOOC. Les donn\xe9es sont ouvertes, mais la licence exige que le jeu de donn\xe9es soit cit\xe9 lorsqu\u2019il est utilis\xe9 par un autre utilisateur."),r.a.createElement("li",null,r.a.createElement("b",null,"Creative Commons 0")," - N\u2019impose aucune restriction particuli\xe8re : le jeu de donn\xe9es peut \xeatre utilis\xe9 sans \xeatre cit\xe9."),r.a.createElement("li",null,r.a.createElement("b",null,"Licence du gouvernement ouvert - Canada")," - Pour les jeux de donn\xe9es rendus disponibles par les organisations et minist\xe8res f\xe9d\xe9raux. Cette licence est similaire \xe0 CC-BY 4.0 : les donn\xe9es sont ouvertes mais le jeu de donn\xe9es doit \xeatre cit\xe9 lorsqu'il est utilis\xe9 par un autre utilisateur.")))))),r.a.createElement(ya,{value:a.license,onChange:i("license"),optionLabels:De.map((function(e){return r.a.createElement("span",null,e.title[y]||e.title.en,r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"Open license definition in new window",fr:"Ouvrir la d\xe9finition de licence dans une nouvelle fen\xeatre"})},r.a.createElement(P.a,{onClick:function(){window.open(e.url,"_blank").focus()}},r.a.createElement(Ae.a,null))))})),options:De.map((function(e){return e.code})),disabled:t})),r.a.createElement(Bt.a,{style:Vt.c},r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"What are the limitations affecting the dataset?"),r.a.createElement(Y.b,null,"Quelles sont les limitations affectant le jeu de donn\xe9es?")),r.a.createElement(Vt.b,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"For example:",r.a.createElement("i",null,r.a.createElement("ul",null,r.a.createElement("li",null,"Not to be used for navigational purposes."),r.a.createElement("li",null,"Instrument was not calibrated on day."),r.a.createElement("li",null,"Haven\u2019t applied appropriate QC on the data yet.")))),r.a.createElement(Y.b,null,"Par exemple :",r.a.createElement("i",null,r.a.createElement("ul",null,r.a.createElement("li",null,"Ne pas utiliser \xe0 des fins de navigation."),r.a.createElement("li",null,"L' instrument n'a pas \xe9t\xe9 \xe9talonn\xe9."),r.a.createElement("li",null,"Un contr\xf4le de qualit\xe9 n\u2019a pas \xe9t\xe9 effectu\xe9 sur les donn\xe9es."))))))),r.a.createElement(Ia,{name:"limitations",value:a.limitations,onChange:i("limitations"),multiline:!0,disabled:t})))},Ya={id:"",manufacturer:"",version:"",type:{en:"",fr:""},description:{en:"",fr:""}},Ja=function(e){var t=e.updateInstruments,a=e.instruments,i=void 0===a?[]:a,l=e.disabled,o=e.paperClass,s=Object(n.useState)(0),c=Object(h.a)(s,2),u=c[0],d=c[1];function m(e){return function(a){var n=Object(Ht.a)(i);n[u][e]=a.target.value,t(n)}}var f=r.a.createElement(Y.c,{en:"Manufacturer",fr:"Fabricant"}),p=r.a.createElement(Y.c,{en:"Version",fr:"Version"}),b=r.a.createElement(Y.c,{en:"Type",fr:"Type"}),g=r.a.createElement(Y.c,{en:"Description",fr:"Description"}),v=i.length>0&&i[u];return r.a.createElement(oe.a,{container:!0,direction:"row",spacing:3},r.a.createElement(oe.a,{item:!0,xs:3},r.a.createElement(oe.a,{container:!0,direction:"column",spacing:2},r.a.createElement(oe.a,{item:!0,xs:!0},"Instruments:",r.a.createElement(V.a,null,i.map((function(e,t){return r.a.createElement(M.a,{key:t,button:!0,onClick:function(){return d(t)}},r.a.createElement(B.a,{primary:r.a.createElement(N.a,{style:{fontWeight:u===t?"bold":""}},t+1,". ",e.id)}))})))),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(de.a,{disabled:l,startIcon:r.a.createElement(me.a,null),onClick:function(){t(i.concat(Object(qe.a)(Ya))),d(i.length)},style:{height:"56px",marginLeft:"10px"}},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Add instrument"),r.a.createElement(Y.b,null,"Ajouter un instrument")))))),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(oe.a,{container:!0,direction:"column"},v&&r.a.createElement(Bt.a,{style:o},r.a.createElement(oe.a,{container:!0,direction:"column",spacing:2},r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Instrument ID"),r.a.createElement(Y.b,null,"L'ID de l'instrument")),r.a.createElement(Wt,{passes:v.id}),r.a.createElement(Kt.a,{label:"ID",value:v.id,onChange:m("id"),fullWidth:!0,disabled:l})),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(Kt.a,{label:f,name:"manufacturer",value:v.manufacturer,onChange:m("manufacturer"),fullWidth:!0,disabled:l})," "),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(Kt.a,{label:p,value:v.version,onChange:m("version"),fullWidth:!0,disabled:l})),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(N.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Instrument Type"),r.a.createElement(Y.b,null,"Type d'instrument"))),r.a.createElement(Ia,{name:"type",label:b,value:v.type,onChange:m("type"),disabled:l}))," ",r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(N.a,null,"Description"),r.a.createElement(Ia,{name:"description",label:g,value:v.description,onChange:m("description"),disabled:l})),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(de.a,{startIcon:r.a.createElement(ke.a,null),disabled:l,onClick:function(){t(i.filter((function(e,t){return t!==u}))),i.length&&d(i.length-2)}},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Remove item"),r.a.createElement(Y.b,null,"Supprimer l'instrument")))))))))},Ka=a(288),Qa=function(e){var t=e.record,a=e.handleUpdateRecord,n=e.disabled,i=Object(u.i)().language,l=void 0===i?"en":i,o=Object.values(Ka).sort((function(e,t){return e["label_".concat(l)].localeCompare(t["label_".concat(l)],l)}));return r.a.createElement("div",null,r.a.createElement(oe.a,{item:!0,xs:!0,style:Object(b.a)(Object(b.a)({},Vt.c),{},{marginTop:"-40px"})},r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"What type of platform is it?"),r.a.createElement(Y.b,null,"De quel type de plateforme s'agit-il ?")),r.a.createElement(Vt.b,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Please select a platform from the "),r.a.createElement(Y.b,null,"Veuillez s\xe9lectionner une plateforme dans la ")),r.a.createElement("a",{href:"http://vocab.nerc.ac.uk/collection/L06/current/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"SeaVoX Platform Categories (NERC L06 Vocabulary)"),r.a.createElement(Y.b,null,"SeaVoX Platform Categories (liste Vocabulaire NERC L06)")),r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"Open in new window",fr:"Ouvrir dans une nouvelle fen\xeatre"})},r.a.createElement(Ae.a,{style:{verticalAlign:"middle"}}))),r.a.createElement(Wt,{passes:ut(t,"platform")}))),r.a.createElement(ya,{value:t.platform,onChange:a("platform"),optionLabels:o.map((function(e){return"".concat(e["label_".concat(l)])})),optionTooltips:o.map((function(e){return"".concat(e["definition_".concat(l)])})),options:o.map((function(e){return e.label_en})),disabled:n,label:r.a.createElement(Y.c,{en:"Platform",fr:"Plateforme"}),fullWidth:!1})),r.a.createElement(oe.a,{item:!0,xs:!0,style:Vt.c},r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"What is the platform ID or code?"),r.a.createElement(Y.b,null,"Quel est l'ID de la plateforme ?")),r.a.createElement(Vt.b,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"This is a unique identification of the platform. If the platform is registered with"," ",r.a.createElement("a",{href:"https://vocab.seadatanet.org/v_bodc_vocab_v2/search.asp?lib=C17",target:"_blank",rel:"noopener noreferrer"},"ICES"),", use that identifier"),r.a.createElement(Y.b,null,"Il s'agit d'une identification unique de la plateforme. Si la plateforme est enregistr\xe9e aupr\xe8s du"," ",r.a.createElement("a",{href:"https://vocab.seadatanet.org/v_bodc_vocab_v2/search.asp?lib=C17",target:"_blank",rel:"noopener noreferrer"},"CIEM"),", utilisez cet identifiant")),r.a.createElement(Wt,{passes:ut(t,"platformID")}))),r.a.createElement(Kt.a,{label:r.a.createElement(Y.c,{en:"Platform ID",fr:"ID de plateforme"}),value:t.platformID,onChange:a("platformID"),fullWidth:!0,disabled:n})),r.a.createElement(oe.a,{item:!0,xs:!0,style:Vt.c},r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"More information about the platform"),r.a.createElement(Y.b,null,"Plus d'informations sur la plateforme")),r.a.createElement(Vt.b,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"You can also add aditional information about the platform."),r.a.createElement(Y.b,null,"Vous pouvez \xe9galement ajouter des informations suppl\xe9mentaires sur la plateforme.")))),r.a.createElement(Ia,{name:"platformDescription",value:t.platformDescription,onChange:a("platformDescription"),multiline:!0,disabled:n})))},Xa=function(e){var t=e.disabled,a=e.record,n=e.handleUpdateRecord,i=e.updateRecord,l=a.noPlatform&&"false"!==a.noPlatform;return r.a.createElement("div",null,r.a.createElement(Bt.a,{style:Vt.c},r.a.createElement(oe.a,{container:!0,direction:"column",spacing:0},r.a.createElement(oe.a,{item:!0,xs:!0,style:Vt.c},r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"A platform is anything used in data collection that has instrument(s) attached to it. Eg:",r.a.createElement("ul",null,r.a.createElement("li",null,"Glider"),r.a.createElement("li",null,"Ship"),r.a.createElement("li",null,"Buoy"),r.a.createElement("li",null,"Satellite"),r.a.createElement("li",null,"ROV"),r.a.createElement("li",null,"Mooring")),"It is strongly encouraged to fill out platform information. If there is no platform, you can enter instruments at the bottom of the page."),r.a.createElement(Y.b,null,"Une plateforme d\xe9signe tout \u201cobjet\u201d sur lequel un ou plusieurs instruments sont attach\xe9s et utilis\xe9s dans la collecte des donn\xe9es. Par exemple :",r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("i",null,"Glider")),r.a.createElement("li",null,"Navire"),r.a.createElement("li",null,"Bou\xe9e"),r.a.createElement("li",null,"Satellite"),r.a.createElement("li",null,"ROV"),r.a.createElement("li",null,"Amarrage")),"S'il n'y a pas de plateforme, vous pouvez entrer des informations sur les instruments au bas de la page. Sinon, vous devez d\xe9crire le plus pr\xe9cis\xe9ment possible la plateforme utilis\xe9e dans la collecte de donn\xe9es."))),r.a.createElement(la.a,{disabled:t,control:r.a.createElement(ta.a,{name:"noPlatform",checked:l,onChange:function(e){var t=e.target.checked;i("noPlatform")(t)}}),label:r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"This dataset doesn't have a platform"),r.a.createElement(Y.b,null,"Ce jeu de donn\xe9es n'a pas de plateforme"))})),r.a.createElement(oe.a,{item:!0,xs:!0,style:Vt.c},l?r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"You can still enter an instrument without a platform"),r.a.createElement(Y.b,null,"Vous pouvez toujours entrer dans un instrument sans plateforme"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Qa,{record:a,handleUpdateRecord:n,disabled:t})),r.a.createElement(Ja,{instruments:a.instruments,updateInstruments:i("instruments"),disabled:t,paperClass:Vt.c,noPlatform:l})))))},Za=a(37),$a=a.n(Za),en=a(644),tn=a(652),an=a(625),nn=a(626),rn=a(627),ln=a(72),on=a(296),sn=(a(520),a(521),Object(ln.b)((function(e){var t=e.updateMap,a=e.mapData,i=void 0===a?{}:a,l=e.disabled,o=e.record;function s(){t({north:"",south:"",east:"",west:"",polygon:""})}var c=Object(n.useState)(null),u=Object(h.a)(c,2),d=u[0],m=u[1],f=Object(n.useState)(null),p=Object(h.a)(f,2)[1],v=/-?\d+\.?\d+/,E=/-?\d+\.?\d+,\s*-?\d+\.?\d+\s*?/g;function y(e){Object.keys(e).length>1&&Object.keys(e).forEach((function(t){if(1!==Object.keys(d.leafletElement._layers).length){var a=e[t];d.leafletElement.removeLayer(a)}}))}function w(e){return function(a){y(d.leafletElement._layers);var n=Object(b.a)(Object(b.a)({},i),{},Object(g.a)({},e,a.target.value));t(n)}}function x(e){return Number.parseFloat(e).toPrecision(4)}function O(e){var t=Object(Ht.a)(e.matchAll(E)).map((function(e){return e[0]}));try{t=t.map((function(e){return e.split(",").map(Number)}))}catch(a){p({error:a})}return t}var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.polygon;return E.test(e)};$a.a.EditToolbar.Delete.include({enable:function(){this.options.featureGroup.clearLayers(),s()}});var j=Boolean(i.north||i.south||i.east||i.west),k=Boolean(i.polygon),S=!j&&!i.polygon;return r.a.createElement("div",null,r.a.createElement(en.a,{style:{width:"100%",height:"55vh"},center:[50,-100],zoom:3},r.a.createElement(tn.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.a.createElement(an.a,{ref:function(e){m(e)}},!1===l&&r.a.createElement(on.a,{position:"topleft",onCreated:function(e){var a=e.layer,n=e.layerType;switch(y(d.leafletElement._layers),n){case"polygon":var r=a.getLatLngs()[0].map((function(e){var t=e.lat,a=e.lng;return"".concat(x(t),",").concat(x(a))})),i=r.concat(r[0]).join(" "),l=a.getBounds(),o=l.getNorthEast(),s=o.lat,c=o.lng,u=l.getSouthWest(),m=u.lat,f=u.lng;s=x(s),m=x(m),c=x(c),f=x(f),t({polygon:i,north:s,south:m,east:c,west:f});break;default:case"rectangle":var p=a.getBounds(),h=p.getNorthEast(),b=h.lat,g=h.lng,v=p.getSouthWest(),E=v.lat,w=v.lng;b=x(b),E=x(E),g=x(g),w=x(w),t({north:b,south:E,east:g,west:w})}},onMapClear:s,draw:{marker:!1,circle:!1,polyline:!1,circlemarker:!1,polygon:!0},edit:{edit:!1}}),C()&&r.a.createElement(nn.a,{positions:O(i.polygon)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.north,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.south,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.east,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.west,r=v.test(e)&&v.test(t)&&v.test(a)&&v.test(n);return r}()&&!C()&&r.a.createElement(rn.a,{bounds:[[i.north,i.east],[i.south,i.west]]}))),r.a.createElement("br",null),r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Bounding Box Coordinates"),r.a.createElement(Y.b,null,"Coordonn\xe9es de d\xe9limitation - Est, Ouest, Nord, Sud")),(j&&!k||S)&&r.a.createElement(Wt,{passes:ut(o,"map")}),r.a.createElement(Vt.b,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"If you are providing a bounding box, please provide the coordinates in decimal degrees (eg 58.66) and not in decimal minutes seconds."),r.a.createElement(Y.b,null,"Si vous fournissez des coordonn\xe9es de d\xe9limitation, veuillez les fournir en ",r.a.createElement("b",null,"degr\xe9s d\xe9cimaux"),".")))),r.a.createElement(oe.a,{container:!0,direction:"row",spacing:3},r.a.createElement(oe.a,{item:!0,xs:2},r.a.createElement(Kt.a,{label:r.a.createElement(Y.c,{en:"North",fr:"Nord"}),value:i.north||"",inputProps:{inputMode:"numeric",pattern:"[0-9]*"},onChange:w("north"),type:"number",disabled:l||Boolean(i.polygon)})),r.a.createElement(oe.a,{item:!0,xs:2},r.a.createElement(Kt.a,{label:r.a.createElement(Y.c,{en:"South",fr:"Sud"}),value:i.south||"",onChange:w("south"),type:"number",disabled:l||Boolean(i.polygon)})),r.a.createElement(oe.a,{item:!0,xs:2},r.a.createElement(Kt.a,{label:r.a.createElement(Y.c,{en:"East",fr:"Est"}),value:i.east||"",onChange:w("east"),type:"number",disabled:l||Boolean(i.polygon)})),r.a.createElement(oe.a,{item:!0,xs:2},r.a.createElement(Kt.a,{value:i.west||"",label:r.a.createElement(Y.c,{en:"West",fr:"Ouest"}),onChange:w("west"),type:"number",disabled:l||Boolean(i.polygon)}))),r.a.createElement(N.a,{variant:"h6",style:{margin:"20px",marginLeft:"20%"}},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"OR"),r.a.createElement(Y.b,null,"Ou"))),r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Polygon coordinates"),r.a.createElement(Y.b,null,"Coordonn\xe9es du/des polygone(s)")),(k||S)&&r.a.createElement(Wt,{passes:ut(o,"map")}),r.a.createElement(Vt.b,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"If you are providing polygon coordinates, they must start and end with the same point. Eg,"),r.a.createElement(Y.b,null,"Doivent commencer et se terminer par le m\xeame point. Par exemple,"))," ","48,-128 56,-133 56,-147 48,-128")),r.a.createElement(Kt.a,{value:i.polygon||"",onChange:function(e){y(d.leafletElement._layers);var a=Object(b.a)(Object(b.a)({},i),{},{polygon:e.target.value,north:"",south:"",east:"",west:""});try{var n=$a.a.latLngBounds(O(e.target.value)),r=n.getNorthEast(),l=r.lat,o=r.lng,s=n.getSouthWest(),c=s.lat,u=s.lng;a.north=x(l),a.south=x(c),a.east=x(o),a.west=x(u)}catch(m){}t(a)},type:"text",fullWidth:!0,disabled:l||j&&!k}))}))),cn=function(e){var t=e.url;return r.a.createElement(P.a,{onClick:function(){window.open(t,"_blank").focus()}},r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"Open EPSG definition in new window",fr:"Ouvrir la d\xe9finition EPSG dans une nouvelle fen\xeatre"})},r.a.createElement(Ae.a,null)))},un=function(e){var t=e.disabled,a=e.record,n=e.handleUpdateRecord,i=e.updateRecord,l=Object(u.i)().language;return r.a.createElement(oe.a,null,r.a.createElement(Bt.a,{style:Vt.c},r.a.createElement(Vt.a,{style:{paddingBottom:"15px"}},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"What is the spatial extent of the dataset?"),r.a.createElement(Y.b,null,"Quelle est l'\xe9tendue g\xe9ographique du jeu de donn\xe9es?")),r.a.createElement(Vt.b,null,r.a.createElement("div",null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"You can draw a bounding box or polygon for the dataset using the Polygon or Box buttons at the left side of them form. Alternatively you can enter them using the fields below. Either a bounding box or a Polygon is required."),r.a.createElement(Y.b,null,"Vous pouvez tracer un cadre ou un polygone pour situer g\xe9ographiquement votre jeu de donn\xe9es. Vous pouvez aussi localiser l\u2019aire g\xe9ographique couverte par votre jeu de donn\xe9es en inscrivant les coordonn\xe9es g\xe9ographiques (degr\xe9s d\xe9cimaux) dans les champs apparaissant sous la carte. Cette section doit obligatoirement \xeatre compl\xe9t\xe9e."))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Define the geographical area using the tool that meets the geographic distribution of your data. Broadly distributed data in the open ocean might be well served by a bounding box. Tightly clustered coastal data may benefit from a polygon that does not include terrain or unsampled area."),r.a.createElement(Y.b,null,"D\xe9finissez la zone g\xe9ographique \xe0 l'aide de l'outil qui correspond \xe0 la distribution g\xe9ographique de vos donn\xe9es. Les donn\xe9es largement distribu\xe9es en haute mer peuvent \xeatre bien desservies par un cadre englobant. Les donn\xe9es c\xf4ti\xe8res \xe9troitement regroup\xe9es peuvent b\xe9n\xe9ficier d'un polygone qui n'inclut pas le terrain ou la zone non \xe9chantillonn\xe9e."))))),r.a.createElement(sn,{mapData:a.map,updateMap:i("map"),handleUpdateMap:i("map"),disabled:t,record:a})),r.a.createElement(Bt.a,{style:Vt.c},r.a.createElement(Vt.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"What is the vertical extent of the dataset in meters?"),r.a.createElement(Y.b,null,"Quelle est l'\xe9tendue verticale du jeu de donn\xe9es en m\xe8tres?")),r.a.createElement(Wt,{passes:ut(a,"verticalExtentDirection")&&ut(a,"verticalExtentMin")&&ut(a,"verticalExtentMax")}),r.a.createElement(Vt.b,null,r.a.createElement("div",null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"This captures the minimum and maximum depths (or height from sea floor) where the instrument recorded data."),r.a.createElement(Y.b,null,"Cela permet de capturer les profondeurs minimales et maximales (ou la hauteur du fond marin) o\xf9 l'instrument a enregistr\xe9 des donn\xe9es."))),r.a.createElement("div",{style:{paddingTop:"5px"}},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Depth positive: Depth is recorded with positive values (i.e. a maximum value of 150m implies 150m below the water surface)."),r.a.createElement(Y.b,null,"Profondeur positive: La profondeur est enregistr\xe9e avec des valeurs positives (c\u2019est-\xe0-dire qu\u2019une valeur maximale de 150 m indique que les enregistrements ont \xe9t\xe9 effectu\xe9s \xe0 un maximum de 150 m au-dessous de la surface).")),r.a.createElement(cn,{url:"https://epsg.io/5831"})),r.a.createElement("div",null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Height Positive: Height is the elevation from water surface (i.e. a maximum value of 150m implies 150m above the water surface)."),r.a.createElement(Y.b,null,"Hauteur positive: La hauteur est l'altitude par rapport \xe0 la surface de l'eau (c'est-\xe0-dire qu'une valeur maximale de 150 m implique 150 m au-dessus de la surface de l'eau).")),r.a.createElement(cn,{url:"https://epsg.io/5829"})))),r.a.createElement(oe.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"flex-start",spacing:4},r.a.createElement(oe.a,{item:!0,xs:5},r.a.createElement(ya,{value:a.verticalExtentDirection||"",onChange:n("verticalExtentDirection"),options:Object.keys(ua),optionLabels:Object.values(ua).map((function(e){return e[l]})),disabled:t})),r.a.createElement(oe.a,{item:!0,xs:2},r.a.createElement(Kt.a,{value:a.verticalExtentMin,onChange:n("verticalExtentMin"),label:"Min",fullWidth:!0,type:"number",disabled:t})),r.a.createElement(oe.a,{item:!0,xs:2},r.a.createElement(Kt.a,{value:a.verticalExtentMax,onChange:n("verticalExtentMax"),label:"Max",fullWidth:!0,type:"number",disabled:t})))))},dn={start:{en:"Start",fr:"Accueil"},dataID:{en:"Data Identification",fr:"Identification des donn\xe9es"},spatial:{en:"Spatial",fr:"Spatial"},contacts:{en:"Contacts",fr:"Contacts"},resources:{en:"Resources",fr:"Ressources"},platform:{en:"Platform",fr:"Plateforme"},platformInstruments:{en:"Platform - instruments",fr:"Plateforme - instruments"}};var mn=function(){var e=Object(u.i)().region;return d[e]},fn=function(e){var t=e.record,a=e.submitRecord,i=Object(n.useRef)(!1),l=Object(n.useState)(!1),o=Object(h.a)(l,2),s=o[0],c=o[1],d=Object(n.useState)(!1),m=Object(h.a)(d,2),b=m[0],g=m[1],v=Object(u.i)().language,E=function(e){return Object.keys(ct).filter((function(t){return!ut(e,t)})).map((function(e){var t=ct[e];return{error:t.error,tab:t.tab}})).reduce((function(e,t){var a=t.error,n=t.tab;return e[n]||(e[n]=[]),e[n].push(a),e}),{})}(t),y="submitted"===t.status,w=mn();return Object(n.useEffect)((function(){return i.current=!0,function(){var e=Object(p.a)(f.a.mark((function e(t){var a,n,r,l,o,s,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.keys(dt),n=a.map((function(e){return mt(t,e)})),e.next=4,Promise.all(n);case 4:r=e.sent,l=a.reduce((function(e,t,a){return e[t]=r[a],e}),{}),o=a.filter((function(e){return l[e]})),s=o.map((function(e){var t=dt[e];return{error:t.error,tab:t.tab}})),c=s.reduce((function(e,t){var a=t.error,n=t.tab;return e[n]||(e[n]=[]),e[n].push(a),e}),{}),i.current&&g(c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(t),function(){i.current=!1}}),[t]),r.a.createElement(Bt.a,{style:Vt.c},r.a.createElement(oe.a,{container:!0,direction:"column",spacing:3},r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(N.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Thank-you for completing this form. The information will be reviewed and a ",w.title.en," staff member will contact you to request more information or provide an update on when your dataset will be available through the"," ",w.catalogueTitle.en,". Your information will not be published before you are contacted. If you have any questions or would like to follow up on the status of your record, please contact"),r.a.createElement(Y.b,null,"Merci d'avoir rempli ce formulaire. L'information sera valid\xe9e par un membre du personnel ",w.titleFrPossessive,". Cette personne pourrait vous contacter pour obtenir plus d'informations ou pour vous indiquer quand votre jeu de donn\xe9es sera disponible dans notre ",w.catalogueTitle.fr,". Vos informations ne seront pas publi\xe9es avant d'obtenir votre approbation. Si vous avez des questions ou si vous d\xe9sirez effectuer un suivi concernant l'\xe9tat de votre soumission, veuillez contacte"))," ",r.a.createElement("a",{href:"mailto:".concat(w.email)},w.email),".")),y?r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(N.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Thank you for your submission. A reviewer has been notified. You will receive an email when the record is published. You are still able to edit this record by saving it, until it is published."),r.a.createElement(Y.b,null,"Merci pour votre soumission. Un examinateur a \xe9t\xe9 avis\xe9. Vous recevrez un e-mail lors de la publication de l'enregistrement. Vous pouvez toujours modifier cet enregistrement en l'enregistrant, jusqu'\xe0 ce qu'il soit publi\xe9.")))):r.a.createElement(r.a.Fragment,null,pt(t)?r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(N.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"You have completed all of the required fields, your record can be submitted now."),r.a.createElement(Y.b,null,"Vous avez rempli tous les champs obligatoires, vous pouvez maintenant soumettre votre formulaire.")))),r.a.createElement(oe.a,{item:!0,xs:!0},s?r.a.createElement(se.a,null):r.a.createElement(de.a,{onClick:function(){c(!0),a().then((function(){c(!1)}))},disabled:y},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Submit"),r.a.createElement(Y.b,null,"Soumettre"))))):r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(N.a,{variant:"h5"},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Errors"),r.a.createElement(Y.b,null,"Erreurs")))),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(N.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"You haven't completed all of the required fields. You will need to address the list below before submitting."),r.a.createElement(Y.b,null,"Vous n'avez pas rempli tous les champs obligatoires. Veuillez compl\xe9ter les champs identifi\xe9s ci-dessous avant de soumettre votre demande.")))),r.a.createElement(oe.a,{item:!0,xs:!0},Object.keys(E).map((function(e){return r.a.createElement("div",{key:e},r.a.createElement(N.a,{variant:"h6"},dn[e][v]),r.a.createElement(V.a,null,E[e].map((function(e,t){var a=e[v];return r.a.createElement(M.a,{key:t},r.a.createElement(B.a,{primary:a}))}))))})))),b&&Object.keys(b).length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(N.a,{variant:"h5"},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Warnings"),r.a.createElement(Y.b,null,"Avertissements")))),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(N.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Some warnings were generated for the following fields. Please review and fix the warnings as needed befor submitting the record."),r.a.createElement(Y.b,null,"Certains avertissements ont \xe9t\xe9 g\xe9n\xe9r\xe9s pour les champs suivants. Veuillez examiner et corriger les avertissements si n\xe9cessaire avant de soumettre l'enregistrement.")))),r.a.createElement(oe.a,{item:!0,xs:!0},Object.keys(b).map((function(e){return r.a.createElement("div",{key:e},r.a.createElement(N.a,{variant:"h6"},dn[e][v]),r.a.createElement(V.a,null,b[e].map((function(e,t){var a=e[v];return r.a.createElement(M.a,{key:t},r.a.createElement(B.a,{primary:a}))}))))})))):" ")))},pn=function(e){var t=e.value;return r.a.createElement(G.a,{title:r.a.createElement(Y.c,{en:"Percentage of required fields filled in",fr:"Pourcentage de champs obligatoires remplis"})},r.a.createElement(At.a,{display:"flex",width:"90%",style:{margin:"auto"}},r.a.createElement(At.a,{width:"100%",mr:1},r.a.createElement(qt.a,{variant:"determinate",value:t,style:{marginLeft:"-30px"}})),r.a.createElement(At.a,{minWidth:35},r.a.createElement(N.a,{variant:"body2",color:"textSecondary"},"".concat(Math.round(t),"%")))))};function hn(e){var t=e.children,a=e.value,n=e.index,i=Object(It.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),a===n&&r.a.createElement(At.a,null,t))}var bn=function(e){Object(Q.a)(a,e);var t=Object(X.a)(a);function a(e){var n;return Object(J.a)(this,a),(n=t.call(this,e)).toggleModal=function(e,t){var a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3?arguments[3]:void 0;n.setState((a={modalKey:r},Object(g.a)(a,e,t),Object(g.a)(a,"modalUserID",i),a))},n.handleUpdateRecord=function(e){return function(t){var a=t.target.value,r=Object(g.a)({},e,a);n.setState((function(e){var t=e.record;return{record:Object(b.a)(Object(b.a)({},t),r),saveDisabled:!1}}))}},n.updateRecord=function(e){return function(t){var a=Object(g.a)({},e,t);n.setState((function(e){var t=e.record;return{record:Object(b.a)(Object(b.a)({},t),a),saveDisabled:!1}}))}},n.state={projects:[],record:Object(ea.b)(),userContacts:{},loading:!1,tabIndex:"start",saveDisabled:!0,highlightMissingRequireFields:!1,editorInfo:{email:"",displayName:""},loggedInUserCanEditRecord:!1,saveIncompleteRecordModalOpen:!1},n}return Object(K.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match;this.setState({loading:!0}),this.unsubscribe=H.a.onAuthStateChanged(function(){var a=Object(p.a)(f.a.mark((function a(n){var r,i,l,o,s,c,u,d,m,p,b,g,v,E;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n){a.next=22;break}return r=t.params,i=r.region,l=r.recordID,o=t.url.endsWith("new"),s=n.uid,c=o?s:t.params.userID,u=s===c,d=e.context.isReviewer,a.t0=e,a.next=10,Object(fe.c)(i);case 10:a.t1=a.sent,a.t2={projects:a.t1},a.t0.setState.call(a.t0,a.t2),p=$.a.database().ref(i).child("users").child(s),(b=p.child("userinfo")).on("value",(function(t){m=t.toJSON(),e.setState({editorInfo:m})})),e.listenerRefs.push(b),g=$.a.database().ref(i).child("users").child(c),(v=p.child("contacts")).on("value",(function(t){var a=t.toJSON();Object.entries(a||{}).forEach((function(e){var t=Object(h.a)(e,2),a=t[0];t[1].contactID=a})),e.setState({userContacts:a})})),e.listenerRefs.push(v),o?e.setState({loading:!1,loggedInUserCanEditRecord:!0}):((E=g.child("records").child(l)).on("value",(function(t){var a=t.toJSON();if(a){var n=Object(qe.c)(a),r=d||u;e.setState({record:Object(fe.g)(n,null,null,l),loggedInUserCanEditRecord:r}),e.setState({loading:!1})}else e.setState({loading:!1,record:null})})),e.listenerRefs.push(E));case 22:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}},{key:"saveUpdateContact",value:function(e){var t=e.contactID,a=this.props.match.params.region,n=$.a.database().ref(a).child("users").child(H.a.currentUser.uid).child("contacts");return t?(n.child(t).update(e),t):n.push(e).getKey()}},{key:"handleSubmitRecord",value:function(){var e=Object(p.a)(f.a.mark((function e(){var t,a,n,r,i,l,o,s,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match,a=t.params,n=a.region,r=a.userID,i=t.url.endsWith("new"),l=this.state.record,o=H.a.currentUser.uid,s=i?o:r,e.next=8,this.handleSaveClick();case 8:return c=e.sent,e.abrupt("return",Object(fe.h)(n,s,c,"submitted",l));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSaveClick",value:function(){var e=Object(p.a)(f.a.mark((function e(){var t,a,n,r,i,l,o,s,c,u,d,m,p,h,g,v,E,y,w=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=w.length>0&&void 0!==w[0]&&w[0],a=this.props,n=a.match,r=a.history,i=n.params,l=i.language,o=i.region,s=n.params.userID||H.a.currentUser.uid,c=$.a.database().ref(o).child("users").child(s).child("records"),u=this.state.editorInfo,d=Object(qe.e)(this.state.record),m=1===ft(d),"published"!==d.status||m){e.next=15;break}if(!t){e.next=13;break}d.status="",e.next=15;break;case 13:return this.toggleModal("saveIncompleteRecordModalOpen",!0),e.abrupt("return");case 15:if(d.created=(new Date).toISOString(),d.userID=s,d.region=o,d.lastEditedBy=u,!d.recordID){e.next=25;break}return p=d.recordID,e.next=23,c.child(d.recordID).update(Object(b.a)(Object(b.a)({},Object(ea.b)()),d));case 23:e.next=33;break;case 25:return e.next=27,c.push(d);case 27:return h=e.sent,e.next=30,h.update(d);case 30:p=h.key,this.setState({record:Object(b.a)(Object(b.a)({},d),{},{recordID:p})}),r.push("/".concat(l,"/").concat(o,"/").concat(s,"/").concat(p));case 33:return["submitted","published"].includes(d.status)&&(g=this.context.regenerateXMLforRecord,v="".concat(o,"/").concat(s,"/").concat(p),E=d.status,y=d.filename,g({path:v,status:E,filename:y})),this.setState({saveDisabled:!0}),e.abrupt("return",p);case 36:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,a=this,n=this.props.match.params.language,i=this.context.isReviewer,l=this.state,o=l.userContacts,s=l.tabIndex,c=l.record,u=l.saveDisabled,d=l.loading,m=l.highlightMissingRequireFields,f=l.loggedInUserCanEditRecord,p=l.saveIncompleteRecordModalOpen,h=l.projects;if(!c)return r.a.createElement(Ft,null);var b=this.props.classes,g=!f,v={highlightMissingRequireFields:m,disabled:g,record:c,handleUpdateRecord:this.handleUpdateRecord,updateRecord:this.updateRecord},E=Math.round(100*ft(c));return d?r.a.createElement(se.a,null):r.a.createElement(oe.a,{container:!0,direction:"column",justifyContent:"space-between",alignItems:"stretch",spacing:3},r.a.createElement(ve,{open:p,modalQuestion:r.a.createElement(Y.c,{en:"Record is missing required fields. Saving will demote it to draft. Do you want to do this?",fr:"Il manque des champs obligatoires dans l'enregistrement. L'enregistrement le r\xe9trogradera en brouillon. Est-ce que tu veux le faire ?"}),onClose:function(){a.toggleModal("saveIncompleteRecordModalOpen",!1)},onAccept:function(){a.handleSaveClick(!0),a.toggleModal("saveIncompleteRecordModalOpen",!1)}}),r.a.createElement(Pt.a,{color:"primary","aria-label":"add",className:b.fab,disabled:u||!(c.title.en||c.title.fr)||g,onClick:function(){return a.handleSaveClick()}},r.a.createElement(G.a,{placement:"right-start",title:u?"Dataset needs a title before it can be saved":"Save record."},r.a.createElement("span",null,r.a.createElement(Ut.a,null)))),r.a.createElement(oe.a,{container:!0,spacing:2,direction:"row",alignItems:"center"},r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(Nt.a,{scrollButtons:"auto",variant:"fullWidth",value:s,onChange:function(e,t){return a.setState({tabIndex:t})},"aria-label":"simple tabs example"},r.a.createElement(Lt.a,{fullWidth:!0,classes:{root:b.tabRoot},label:dn.start[n],value:"start"}),r.a.createElement(Lt.a,{fullWidth:!0,classes:{root:b.tabRoot},label:dn.dataID[n],value:"identification"}),r.a.createElement(Lt.a,{fullWidth:!0,classes:{root:b.tabRoot},label:dn.spatial[n],value:"spatial"}),r.a.createElement(Lt.a,{fullWidth:!0,classes:{root:b.tabRoot},label:"Contact",value:"contact"}),r.a.createElement(Lt.a,{fullWidth:!0,classes:{root:b.tabRoot},label:dn.resources[n],value:"distribution"}),r.a.createElement(Lt.a,{fullWidth:!0,classes:{root:b.tabRoot},label:dn.platform[n],value:"platform"}),f&&r.a.createElement(Lt.a,{fullWidth:!0,classes:{root:b.tabRoot},label:r.a.createElement(Y.c,{en:"Submit",fr:"Soumettre"}),value:"submit",disabled:"submitted"===c.status||"published"===c.status})),r.a.createElement("div",{style:{marginTop:"10px",textAlign:"center"}},r.a.createElement(N.a,{variant:"h5"},n&&(null===(e=c.title)||void 0===e?void 0:e[n])||r.a.createElement(Y.c,{en:"New Record",fr:"Nouvel enregistrement"})," ",r.a.createElement(zt,{status:c.status})),r.a.createElement(N.a,{component:"div"},r.a.createElement("i",null,r.a.createElement(vt,{dateStr:c.created}),(null===(t=c.lastEditedBy)||void 0===t?void 0:t.displayName)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"by "),r.a.createElement(Y.b,null,"Par ")),c.lastEditedBy.displayName," ",i&&c.lastEditedBy.email)),r.a.createElement(pn,{value:E}))))),r.a.createElement(hn,{value:s,index:"start"},r.a.createElement(Gt,v)),r.a.createElement(hn,{value:s,index:"identification"},r.a.createElement(Ha,Object.assign({},v,{projects:h}))),r.a.createElement(hn,{value:s,index:"spatial"},r.a.createElement(un,v)),r.a.createElement(hn,{value:s,index:"platform"},r.a.createElement(Xa,v)),r.a.createElement(hn,{value:s,index:"distribution"},r.a.createElement(qa,v)),r.a.createElement(hn,{value:s,index:"submit"},r.a.createElement(fn,Object.assign({},v,{submitRecord:function(){return a.handleSubmitRecord()}}))),r.a.createElement(hn,{value:s,index:"contact"},r.a.createElement(xa,Object.assign({userContacts:o,saveToContacts:function(e){return a.saveUpdateContact(e)}},v))))}}]),a}(ee.a);bn.contextType=te;var gn=Object(Tt.a)((function(e){return{tabRoot:{minWidth:"115px"},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}}))(Object(u.j)(bn)),vn=function(e){Object(Q.a)(a,e);var t=Object(X.a)(a);function a(e){var n;return Object(J.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(K.a)(a,[{key:"componentDidCatch",value:function(e,t){console.error(e,t),Z.a(e)}},{key:"render",value:function(){var e=this.state.hasError,t=this.props.children;return e?r.a.createElement("div",null,r.a.createElement("h1",null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Something went wrong!"),r.a.createElement(Y.b,null,"Un probl\xe8me s'est produit!"))),r.a.createElement("h5",null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"The developers have been notified and are working to resolve the issue."),r.a.createElement(Y.b,null,"Les d\xe9veloppeurs ont \xe9t\xe9 avertis et s'effor\xe7ent de r\xe9soudre le probl\xe8me.")))):t}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(n.Component),En=function(e){Object(Q.a)(a,e);var t=Object(X.a)(a);function a(e){var n;Object(J.a)(this,a),(n=t.call(this,e)).state={orgRor:"",orgName:"",orgEmail:"",orgURL:"",orgAdress:"",orgCity:"",orgCountry:"",indOrcid:"",indPosition:"",indEmail:"",givenNames:"",lastName:""};var r=e.match.params.region;return n.contactsRef=$.a.database().ref(r).child("users").child(H.a.currentUser.uid).child("contacts"),n}return Object(K.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(f.a.mark((function e(){var t,a,n,r=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.match,a=t.params.contactID,H.a.currentUser&&a&&(this.setState({contactID:a}),(n=this.contactsRef.child(a)).on("value",(function(e){return r.setState(e.toJSON())})),this.listenerRefs.push(n));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=this;return function(a){t.setState(Object(g.a)({},e,a.target.value))}}},{key:"handleClear",value:function(e){this.setState(Object(g.a)({},e,""))}},{key:"updateOrgFromRor",value:function(){var e=this;return function(t){e.setState({orgRor:t.id,orgName:t.name,orgURL:t.links.find((function(){return!0}))||"",orgCity:t.addresses.find((function(){return!0})).city||"",orgCountry:t.country.country_name})}}},{key:"updateIndFromOrcid",value:function(){var e=this;return function(t){var a=t.person,n=a.name,r=a.emails,i=r.email.length>0?r.email[0].email:"",l=n["family-name"]?n["family-name"].value:"";e.setState({indOrcid:t["orcid-identifier"].uri,givenNames:n["given-names"].value,indEmail:i,lastName:l})}}},{key:"handleCancelClick",value:function(){var e=this.props,t=e.match,a=e.history,n=t.params,r=n.language,i=n.region;a.push("/".concat(r,"/").concat(i,"/contacts"))}},{key:"handleSubmitClick",value:function(){var e=Object(p.a)(f.a.mark((function e(){var t,a,n,r,i,l,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,a=t.history,n=t.match,r=n.params,i=r.region,l=r.language,(o=r.contactID)?this.contactsRef.child(o).update(this.state):this.contactsRef.push(this.state),a.push("/".concat(l,"/").concat(i,"/contacts"));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.orgName,n=t.givenNames,i=t.lastName,l=a||n&&i;return r.a.createElement(oe.a,{container:!0,direction:"column",spacing:2},r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(ma,{value:this.state,handleClear:function(t){return e.handleClear(t)},updateContactEvent:function(t){return e.handleChange(t)},updateContactRor:this.updateOrgFromRor(),updateContactOrcid:this.updateIndFromOrcid()})),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(de.a,{startIcon:r.a.createElement(Ut.a,null),variant:"contained",color:"primary",onClick:function(){return e.handleSubmitClick()},disabled:!l},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Save"),r.a.createElement(Y.b,null,"Enregistrer"))),r.a.createElement(de.a,{style:{marginLeft:"10px"},variant:"contained",color:"secondary",onClick:function(){return e.handleCancelClick()}},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Cancel"),r.a.createElement(Y.b,null,"Annuler")))))}}]),a}(ee.a),yn=Object(u.j)(En),wn=a(291),xn=a.n(wn);function On(){return Math.round(20*Math.random())-10}function Cn(){var e=50+On(),t=50+On();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var jn=Object(E.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function kn(e){var t=e.open,a=e.onClose,i=e.onAccept,l=e.email,o=e.setEmail,s=Object(n.useState)(!0),c=Object(h.a)(s,2),u=c[0],d=c[1],m=Object(n.useState)(!1),b=Object(h.a)(m,2),g=b[0],v=b[1],E=jn(),y=r.a.useState(Cn),w=Object(h.a)(y,1)[0],x=et(l);return r.a.createElement("div",null,r.a.createElement(pe.a,{open:t,onClose:a,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},r.a.createElement("div",{style:w,className:E.paper},r.a.createElement("h2",{id:"simple-modal-title"},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Transfer Record"),r.a.createElement(Y.b,null,"Enregistrement de transfert"))),g?r.a.createElement("h3",null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Transferring..."),r.a.createElement(Y.b,null,"Transfert en cours..."))):r.a.createElement("div",null,!u&&r.a.createElement("h3",null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"User ",l," not found"),r.a.createElement(Y.b,null,"L'utilisateur ",l," n'a pas \xe9t\xe9 trouv\xe9"))),r.a.createElement("div",null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Enter the email address of the user to transfer this record to. The user must have logged into this region at least once:"),r.a.createElement(Y.b,null,"Entrez l'adresse e-mail de l'utilisateur vers lequel transf\xe9rer cet enregistrement. L'utilisateur doit s'\xeatre connect\xe9 \xe0 cette r\xe9gion au moins une fois:"))),r.a.createElement("div",null,r.a.createElement(Kt.a,{helperText:!x&&r.a.createElement(Y.c,{en:"Invalid email",fr:"E-mail non valide"}),error:!x,value:l,onChange:function(e){d(!0),o(e.target.value)},fullWidth:!0})),r.a.createElement("button",{type:"button",disabled:!l||!x||g,onClick:Object(p.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,i();case 3:t=e.sent,d(t),v(!1),t&&a();case 7:case"end":return e.stop()}}),e)})))},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Transfer"),r.a.createElement(Y.b,null,"Transfert"))),r.a.createElement("button",{type:"button",onClick:function(){d(!0),a()}},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Cancel"),r.a.createElement(Y.b,null,"Annuler")))))))}var Sn=function(e){var t=e.record,a=e.language,n=e.editRecord,i=e.toggleModal,l=e.handleCloneRecord,o={record:t,language:a,onViewEditClick:function(){return n(t.recordID,t.userinfo.userID)},onCloneClick:function(){return l(t.recordID,t.userinfo.userID)},onDeleteClick:function(){return i("deleteModalOpen",!0,t.recordID,t.userinfo.userID)},onTransferClick:function(){return i("transferModalOpen",!0,t.recordID,t.userinfo.userID)},showAuthor:!0,showTransferButton:!0,showDeleteAction:!0,showCloneAction:!0},s=function(){return r.a.createElement(xt,Object.assign({onSubmitClick:function(){return i("submitModalOpen",!0,t.recordID,t.userinfo.userID)},showSubmitAction:!0,showEditAction:!0},o,{showPercentComplete:!0}))},c=function(){return r.a.createElement(xt,Object.assign({onSubmitClick:function(){return i("publishModalOpen",!0,t.recordID,t.userinfo.userID)},onUnSubmitClick:function(){return i("unSubmitModalOpen",!0,t.recordID,t.userinfo.userID)},showPublishAction:!0,showUnSubmitAction:!0,showEditAction:!0,showPercentComplete:!0},o))},u=function(){return r.a.createElement(xt,Object.assign({onUnPublishClick:function(){return i("unPublishModalOpen",!0,t.recordID,t.userinfo.userID)},showUnPublishAction:!0,showViewAction:!0,showPercentComplete:!0},o))};return"submitted"===t.status?r.a.createElement(c,null):"published"===t.status?r.a.createElement(u,null):r.a.createElement(s,null)},_n=function(e){Object(Q.a)(a,e);var t=Object(X.a)(a);function a(e){var n;return Object(J.a)(this,a),(n=t.call(this,e)).state={users:[],deleteModalOpen:!1,publishModalOpen:!1,unPublishModalOpen:!1,unSubmitModalOpen:!1,submitModalOpen:!1,transferModalOpen:!1,modalKey:"",modalUserID:"",loading:!1,showRecordTypes:["submitted","published"],showUsers:[],records:[],recordsFilter:"",recordCountsByStatus:{}},n}return Object(K.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(f.a.mark((function e(){var t,a,n=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0}),t=this.props.match,a=t.params.region,this.unsubscribe=H.a.onAuthStateChanged((function(e){if(e){var t=$.a.database().ref(a).child("users");t.on("value",(function(e){var t=Object(fe.d)(e,["","submitted","published"]);n.setState({records:t,loading:!1});var a=Object(qe.f)(t.map((function(e){return e.userinfo.email})));n.setState({records:t,loading:!1,users:a,showUsers:a})})),n.listenerRefs.push(t)}}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"editRecord",value:function(e,t){var a=this.props.history,n=this.props.match.params,r=n.language,i=n.region;a.push("/".concat(r,"/").concat(i,"/").concat(t,"/").concat(e))}},{key:"handleTransferRecord",value:function(){var e=Object(p.a)(f.a.mark((function e(t,a){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.match,r=n.params.region,e.abrupt("return",Object(fe.i)(this.state.transferEmail,t,a,r));case 3:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handleCloneRecord",value:function(e,t){var a=this.props.match.params.region;H.a.currentUser&&Object(fe.a)(e,t,H.a.currentUser.uid,a)}},{key:"handleSubmitRecord",value:function(){var e=Object(p.a)(f.a.mark((function e(t,a,n){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.props.match,i=r.params.region,!t||!a){e.next=7;break}return this.setState({loading:!0}),e.next=6,Object(fe.h)(i,a,t,n);case 6:this.setState({loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"deleteRecord",value:function(){var e=Object(p.a)(f.a.mark((function e(t,a){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.match,r=n.params.region,!t||!a){e.next=7;break}return this.setState({loading:!0}),e.next=6,Object(fe.b)(r,a,t);case 6:this.setState({loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"toggleModal",value:function(e,t){var a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0;this.setState((a={modalKey:n},Object(g.a)(a,e,t),Object(g.a)(a,"modalUserID",r),a))}},{key:"render",value:function(){var e=this,t=this.state,a=t.records,n=t.recordsFilter,i=t.showRecordTypes,l=t.showUsers,o=t.deleteModalOpen,s=t.transferModalOpen,c=t.transferEmail,u=t.transferUserNotFound,d=t.modalKey,m=t.modalUserID,f=t.unPublishModalOpen,p=t.publishModalOpen,h=t.unSubmitModalOpen,b=t.submitModalOpen,g=t.loading,v=t.users,E=this.props.match.params.language,y=a.filter((function(e){return l.includes(e.userinfo.email)})).sort((function(e,t){return e.created<t.created}));n&&(y=y.filter((function(e){return JSON.stringify([e.title||{},e.abstract||{}]).toUpperCase().includes(n.toUpperCase())})));var w={draft:(y.filter((function(e){return""===e.status}))||[]).length,submitted:(y.filter((function(e){return"submitted"===e.status}))||[]).length,published:(y.filter((function(e){return"published"===e.status}))||[]).length};y=(y=y.filter((function(e){return i.includes(e.status)}))).sort((function(e,t){return i.indexOf(e.status)>i.indexOf(t.status)}));var x={draft:{en:"Draft",fr:"Brouillon"},submitted:{en:"Submitted",fr:"Soumis"},published:{en:"Published",fr:"Publi\xe9"}},O="fr"===E?"s\xe9lectionn\xe9s":"selected";return r.a.createElement(oe.a,{container:!0,direction:"column",justifyContent:"space-between",alignItems:"stretch",spacing:3},r.a.createElement(kn,{open:s,onClose:function(){e.toggleModal("transferModalOpen",!1),e.setState({transferEmail:""})},onAccept:function(){return e.handleTransferRecord(d,m)},transferUserNotFound:u,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",email:c,setEmail:function(t){return e.setState({transferEmail:t})}}),r.a.createElement(ve,{open:o,onClose:function(){return e.toggleModal("deleteModalOpen",!1)},onAccept:function(){return e.deleteRecord(d,m)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"}),r.a.createElement(ve,{open:b,onClose:function(){return e.toggleModal("submitModalOpen",!1)},onAccept:function(){return e.handleSubmitRecord(d,m,"submitted")},"aria-labelledby":"simple-modal-title"}),r.a.createElement(ve,{open:p,onClose:function(){return e.toggleModal("publishModalOpen",!1)},onAccept:function(){return e.handleSubmitRecord(d,m,"published")},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"}),r.a.createElement(ve,{open:f,onClose:function(){return e.toggleModal("unPublishModalOpen",!1)},onAccept:function(){return e.handleSubmitRecord(d,m,"submitted")},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"}),r.a.createElement(ve,{open:h,onClose:function(){return e.toggleModal("unSubmitModalOpen",!1)},onAccept:function(){return e.handleSubmitRecord(d,m,"")},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"}),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(N.a,{variant:"h5"},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Review submissions"),r.a.createElement(Y.b,null,"Examen des soumissions")))),g?r.a.createElement(se.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(Bt.a,{style:{padding:"10px",margin:"10px",width:"100%"}},r.a.createElement(Vt.a,null,r.a.createElement(Y.a,null,"Filters"),r.a.createElement(Y.b,null,"Filtres")),r.a.createElement(oe.a,{container:!0,direction:"column",spacing:2},r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(oa,{value:i,onChange:function(t){e.setState({showRecordTypes:t})},options:["","submitted","published"],optionLabels:["draft","submitted","published"].map((function(e){return"".concat(x[e][E]," (").concat(w[e],")")}))})),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(aa.a,null,r.a.createElement(na.a,{expandIcon:r.a.createElement(xn.a,null),"aria-controls":"panel2a-content",id:"panel2a-header"},r.a.createElement(N.a,null,l.length===v.length?r.a.createElement(Y.c,{en:"Users (All users selected)",fr:"Utilisateurs (Tous les utilisateurs)"}):r.a.createElement(Y.c,{en:"Users (".concat(l.length,"  ").concat(O,")"),fr:"Utilisateurs (".concat(l.length,"  ").concat(O,")")}))),r.a.createElement(ra.a,null,r.a.createElement(oe.a,{container:!0,direction:"column"},r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(Y.a,null,"Select All / None"),r.a.createElement(Y.b,null,"Tout s\xe9lectionner/Aucun"),r.a.createElement(ta.a,{label:"Show All / None",onChange:function(t){e.setState({showUsers:t.target.checked?v:[]})}})),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(oa,{value:l,onChange:function(t){e.setState({showUsers:t})},options:v,labelSize:null})))))),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(Kt.a,{fullWidth:!0,onChange:function(t){e.setState({recordsFilter:t.target.value})},label:r.a.createElement(Y.c,{en:"Search title and abstract",fr:"Rechercher le titre et le r\xe9sum\xe9"})})))),y.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{container:!0,direction:"column"},r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(N.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"These are the submissions we have received from all users that have not yet been reviewed. To accept a record, click the 'Publish' button."),r.a.createElement(Y.b,null,"Ce sont les soumissions que nous avons re\xe7ues de tous les utilisateurs qui n'ont pas encore \xe9t\xe9 examin\xe9es. Pour accepter un enregistrement, cliquez sur le bouton \xab Publier \xbb.")))),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(V.a,null,y.map((function(t){return r.a.createElement(Sn,{key:t.recordID,record:t,toggleModal:e.toggleModal.bind(e),editRecord:e.editRecord.bind(e),handleCloneRecord:e.handleCloneRecord.bind(e)})})))))):r.a.createElement(oe.a,{container:!0,direction:"column"},r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(N.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"There are no records waiting to be reviewed."),r.a.createElement(Y.b,null,"Aucun dossier n'attend d'\xeatre examin\xe9.")))))))}}]),a}(ee.a),Dn=a(292),Rn=function(){return Z.a(new Error("Testing sentry")),r.a.createElement("h1",null,"Error notification sent")},In=function(e){var t=e.children,a=Object(u.i)(),n=a.language,i=a.region,l="/cioos-".concat(i,"-").concat(n,".png");return r.a.createElement(oe.a,{container:!0,direction:"column",spacing:2},r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement("img",{src:"/metadata-entry-form"+l,alt:i})),r.a.createElement(oe.a,{item:!0,xs:!0,style:{paddingLeft:"50px"}},t))},An=function(e){var t=e.match,a=Object(n.useContext)(te),i=a.loggedIn,l=a.authIsLoading;return r.a.createElement(r.a.Fragment,null,l?r.a.createElement(se.a,null):r.a.createElement(In,null,i?r.a.createElement(vn,null,r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"".concat(t.path,"/"),exact:!0,component:Ot}),r.a.createElement(u.b,{path:"".concat(t.path,"/new"),component:gn}),r.a.createElement(u.b,{path:"".concat(t.path,"/contacts/:contactID"),component:yn}),r.a.createElement(u.b,{path:"".concat(t.path,"/contacts/new"),component:yn}),r.a.createElement(u.b,{path:"".concat(t.path,"/contacts"),component:Dt}),r.a.createElement(u.b,{path:"".concat(t.path,"/:userID/:recordID"),component:gn}),r.a.createElement(u.b,{path:"".concat(t.path,"/submissions"),component:Ot}),r.a.createElement(u.b,{path:"".concat(t.path,"/published"),component:Ct}),r.a.createElement(u.b,{path:"".concat(t.path,"/reviewer"),component:_n}),r.a.createElement(u.b,{path:"".concat(t.path,"/admin"),component:Dn.a}),r.a.createElement(u.b,{path:"".concat(t.path,"/sentry-test"),component:Rn}),r.a.createElement(u.b,{path:"*",component:Ft}))):r.a.createElement(Rt,null)))},qn=function(e){var t=e.match,a=Object(u.i)(),n=a.region,i=a.language,l=Object(ce.a)({overrides:{MuiTooltip:{tooltip:{fontSize:"1em"}},MuiFormControlLabel:{root:{"&.Mui-disabled":{"& .MuiCheckbox-root":{color:"#ababab"},"& .MuiTypography-root":{color:"#ababab"}}}},MuiInputBase:{input:{"&.Mui-disabled":{color:"#ababab"}}}},palette:{primary:{main:d[n].colors.primary},secondary:{main:d[n].colors.secondary}},props:{MuiTextField:{variant:"outlined"},MuiSelect:{variant:"outlined"},MuiButton:{variant:"outlined"}}}),o={en:"".concat(d[n].title[i]," Metadata Intake Form"),fr:"Formulaire de r\xe9ception des m\xe9tadonn\xe9es ".concat(d[n].title[i])};return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,null,r.a.createElement("title",null,o[i]),r.a.createElement("link",{rel:"icon",type:"image/png",href:"".concat("/metadata-entry-form","/favicons/").concat(n,".ico"),sizes:"16x16"})),r.a.createElement(ne,null,r.a.createElement(ue.a,{theme:l},r.a.createElement(ie,null,r.a.createElement(An,{match:t})))))},Pn=a(632),Nn=a(633),Ln=a(635),Tn=a(634),Un=Object(E.a)({root:{maxWidth:345},media:{height:400,"&:hover":{filter:"brightness( 100% ) contrast( 100% ) saturate( 200% ) blur( 0px ) hue-rotate( 197deg )"}}});function Mn(e){var t=e.region,a=e.regionSummary,n=Object(u.g)(),i=Object(u.i)().language,l=Un(),o=d[t],s="/cioos-".concat(t,"-").concat(i,".png");return r.a.createElement(Pn.a,{className:l.root,onClick:function(){return n.push("/".concat(i,"/").concat(t))},style:{minHeight:"500px",minWidth:"400px"}},r.a.createElement(Nn.a,null,r.a.createElement(Tn.a,{className:l.media,image:"".concat("/metadata-entry-form","/map-").concat(t,".jpg"),title:o.title[i]}),r.a.createElement(Ln.a,null,r.a.createElement("div",null,r.a.createElement("img",{src:"/metadata-entry-form"+s,alt:t,style:{margin:"10px",maxWidth:"300px",maxHeight:"80px"}})),r.a.createElement(N.a,{variant:"body2",color:"textSecondary",component:"p"},a))))}function zn(){var e=Object(u.i)().language;return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,null,r.a.createElement("title",null,{en:"Metadata Intake Form",fr:"Formulaire de r\xe9ception des m\xe9tadonn\xe9es"}[e])),r.a.createElement(oe.a,{container:!0,direction:"column",spacing:2},r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(N.a,{variant:"h6"},r.a.createElement(Y.c,null,r.a.createElement(Y.a,null,"Welcome to the CIOOS Metadata Entry Tool. To get started, please select the region where your data was collected."),r.a.createElement(Y.b,null,"Bienvenue dans l'outil de saisie de m\xe9tadonn\xe9es du SIOOC. Pour commencer, veuillez s\xe9lectionner la r\xe9gion dans laquelle vos donn\xe9es ont \xe9t\xe9 collect\xe9es.")))),r.a.createElement(oe.a,{item:!0,xs:!0},r.a.createElement(oe.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch"},Object.entries(d).map((function(t){var a=Object(h.a)(t,2),n=a[0],i=a[1];return i.showInRegionSelector?r.a.createElement(oe.a,{item:!0,xs:!0,key:n},r.a.createElement(Mn,{region:n,regionSummary:i.introPageText[e]})):null}))))))}var Fn=":region(".concat(Object.keys(d).join("|"),")"),Bn=function(){return r.a.createElement(c.a,{basename:"/"},r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/"},r.a.createElement(u.a,{to:"/en/region-select"})),r.a.createElement(u.b,{path:"/".concat(":language(en|fr)","/region-select"),exact:!0,component:function(){return r.a.createElement(ie,null,r.a.createElement(zn,null))}}),r.a.createElement(u.b,{path:"/".concat(":language(en|fr)","/").concat(Fn),component:qn}),r.a.createElement(u.b,{path:"*"},r.a.createElement(u.a,{to:"/en/region-select"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a({dsn:"https://8fd4b6885cc447c0b11aa0cb3009b0e3@o56764.ingest.sentry.io/5493983",integrations:[new s.a.BrowserTracing],tracesSampleRate:1}),l.a.render(r.a.createElement(Bn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},54:function(e,t,a){"use strict";var n=a(29),r=a(30),i=a(42),l=a(44),o=a(0),s=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).listenerRefs=[],e}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.match.params.region!==e.match.params.region&&(this.unsubscribeAndCloseListeners(),this.componentDidMount())}},{key:"componentWillUnmount",value:function(){this.unsubscribeAndCloseListeners()}},{key:"unsubscribeAndCloseListeners",value:function(){this.unsubscribe&&this.unsubscribe(),this.listenerRefs.length&&this.listenerRefs.forEach((function(e){return e.off()}))}}]),a}(o.Component);t.a=s},79:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return s}));var n=a(312),r=a(33),i={title:{en:"",fr:""},abstract:{en:"",fr:""},keywords:{en:[],fr:[]},eov:[],progress:"",distribution:[],dateStart:null,dateEnd:null,map:{north:"",south:"",east:"",west:"",polygon:""},verticalExtentMin:"",verticalExtentMax:"",datePublished:null,dateRevised:null,edition:"",recordID:"",instruments:[],platform:"",platformID:"",platformDescription:"",language:"",license:"",contacts:[],status:"",comment:"",limitations:"",lastEditedBy:{},category:"",verticalExtentDirection:"",datasetIdentifier:"",doiCreationStatus:"",noPlatform:!1,filename:"",organization:"",timeFirstPublished:""};function l(){var e=Object(r.a)(i);return e.identifier=Object(n.a)(),e.created=(new Date).toISOString(),e}var o={role:[],orgName:"",orgEmail:"",orgURL:"",orgAdress:"",orgCity:"",orgCountry:"",orgRor:"",indPosition:"",indEmail:"",indOrcid:"",givenNames:"",lastName:"",inCitation:!0};function s(){return Object(r.a)(o)}}},[[339,1,2]]]);
//# sourceMappingURL=main.17bae982.chunk.js.map