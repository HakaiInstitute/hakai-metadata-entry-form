(this["webpackJsonpcioos-metadata-entry-form"]=this["webpackJsonpcioos-metadata-entry-form"]||[]).push([[0],{105:function(e,a,t){e.exports=t(121)},110:function(e,a,t){},121:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(10),o=t.n(l),c=t(55),s=t(13),i=(t(110),t(146)),u=function(){var e=Object(s.e)();return r.a.createElement("div",null,r.a.createElement("h1",null,"Metadata Site"),r.a.createElement(i.a,{onClick:function(){e.push("/new")}},"New Metadata record"))},m=t(86),p=function(){var e=Object(s.e)();return r.a.createElement("div",null,r.a.createElement("h1",null,"Submission received!"),r.a.createElement(m.a,null,"Thank you for your submission!"),r.a.createElement(i.a,{onClick:function(){return e.push("/new")}},"Make another!"))},h=t(7),d=t(28),f=t(45),b=t.n(f),v=t(59),E=t(19),g=t(15),O=t(24),y=t(64),C=t(5),j=["oxygen","nutrients","nitrate","phosphate","silicate","inorganicCarbon","dissolvedOrganicCarbon","seaSurfaceHeight","seawaterDensity","potentialTemperature","potentialDensity","speedOfSound","seaIce","seaState","seaSurfaceSalinity","seaSurfaceTemperature","subSurfaceCurrents","subSurfaceSalinity","subSurfaceTemperature","surfaceCurrents"],S=["resourceProvider","custodian","owner","user","distributor","originator","pointOfContact","principalInvestigator","processor","publisher","author","sponsor","coAuthor","collaborator","editor","mediator","rightsHolder","contributor","funder","stakeholder"],w=["deprecated","proposed","withdrawn","notAccepted","accepted","valid","tentative","superseded","retired","pending","final","underDevelopment","required","planned","onGoing","obsolete","historicalArchive","completed"],k=t(157),I=t(153),W=t(163),N=t(11),x=t(154),A=r.a.memo((function(e){var a=e.onChange,t=(e.value,e.name),l=e.label,o=e.multiline,c=Object(n.useState)({en:"",fr:""}),s=Object(N.a)(c,2),i=s[0],u=s[1];function m(e){var n=Object(d.a)(Object(d.a)({},i),{},Object(h.a)({},e.target.name,e.target.value));u(n),a({target:{name:t,value:n}})}return r.a.createElement("div",null,r.a.createElement("h5",null,l),r.a.createElement("div",null,r.a.createElement(W.a,{name:"en",fullWidth:!0,onChange:m,InputProps:{startAdornment:r.a.createElement(x.a,{position:"start"},"EN")},multiline:o})),r.a.createElement("div",null,r.a.createElement(W.a,{fullWidth:!0,name:"fr",onChange:m,InputProps:{startAdornment:r.a.createElement(x.a,{position:"start"},"FR")},multiline:o})))}),(function(e,a){return e.value===a.value})),L=t(152),D=t(165),M=t(155),P=t(162),T=r.a.memo((function(e){var a=e.onChange,t=e.value,l=e.name,o=e.label,c=e.options,s=e.optionLabels,i=Object(n.useState)([]),u=Object(N.a)(i,2),m=u[0],p=u[1];return r.a.createElement(L.a,{style:{minWidth:120}},r.a.createElement(D.a,{id:"demo-simple-select-label"},o),c.map((function(e,n){return r.a.createElement(M.a,{key:e,control:r.a.createElement(P.a,{key:e,value:e,name:l,checked:t.includes(e),onChange:function(e){var t,n,r=e.target.value,o=(t=r,(n=m).includes(t)?n.filter((function(e){return e!==t})):n.concat(t));p(o),a({target:{name:l,value:o}})}}),label:s[n]})})))}),(function(e,a){return e.value===a.value})),B=t(160),q=t(167),J=r.a.memo((function(e){var a=e.value,t=e.name,n=e.label,l=e.options,o=e.optionLabels,c=e.onChange;return r.a.createElement(L.a,{style:{minWidth:120}},r.a.createElement(D.a,{id:"demo-simple-select-label"},n),r.a.createElement(B.a,{name:t,fullWidth:!0,value:a,onChange:c},l.map((function(e,a){return r.a.createElement(q.a,{key:e,value:e},o[a])}))))}),(function(e,a){return e.value===a.value})),U=t(83),z=t(18),F=t(158),G=function(e){var a=e.onChange,t=e.value,n=e.name;return r.a.createElement(z.a,{utils:U.a},r.a.createElement(F.a,{margin:"normal",id:"date-picker-dialog",label:"Date picker dialog",format:"MM/dd/yyyy",value:t,onChange:function(e){return a({target:{name:n,value:e}})},KeyboardButtonProps:{"aria-label":"change date"}}))},H=t(71),K=t.n(H);t(116),t(119);K.a.initializeApp({apiKey:"AIzaSyAdlELZS5Lbea5NquotMT8amwO-Lc_7ogc",authDomain:"cioos-metadata-form.firebaseapp.com",databaseURL:"https://cioos-metadata-form.firebaseio.com",projectId:"cioos-metadata-form",storageBucket:"cioos-metadata-form.appspot.com",messagingSenderId:"646114203434",appId:"1:646114203434:web:bccceadc5144270f98f053"});var R=K.a;function Z(e){var a=e.replace(/([A-Z])/g," $1");return a.charAt(0).toUpperCase()+a.slice(1)}var $=function(e){Object(O.a)(t,e);var a=Object(y.a)(t);function t(e){var n;return Object(E.a)(this,t),(n=a.call(this,e)).state={title:{en:"",fr:""},abstract:{en:"",fr:""},id:"",eov:[],role:"",progress:"",dateStart:new Date,records:{}},n}return Object(g.a)(t,[{key:"handleSubmitClick",value:function(){var e=Object(v.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.database().ref("test").push(this.state);case 2:this.props.history.push("/success");case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleInputChange",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=e.target,n=t.name,r=t.value;a?this.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(h.a)({},a,Object(d.a)(Object(d.a)({},e[a]),{},Object(h.a)({},n,r))))})):this.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(h.a)({},n,r))}))}},{key:"render",value:function(){var e=this;return r.a.createElement(k.a,{container:!0,direction:"column",justify:"space-between",alignItems:"stretch"},r.a.createElement(I.a,{className:this.props.classes.paper},r.a.createElement("h1",null,"CIOOS Metadata Profile Intake Form"),r.a.createElement(m.a,null,"Welcome to the CIOOS metadata profile generation form! Please fill out each field with as much detail as you can. Using this information we will create your metadata profile for the given dataset.")),r.a.createElement(I.a,{className:this.props.classes.paper},r.a.createElement(m.a,null,"What is the title of the dataset?"),r.a.createElement(A,{label:"Enter a title",name:"title",value:this.state.title,onChange:function(a){return e.handleInputChange(a)}})),r.a.createElement(I.a,{className:this.props.classes.paper},r.a.createElement(m.a,null,"What is the ID for your dataset?"),r.a.createElement(W.a,{type:"text",label:"Your Answer",name:"id",value:this.state.id,onChange:function(a){return e.handleInputChange(a)},fullWidth:!0,required:!0})),r.a.createElement(I.a,{className:this.props.classes.paper},r.a.createElement(m.a,null,"Select a role for your datase"),r.a.createElement(J,{label:"Select a role",name:"role",value:this.state.role,onChange:function(a){return e.handleInputChange(a)},options:S,optionLabels:S.map(Z)})),r.a.createElement(I.a,{className:this.props.classes.paper},r.a.createElement(m.a,null,"Select EOVs that apply to your dataset"),r.a.createElement(T,{name:"eov",value:this.state.eov,onChange:function(a){return e.handleInputChange(a)},options:j,optionLabels:j.map(Z)})),r.a.createElement(I.a,{className:this.props.classes.paper},r.a.createElement(m.a,null,"What is the progress?"),r.a.createElement(J,{label:"Select a role",name:"progress",value:this.state.progress,onChange:function(a){return e.handleInputChange(a)},options:w,optionLabels:w.map(Z)})),r.a.createElement(I.a,{className:this.props.classes.paper},r.a.createElement(m.a,null,"What is the abstract for the dataset?"),r.a.createElement(A,{label:"Enter an abstract",name:"abstract",value:this.state.abstract,onChange:function(a){return e.handleInputChange(a)},multiline:!0})),r.a.createElement(I.a,{className:this.props.classes.paper},r.a.createElement(m.a,null,"What is the start date that data was collected?"),r.a.createElement(G,{name:"dateStart",onChange:function(a){return e.handleInputChange(a)}})),r.a.createElement(i.a,{variant:"contained",color:"primary",onClick:function(a){return e.handleSubmitClick(a)}},"Submit"))}}]),t}(n.Component),V=Object(C.a)({root:{flexGrow:1,overflow:"hidden",padding:"10px"},paper:{padding:"10px",margin:"20px"}})($),Y=function(e){Object(O.a)(t,e);var a=Object(y.a)(t);function t(e){var n;return Object(E.a)(this,t),(n=a.call(this,e)).state={records:{}},n}return Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(b.a.mark((function e(){var a=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R.database().ref("test").on("value",(function(e){a.setState({records:e.toJSON()})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Submission list"),r.a.createElement(m.a,null,"These are the submissions we have received:"),r.a.createElement("table",null,Object.entries(this.state.records).map((function(e){var a=Object(N.a)(e,2),t=(a[0],a[1]);return r.a.createElement("tr",null,r.a.createElement("td",null,t.title.en))}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=r.a.createElement(c.a,null,r.a.createElement("div",null,r.a.createElement(s.a,{exact:!0,path:"/",component:u}),r.a.createElement(s.a,{path:"/new",component:V}),r.a.createElement(s.a,{path:"/success",component:p}),r.a.createElement(s.a,{path:"/submissions",component:Y})));o.a.render(_,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[105,1,2]]]);
//# sourceMappingURL=main.2c997ce2.chunk.js.map