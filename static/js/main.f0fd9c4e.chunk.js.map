{"version":3,"sources":["static/cioos-banner-fr-v2-1.png","static/cioos-banner-en-v2.png","regions.js","firebase.js","auth.js","components/I18n.jsx","providers/UserProvider.jsx","components/NavDrawer.jsx","components/Home.jsx","components/Success.jsx","components/validate.js","utils/misc.js","components/SimpleModal.jsx","components/Submissions.jsx","components/Contacts.jsx","components/FormComponents/StartTab.jsx","isoCodeLists.js","components/FormComponents/SelectInput.jsx","components/FormComponents/Contact.jsx","components/FormComponents/Contacts.jsx","components/FormComponents/RequiredMark.jsx","components/FormComponents/ContactTab.jsx","components/FormComponents/BilingualTextInput.jsx","components/FormComponents/Distribution.jsx","components/FormComponents/DistributionTab.jsx","components/FormComponents/CheckBoxList.jsx","components/FormComponents/DateInput.jsx","keywordLists.js","components/FormComponents/KeywordsInput.jsx","categoryList.js","components/FormComponents/IdentificationTab.jsx","components/FormComponents/MetadataTab.jsx","components/FormComponents/Instruments.jsx","components/FormComponents/PlatformTab.jsx","components/FormComponents/MapSelect.jsx","components/FormComponents/SpatialTab.jsx","components/MetadataForm.jsx","components/EditContact.jsx","components/Reviewer.jsx","components/Admin.jsx","components/NotFound.jsx","components/BaseLayout.jsx","components/RegionSelect.jsx","components/App.jsx","serviceWorker.js","index.jsx"],"names":["module","exports","regions","stlaurent","en","fr","atlantic","pacific","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","provider","auth","GoogleAuthProvider","setCustomParameters","promt","En","children","useParams","language","Fr","I18n","UserContext","createContext","user","authIsLoading","UserProvider","props","componentDidMount","region","match","params","unsubscribe","onAuthStateChanged","userAuth","displayName","email","uid","database","ref","child","update","on","permissionsFB","permissions","toJSON","admins","Object","values","reviewers","isAdmin","includes","isReviewer","setState","state","this","Provider","value","Component","withRouter","cioosLogo","cioosLogoEN","cioosLogoFR","useStyles","makeStyles","theme","root","display","flexGrow","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","menuButton","marginRight","languageSelector","borderColor","color","spacing","hide","flexShrink","whiteSpace","drawerOpen","drawerClose","overflowX","breakpoints","up","toolbar","alignItems","justifyContent","padding","mixins","content","MiniDrawer","history","useHistory","classes","useTheme","useContext","userIsReviewer","userIsAdmin","pathWithoutLang","useLocation","pathname","split","map","e","slice","join","baseURL","React","useState","Boolean","open","setOpen","translations","home","new","contacts","saved","review","admin","signIn","logout","regionText","className","CssBaseline","AppBar","position","clsx","Toolbar","style","backgroundColor","IconButton","aria-label","onClick","edge","Menu","src","alt","Typography","variant","noWrap","flex","Select","disableUnderline","onChange","push","target","MenuItem","Drawer","paper","direction","ChevronRight","ChevronLeft","ListItem","key","ListItemIcon","Avatar","photoURL","ListItemText","primary","Divider","List","Tooltip","placement","title","button","signInWithPopup","then","AccountCircle","AddBox","disabled","ListAlt","RateReview","SupervisorAccount","signOut","ExitToApp","Home","Submissions","validators","val","abstract","identifier","category","keywords","length","eov","dateStart","north","south","east","west","polygon","progress","distribution","Array","isArray","filter","dist","name","verticalExtentMin","verticalExtentMax","datePublished","dateRevised","instruments","platformName","platformID","platformRole","platformDescription","platformAuthority","license","limitations","maintenance","created","validateField","record","fieldName","valueToValidate","validationFunction","percentValid","fields","keys","numTotal","field","camelToSentenceCase","text","result","replace","charAt","toUpperCase","deepCopy","obj","JSON","parse","stringify","firebaseToJSObject","input","out","forEach","entries","rand","Math","round","random","getModalStyle","top","left","transform","palette","background","border","boxShadow","shadows","SimpleModal","onClose","onAccept","modalStyle","Modal","aria-labelledby","aria-describedby","id","type","records","deleteModalOpen","publishModalOpen","modalKey","loading","currentUser","set","remove","modalName","toggleModal","deleteRecord","submitRecord","CircularProgress","recordFireBase","console","log","status","percentValidInt","recordIsComplete","ListItemAvatar","Description","secondary","ListItemSecondaryAction","editRecord","Visibility","Edit","Delete","Publish","getTitle","titleParts","orgName","indName","Contacts","modalOpen","Grid","container","item","xs","PermContactCalendar","Button","startIcon","Add","addItem","StartTab","paperClass","Paper","eovList","roleCodes","progressCodes","SelectInput","options","optionLabels","FormControl","minWidth","InputLabel","fullWidth","v","i","Contact","showRolePicker","role","TextField","label","onBlur","orgURL","orgAdress","orgCity","orgCountry","orgEmail","indPosition","indEmail","initial","handleChange","newValue","propName","contact","index","removeItem","changes","concat","RequiredMark","ContactTab","handleInputChange","paperClassValidate","userContacts","contactList","selectedIndex","setContact","justify","BilingualTextInput","languages","multiline","error","lang","callback","newData","handleEvent","InputProps","startAdornment","InputAdornment","Distribution","url","description","removeDistribution","nameLabel","descriptionLabel","handler","DistributionTab","CheckBoxList","FormControlLabel","control","Checkbox","checked","ele","arr","newCheckedValuesArray","DateInput","utils","DateFnsUtils","margin","format","dateSelected","KeyboardButtonProps","keywordLists","KeywordsInput","selectedKeyword","setKeyword","cleanList","list","trim","indexOf","Autocomplete","paddingLeft","keyword","filterOptions","filtered","createFilterOptions","inputValue","selectOnFocus","clearOnBlur","freeSolo","handleHomeEndKeys","renderOption","option","getOptionLabel","renderInput","ArrowDownward","selectedValue","l","keywordList","categoryList","IdentificationTab","MetadataTab","namingAuthority","comment","manufacturer","version","Instruments","manufacturerLabel","versionLabel","typeLabel","inst","PlatformTab","withLeaflet","editableFG","setEditableFG","setLayerError","coordTest","polyTest","clearExtraLayers","drawnItems","layerid","leafletElement","_layers","layer","removeLayer","limitDecimals","x","Number","parseFloat","toPrecision","Map","height","center","zoom","TileLayer","attribution","FeatureGroup","featureGroupRef","onEdited","onCreated","newShape","layerType","polyList","endPoint","_latlngs","polyPoint","point","lat","lng","bounds","_bounds","_northEast","_southWest","onDeleted","newVal","undefined","draw","marker","circle","polyline","circlemarker","edit","test_string","test","hasPolygon","positions","polygonList","coordList","matchAll","parsePolyString","test_n","test_s","test_e","test_w","hasBoundingBox","inputProps","inputMode","pattern","SpatialTab","paddingBottom","paperClassError","borderStyle","TabPanel","other","hidden","Box","MetadataForm","highlightMissingRequireFields","event","saveDisabled","uuidv4","recordID","Date","tabIndex","userID","userDataRef","recordsRef","newNode","tabProps","Fab","right","bottom","handleSubmitClick","Save","Tabs","Tab","EditContact","dbRef","off","rootRef","updateValues","isFilledEnoughToSave","handleCancelClick","MetadataRecordListItem","onViewClick","onDeleteClick","onSubmitClick","showPublishAction","userinfo","users","modalUserID","k","recordsForReview","recordsPublished","unique","Set","Admin","permissionsFirebase","updatePermissions","NotFound","BaseLayout","path","exact","component","Success","Reviewer","images","flexWrap","image","down","opacity","focusVisible","imageButton","common","white","imageSrc","backgroundSize","backgroundPosition","imageBackdrop","black","imageTitle","imageMarked","ButtonBases","ButtonBase","focusRipple","focusVisibleClassName","backgroundImage","App","basename","to","window","location","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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AC/CC,EAAInC,OAAOkC,IAqBJtO,EAAS,CACPE,OAAQ,CAAEoD,OAAMzJ,MAAO2U,QAK/BrD,MAAOX,EAAaM,U,6BClBjB2D,GArBG,SAAC,GAAyC,IAAvCzO,EAAsC,EAAtCA,SAAUnG,EAA4B,EAA5BA,MAAOyJ,EAAqB,EAArBA,KAAM5B,EAAe,EAAfA,SAC1C,OACE,kBAAC,KAAD,CAAyBgN,MAAOC,MAC9B,kBAAC,KAAD,CACEjN,SAAUA,EACVkN,OAAO,SACPzH,GAAG,qBACHgE,MAAM,cACN0D,OAAO,aACPhV,MAAOA,EACPmG,SAAU,SAAC8O,GAAD,OACR9O,EAAS,CAAEE,OAAQ,CAAEoD,OAAMzJ,MAAOiV,MAEpCC,oBAAqB,CACnB,aAAc,mB,8BCkKXC,GAAe,CAAE7Y,GAxLD,CAC3B,wBACA,uBACA,2BACA,wBACA,sBACA,oCACA,+BACA,0BACA,cACA,iBACA,kCACA,+BACA,wBACA,iBACA,8BACA,qBACA,gBACA,cACA,sBACA,iBACA,2BACA,oCACA,qBACA,gBACA,8BACA,0BACA,yBACA,0BACA,sBACA,eACA,QACA,wBACA,yBACA,yBACA,eACA,mBACA,qBACA,eACA,YACA,+BACA,sBACA,qBACA,aACA,uBACA,uBACA,SACA,qBACA,kBACA,mCACA,iBACA,8BACA,YACA,aACA,iBACA,qBACA,yBACA,8BACA,iBACA,gBACA,oBACA,UACA,0BACA,4BACA,0BACA,0BACA,iBACA,YACA,uBACA,kCACA,yBACA,gCACA,uBACA,qBACA,mBACA,cACA,cACA,qBACA,eACA,uBACA,gBACA,YACA,yBACA,0BACA,gBACA,4BACA,sBACA,SACA,QACA,sBA+F+CD,GA5FpB,CAC3B,wBACA,aACA,kBACA,kBACA,sBACA,wBACA,oBACA,qBACA,eACA,YACA,2BACA,2BACA,iBACA,gBACA,wBACA,oBACA,eACA,aACA,mBACA,gBACA,0BACA,4BACA,WACA,WACA,cACA,kBACA,qBACA,mBACA,gBACA,eACA,WACA,uBACA,sBACA,wBACA,UACA,oBACA,oBACA,cACA,YACA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","file":"static/js/main.f0fd9c4e.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","const regions = {\n  stlaurent: { en: \"St Laurence\", fr: \"Saint-Laurent\" },\n  atlantic: { en: \"Atlantic\", fr: \"Atlantique\" },\n  pacific: { en: \"Pacific\", fr: \"Pacifique\" },\n};\n\nexport default regions;\n","import firebase from \"firebase/app\";\nimport \"firebase/database\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\nconst config = {\n  apiKey: \"AIzaSyAdlELZS5Lbea5NquotMT8amwO-Lc_7ogc\",\n  authDomain: \"cioos-metadata-form.firebaseapp.com\",\n  databaseURL: \"https://cioos-metadata-form.firebaseio.com\",\n  projectId: \"cioos-metadata-form\",\n  storageBucket: \"cioos-metadata-form.appspot.com\",\n  messagingSenderId: \"646114203434\",\n  appId: \"1:646114203434:web:bccceadc5144270f98f053\",\n};\n\nfirebase.initializeApp(config);\n\nexport default firebase;\n","import firebase from \"./firebase\";\n\nconst provider = new firebase.auth.GoogleAuthProvider();\n\nprovider.setCustomParameters({ promt: \"select_account\" });\n\nexport const auth = firebase.auth();\n\nexport const signInWithGoogle = () => auth.signInWithPopup(provider);\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nexport const GetLanguage = () => {\n  const { language } = useParams();\n  return language;\n};\n\nexport const En = ({ children }) => {\n  const { language } = useParams();\n  return language === \"en\" && <>{children}</>;\n};\n\nexport const Fr = ({ children }) => {\n  const { language } = useParams();\n  return language === \"fr\" && <>{children}</>;\n};\n\n// Just returns text \"en\" or \"fr\"\nexport const I18n = ({ en, fr }) => {\n  const { language = \"en\" } = useParams();\n  return language === \"en\" ? en : fr;\n};\n","import React, { Component, createContext } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { auth } from \"../auth\";\nimport firebase from \"../firebase\";\n\nexport const UserContext = createContext({ user: null, authIsLoading: false });\n\nclass UserProvider extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: null,\n      authIsLoading: false,\n      admins: [],\n      reviewers: [],\n      isReviewer: false,\n    };\n  }\n\n  componentWillUnmount() {\n    this.unsubscribe();\n  }\n\n  componentDidMount = () => {\n    const { match } = this.props;\n\n    const { region } = match.params;\n\n    this.unsubscribe = auth.onAuthStateChanged((userAuth) => {\n      if (userAuth) {\n        const { displayName, email, uid } = userAuth;\n        firebase\n          .database()\n          .ref(region)\n          .child(`users`)\n          .child(uid)\n          .child(\"userinfo\")\n          .update({ displayName, email });\n\n        firebase\n          .database()\n          .ref(region)\n          .child(`permissions`)\n          .on(\"value\", (permissionsFB) => {\n            const permissions = permissionsFB.toJSON();\n\n            const admins = Object.values(permissions.admins || {});\n            const reviewers = Object.values(permissions.reviewers || {});\n\n            const isAdmin = admins.includes(email);\n            const isReviewer = reviewers.includes(email);\n\n            this.setState({\n              admins,\n              reviewers,\n              isAdmin,\n              isReviewer,\n            });\n          });\n      }\n\n      this.setState({ user: userAuth });\n    });\n  };\n\n  render() {\n    const { children } = this.props;\n    return (\n      <UserContext.Provider value={{ ...this.state }}>\n        {children}\n      </UserContext.Provider>\n    );\n  }\n}\n\nexport default withRouter(UserProvider);\n","import React, { useContext } from \"react\";\n\nimport { useParams, useLocation, useHistory } from \"react-router-dom\";\n\nimport clsx from \"clsx\";\n\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport {\n  Home,\n  ExitToApp,\n  Contacts,\n  ListAlt,\n  AddBox,\n  AccountCircle,\n  ChevronLeft,\n  ChevronRight,\n  RateReview,\n  SupervisorAccount,\n  Menu,\n} from \"@material-ui/icons\";\n\nimport {\n  Drawer,\n  Avatar,\n  AppBar,\n  Toolbar,\n  CssBaseline,\n  Typography,\n  Divider,\n  IconButton,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Select,\n  Tooltip,\n  MenuItem,\n} from \"@material-ui/core\";\nimport regions from \"../regions\";\nimport { auth, signInWithGoogle } from \"../auth\";\n\nimport { En, Fr, I18n } from \"./I18n\";\nimport cioosLogoFR from \"../static/cioos-banner-fr-v2-1.png\";\nimport cioosLogoEN from \"../static/cioos-banner-en-v2.png\";\n\nimport { UserContext } from \"../providers/UserProvider\";\n\nconst cioosLogo = { en: cioosLogoEN, fr: cioosLogoFR };\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexGrow: 1,\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  languageSelector: {\n    \"&:before\": {\n      borderColor: \"white\",\n    },\n    \"&:hover:not(.Mui-disabled):before\": {\n      borderColor: \"white\",\n    },\n    color: \"white\",\n    borderColor: \"white\",\n    marginRight: theme.spacing(2),\n  },\n  hide: {\n    display: \"none\",\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    whiteSpace: \"nowrap\",\n  },\n  drawerOpen: {\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerClose: {\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    overflowX: \"hidden\",\n    width: theme.spacing(7) + 1,\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(9) + 1,\n    },\n  },\n  toolbar: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n}));\n\nexport default function MiniDrawer({ children }) {\n  const history = useHistory();\n\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const { user, isReviewer: userIsReviewer, isAdmin: userIsAdmin } = useContext(\n    UserContext\n  );\n\n  let { language = \"en\", region = \"region-select\" } = useParams();\n\n  if (![\"en\", \"fr\"].includes(language)) language = \"en\";\n  if (![\"pacific\", \"atlantic\", \"stlaurent\"].includes(region)) region = \"\";\n\n  const { pathname } = useLocation();\n\n  const pathWithoutLang = pathname\n    .split(\"/\")\n    .map((e) => e)\n    .slice(2)\n    .join(\"/\");\n\n  const baseURL = `/${language}/${region}`;\n\n  // if region not set, keep drawer closed\n  const [open, setOpen] = React.useState(Boolean(region));\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const translations = {\n    home: <I18n en=\"Home\" fr=\"Accueil\" />,\n    new: <I18n en=\"New Record\" fr=\"Nouvel Enregistrement\" />,\n    contacts: <I18n en=\"Contacts\" fr=\"Contacts\" />,\n    saved: <I18n en=\"Saved Records\" fr=\"Enregistrements\" />,\n    review: <I18n en=\"Review submissions\" fr=\"Examen des soumissions\" />,\n    admin: <I18n en=\"Admin\" fr=\"Admin\" />,\n    signIn: <I18n en=\"Sign in\" fr=\"Se Connecter\" />,\n    logout: <I18n en=\"Logout\" fr=\"Déconnexion\" />,\n  };\n\n  const regionText = region ? regions[region][language] : \"\";\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar\n        position=\"fixed\"\n        className={clsx(classes.appBar, {\n          [classes.appBarShift]: open,\n        })}\n      >\n        <Toolbar style={{ backgroundColor: \"#52a79b\" }}>\n          <IconButton\n            color=\"primary\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerOpen}\n            edge=\"start\"\n            className={clsx(classes.menuButton, {\n              [classes.hide]: open,\n            })}\n          >\n            <Menu />\n          </IconButton>\n\n          <img src={cioosLogo[language]} alt=\"CIOOS/SIOOC\" />\n          <Typography\n            variant=\"h4\"\n            noWrap\n            style={{ marginLeft: \"10px\", flex: 1 }}\n          >\n            <En>{regionText} Metadata Entry Tool</En>\n            <Fr>Outil de saisie de métadonnées {regionText}</Fr>\n          </Typography>\n          {/* <Button color=\"inherit\">Login</Button> */}\n          <Select\n            disableUnderline\n            color=\"primary\"\n            className={classes.languageSelector}\n            value={language}\n            onChange={(e) =>\n              history.push(`/${e.target.value}/${pathWithoutLang}`)\n            }\n          >\n            <MenuItem value=\"en\">EN</MenuItem>\n            <MenuItem value=\"fr\">FR</MenuItem>\n          </Select>\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        variant=\"permanent\"\n        className={clsx(classes.drawer, {\n          [classes.drawerOpen]: open,\n          [classes.drawerClose]: !open,\n        })}\n        classes={{\n          paper: clsx({\n            [classes.drawerOpen]: open,\n            [classes.drawerClose]: !open,\n          }),\n        }}\n      >\n        <div className={classes.toolbar}>\n          <IconButton onClick={handleDrawerClose}>\n            {theme.direction === \"rtl\" ? <ChevronRight /> : <ChevronLeft />}\n          </IconButton>\n        </div>\n\n        {user && (\n          <ListItem key=\"userInfo\">\n            <ListItemIcon>\n              <Avatar src={user.photoURL} />\n            </ListItemIcon>\n            <ListItemText primary={user.displayName} />\n          </ListItem>\n        )}\n        <Divider />\n        <List>\n          {region && (\n            <Tooltip\n              placement=\"right-start\"\n              title={open ? \"\" : translations.home}\n            >\n              <ListItem\n                button\n                key=\"Home\"\n                onClick={() => history.push(`${baseURL}/`)}\n              >\n                <ListItemIcon>\n                  <Home />\n                </ListItemIcon>\n                <ListItemText primary={translations.home} />\n              </ListItem>\n            </Tooltip>\n          )}\n          {!user && region && (\n            <Tooltip\n              placement=\"right-start\"\n              title={open ? \"\" : translations.signIn}\n            >\n              <ListItem\n                button\n                key=\"Sign in\"\n                onClick={() =>\n                  signInWithGoogle().then(() => history.push(`${baseURL}/`))\n                }\n              >\n                <ListItemIcon>\n                  <AccountCircle />\n                </ListItemIcon>\n                <ListItemText primary={translations.signIn} />\n              </ListItem>\n            </Tooltip>\n          )}\n          {user && region && (\n            <>\n              <Tooltip\n                placement=\"right-start\"\n                title={open ? \"\" : translations.new}\n              >\n                <ListItem\n                  button\n                  key=\"New Record\"\n                  onClick={() => history.push(`${baseURL}/new`)}\n                >\n                  <ListItemIcon>\n                    <AddBox />\n                  </ListItemIcon>\n                  <ListItemText primary={translations.new} />\n                </ListItem>\n              </Tooltip>\n              {region && (\n                <>\n                  <Tooltip\n                    placement=\"right-start\"\n                    title={open ? \"\" : translations.contacts}\n                  >\n                    <ListItem\n                      button\n                      key=\"Contacts\"\n                      onClick={() => history.push(`${baseURL}/contacts`)}\n                    >\n                      <ListItemIcon disabled>\n                        <Contacts />\n                      </ListItemIcon>\n                      <ListItemText primary={translations.contacts} />\n                    </ListItem>\n                  </Tooltip>\n\n                  <Tooltip\n                    placement=\"right-start\"\n                    title={open ? \"\" : translations.saved}\n                  >\n                    <ListItem\n                      button\n                      key=\"Saved Records\"\n                      onClick={() => history.push(`${baseURL}/submissions`)}\n                    >\n                      <ListItemIcon>\n                        <ListAlt />\n                      </ListItemIcon>\n                      <ListItemText primary={translations.saved} />\n                    </ListItem>\n                  </Tooltip>\n\n                  {userIsReviewer && (\n                    <Tooltip\n                      placement=\"right-start\"\n                      title={open ? \"\" : translations.review}\n                    >\n                      <ListItem\n                        button\n                        key=\"Review\"\n                        onClick={() => history.push(`${baseURL}/reviewer`)}\n                      >\n                        <ListItemIcon>\n                          <RateReview />\n                        </ListItemIcon>\n                        <ListItemText primary={translations.review} />\n                      </ListItem>\n                    </Tooltip>\n                  )}\n                  {userIsAdmin && (\n                    <Tooltip\n                      placement=\"right-start\"\n                      title={open ? \"\" : translations.admin}\n                    >\n                      <ListItem\n                        button\n                        key=\"Admin\"\n                        onClick={() => history.push(`${baseURL}/admin`)}\n                      >\n                        <ListItemIcon>\n                          <SupervisorAccount />\n                        </ListItemIcon>\n                        <ListItemText primary={translations.admin} />\n                      </ListItem>\n                    </Tooltip>\n                  )}\n                </>\n              )}\n            </>\n          )}\n          {user && (\n            <Tooltip\n              placement=\"right-start\"\n              title={open ? \"\" : translations.logout}\n            >\n              <ListItem\n                button\n                key=\"Logout\"\n                onClick={() => auth.signOut().then(() => history.push(baseURL))}\n              >\n                <ListItemIcon>\n                  <ExitToApp />\n                </ListItemIcon>\n                <ListItemText primary={translations.logout} />\n              </ListItem>\n            </Tooltip>\n          )}\n        </List>\n        <Divider />\n      </Drawer>\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n        {children}\n      </main>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Typography } from \"@material-ui/core\";\nimport { En, Fr } from \"./I18n\";\n\nconst Home = () => {\n  return (\n    <div>\n      <Typography variant=\"h3\">\n        <En>Home</En>\n        <Fr>Accueil</Fr>\n      </Typography>\n      <Typography>\n        <En>\n          Welcome to the CIOOS Metadata intake tool. Start by clicking \"New\n          Record\" on the sidebar. You can also save contacts that you will use\n          often in the \"Contacts\" section.\n        </En>\n        <Fr>\n          Bienvenue dans l'outil de réception des métadonnées du CIOOS.\n          Commencez par cliquer sur « Nouveau » Enregistrer » sur la barre\n          latérale. Vous pouvez également enregistrer les contacts que vous\n          utiliserez souvent dans la section « Contacts ».\n        </Fr>\n      </Typography>\n    </div>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\n\nimport { Typography } from \"@material-ui/core\";\nimport { Fr, En } from \"./I18n\";\n\nconst Submissions = () => {\n  return (\n    <div>\n      <Typography variant=\"h3\">\n        <En>Submission received!</En>\n        <Fr>Soumission reçue!</Fr>\n      </Typography>\n\n      <Typography>\n        <En>Thank you for your submission!</En>\n        <Fr>Merci pour votre soumission!</Fr>\n      </Typography>\n    </div>\n  );\n};\n\nexport default Submissions;\n","// required fields and  a function to validate each\nexport const validators = {\n  title: (val) => val.en && val.fr,\n  abstract: (val) => val.en && val.fr,\n  identifier: (val) => val,\n  category: (val) => val,\n  keywords: (val) => val.en.length || val.fr.length,\n  eov: (val) => val.length,\n  dateStart: (val) => val,\n  map: (val) => (val.north && val.south && val.east && val.west) || val.polygon,\n  progress: (val) => val,\n  distribution: (val) =>\n    Array.isArray(val) && val.filter((dist) => dist.name).length,\n  verticalExtentMin: (val) => val,\n  verticalExtentMax: (val) => val,\n  datePublished: (val) => val,\n  dateRevised: (val) => val,\n  instruments: (val) => val.length,\n  platformName: (val) => val,\n  platformID: (val) => val,\n  platformRole: (val) => val,\n  platformDescription: (val) => val,\n  platformAuthority: (val) => val,\n  language: (val) => val,\n  license: (val) => val,\n  contacts: (val) => val.length,\n  limitations: (val) => val,\n  maintenance: (val) => val,\n  created: (val) => val,\n};\nexport const validateField = (record, fieldName) => {\n  const valueToValidate = record[fieldName];\n  // if no validator funciton exists, then it is not a required field\n  const validationFunction = validators[fieldName] || (() => true);\n\n  return (\n    valueToValidate && validationFunction && validationFunction(valueToValidate)\n  );\n};\nexport const percentValid = (record) => {\n  const fields = Object.keys(validators);\n  const numTotal = fields.length;\n  const numValid = fields.filter((field) => validateField(record, field))\n    .length;\n\n  return numValid / numTotal;\n};\nexport const recordIsValid = (record) => {\n  return percentValid(record) === 1;\n};\n","export function camelToSentenceCase(text) {\n  const result = text.replace(/([A-Z])/g, \" $1\");\n  return result.charAt(0).toUpperCase() + result.slice(1);\n}\nexport function deepCopy(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\nexport function firebaseToJSObject(input) {\n  if (!input) return null;\n  const out = deepCopy(input);\n  Object.keys(out).forEach((key) => {\n    if (typeof out[key] === \"object\" && Object.keys(out[key])[0] === \"0\") {\n      out[key] = Object.entries(out[key]).map(([, v]) => v);\n    }\n\n    //  special case\n    if (input.keywords)\n      out.keywords = {\n        en: Object.values(input.keywords.en),\n        fr: Object.values(input.keywords.fr),\n      };\n  });\n  return out;\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Modal from \"@material-ui/core/Modal\";\nimport { En, Fr } from \"./I18n\";\n\nfunction rand() {\n  return Math.round(Math.random() * 20) - 10;\n}\n\nfunction getModalStyle() {\n  const top = 50 + rand();\n  const left = 50 + rand();\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: \"absolute\",\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nexport default function SimpleModal({ open, onClose, onAccept }) {\n  const classes = useStyles();\n  // getModalStyle is not a pure function, we roll the style only on the first render\n  const [modalStyle] = React.useState(getModalStyle);\n\n  return (\n    <div>\n      <Modal\n        open={open}\n        onClose={onClose}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\"\n      >\n        <div style={modalStyle} className={classes.paper}>\n          <h2 id=\"simple-modal-title\">\n            <En>Are you sure?</En>\n            <Fr>Vous êtes sûr ?</Fr>\n          </h2>\n          <button\n            type=\"button\"\n            onClick={() => {\n              onClose();\n              onAccept();\n            }}\n          >\n            <En>Yes</En>\n            <Fr>Oui</Fr>\n          </button>\n          <button type=\"button\" onClick={onClose}>\n            <En>No</En>\n            <Fr>Non</Fr>\n          </button>\n        </div>\n      </Modal>\n    </div>\n  );\n}\n","import React from \"react\";\nimport {\n  Typography,\n  List,\n  ListItem,\n  ListItemText,\n  Avatar,\n  ListItemAvatar,\n  Tooltip,\n  ListItemSecondaryAction,\n  IconButton,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport {\n  Delete,\n  Edit,\n  Publish,\n  Description,\n  Visibility,\n} from \"@material-ui/icons\";\nimport firebase from \"../firebase\";\nimport { auth } from \"../auth\";\nimport { percentValid } from \"./validate\";\n\nimport { Fr, En, I18n } from \"./I18n\";\nimport { firebaseToJSObject } from \"../utils/misc\";\n\nimport SimpleModal from \"./SimpleModal\";\n\nclass Submissions extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      records: {},\n      deleteModalOpen: false,\n      publishModalOpen: false,\n      modalKey: \"\",\n      loading: false,\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({ loading: true });\n    const { match } = this.props;\n    const { region } = match.params;\n\n    this.unsubscribe = auth.onAuthStateChanged((user) => {\n      if (user) {\n        firebase\n          .database()\n          .ref(region)\n          .child(\"users\")\n          .child(user.uid)\n          .child(\"records\")\n          .on(\"value\", (records) =>\n            this.setState({ records: records.toJSON(), loading: false })\n          );\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.unsubscribe();\n  }\n\n  editRecord(key) {\n    const { match, history } = this.props;\n    const { language, region } = match.params;\n\n    history.push(`/${language}/${region}/new/${key}`);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  submitRecord(key) {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    if (auth.currentUser && key) {\n      firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(auth.currentUser.uid)\n        .child(\"records\")\n        .child(key)\n        .child(\"status\")\n        .set(\"submitted\");\n    }\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  deleteRecord(key) {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    if (auth.currentUser) {\n      firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(auth.currentUser.uid)\n        .child(\"records\")\n        .child(key)\n        .remove();\n    }\n  }\n\n  toggleModal(modalName, state, key = \"\") {\n    this.setState({ modalKey: key, [modalName]: state });\n  }\n\n  render() {\n    const { match } = this.props;\n    const { language } = match.params;\n    const {\n      deleteModalOpen,\n      modalKey,\n      publishModalOpen,\n      records,\n      loading,\n    } = this.state;\n    return (\n      <div>\n        <SimpleModal\n          open={deleteModalOpen}\n          onClose={() => this.toggleModal(\"deleteModalOpen\", false)}\n          onAccept={() => this.deleteRecord(modalKey)}\n          aria-labelledby=\"simple-modal-title\"\n          aria-describedby=\"simple-modal-description\"\n        />\n        <SimpleModal\n          open={publishModalOpen}\n          onClose={() => this.toggleModal(\"publishModalOpen\", false)}\n          onAccept={() => this.submitRecord(modalKey)}\n          aria-labelledby=\"simple-modal-title\"\n          aria-describedby=\"simple-modal-description\"\n        />\n\n        <Typography variant=\"h3\">\n          <En>Saved Records</En>\n          <Fr>Enregistrements enregistrés</Fr>\n        </Typography>\n        {loading ? (\n          <CircularProgress />\n        ) : (\n          <span>\n            {records && Object.keys(records).length ? (\n              <div>\n                <Typography>\n                  <En>\n                    These are the records you have submitted. To submit a record\n                    for review, click the \"Submit for review\" button. The record\n                    won't be published until the reviewer approves it. You\n                    cannot submit a record until all the required fields are\n                    filled out.\n                  </En>\n                  <Fr>\n                    Ce sont les documents que vous avez soumis. Pour soumettre\n                    un enregistrement pour examen, cliquez sur le bouton «\n                    Soumettre pour révision ». L'enregistrement ne sera pas\n                    publié tant que le réviseur ne l'aura pas approuvé. Vous ne\n                    pouvez pas soumettre un enregistrement tant que tous les\n                    champs requis ne sont pas remplis.\n                  </Fr>\n                </Typography>\n                <List>\n                  {Object.entries(records).map(([key, recordFireBase]) => {\n                    console.log(recordFireBase);\n                    const record = firebaseToJSObject(recordFireBase);\n\n                    const disabled = record.status === \"submitted\";\n                    const percentValidInt = Math.round(\n                      percentValid(record) * 100\n                    );\n                    const recordIsComplete = percentValidInt === 100;\n                    console.log(recordIsComplete);\n                    return (\n                      <ListItem key={key}>\n                        <ListItemAvatar>\n                          <Avatar>\n                            <Description />\n                          </Avatar>\n                        </ListItemAvatar>\n                        <ListItemText\n                          primary={record.title[language]}\n                          secondary={\n                            record.created && (\n                              <span>\n                                <En>\n                                  {`Created/Updated ${record.created} ${percentValidInt}% complete`}\n                                </En>\n                                <Fr>\n                                  {`Créé/mis à jour ${record.created} ${percentValidInt}% Achevée`}\n                                </Fr>\n                              </span>\n                            )\n                          }\n                        />\n                        <ListItemSecondaryAction>\n                          {record.status === \"submitted\" ? (\n                            <Tooltip title={<I18n en=\"View\" fr=\"Vue\" />}>\n                              <span>\n                                <IconButton\n                                  onClick={() => this.editRecord(key)}\n                                  edge=\"end\"\n                                  aria-label=\"delete\"\n                                >\n                                  <Visibility />\n                                </IconButton>\n                              </span>\n                            </Tooltip>\n                          ) : (\n                            <Tooltip title={<I18n en=\"Edit\" fr=\"Éditer\" />}>\n                              <span>\n                                <IconButton\n                                  onClick={() => this.editRecord(key)}\n                                  edge=\"end\"\n                                  aria-label=\"delete\"\n                                >\n                                  <Edit />\n                                </IconButton>\n                              </span>\n                            </Tooltip>\n                          )}\n                          <Tooltip title={<I18n en=\"Delete\" fr=\"Supprimer\" />}>\n                            <span>\n                              <IconButton\n                                disabled={disabled}\n                                onClick={() =>\n                                  this.toggleModal(\"deleteModalOpen\", true, key)\n                                }\n                                edge=\"end\"\n                                aria-label=\"delete\"\n                              >\n                                <Delete />\n                              </IconButton>\n                            </span>\n                          </Tooltip>\n                          <Tooltip\n                            title={\n                              <I18n\n                                en={\n                                  recordIsComplete\n                                    ? \"Submit for review\"\n                                    : \"Can't submit incomplete record\"\n                                }\n                                fr={\n                                  recordIsComplete\n                                    ? \"Soumettre pour examen\"\n                                    : \"Impossible de soumettre un enregistrement incomplet\"\n                                }\n                              />\n                            }\n                          >\n                            <span>\n                              <IconButton\n                                disabled={disabled || !recordIsComplete}\n                                onClick={() =>\n                                  this.toggleModal(\n                                    \"publishModalOpen\",\n                                    true,\n                                    key\n                                  )\n                                }\n                                edge=\"end\"\n                                aria-label=\"delete\"\n                              >\n                                <Publish />\n                              </IconButton>\n                            </span>\n                          </Tooltip>\n                        </ListItemSecondaryAction>\n                      </ListItem>\n                    );\n                  })}\n                </List>\n              </div>\n            ) : (\n              <Typography>\n                <En>You don't have any saved records.</En>\n                <Fr>Vous n'avez pas d'enregistrements enregistrés.</Fr>\n              </Typography>\n            )}\n          </span>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Submissions;\n","import React from \"react\";\nimport {\n  Typography,\n  IconButton,\n  Button,\n  List,\n  ListItem,\n  ListItemText,\n  Avatar,\n  Grid,\n  ListItemSecondaryAction,\n  ListItemAvatar,\n  CircularProgress,\n  Tooltip,\n} from \"@material-ui/core\";\nimport { Add, Edit, Delete, PermContactCalendar } from \"@material-ui/icons\";\nimport firebase from \"../firebase\";\nimport { auth } from \"../auth\";\n\nimport { I18n, En, Fr } from \"./I18n\";\nimport SimpleModal from \"./SimpleModal\";\n\nfunction getTitle(value) {\n  const titleParts = [];\n  titleParts.push(value.orgName);\n  titleParts.push(value.indName);\n  return titleParts.map((e) => e).join(\"/\");\n}\n\nclass Contacts extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      contacts: {},\n      modalOpen: false,\n      modalKey: \"\",\n      loading: false,\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({ loading: true });\n\n    const { match } = this.props;\n    const { region } = match.params;\n\n    this.unsubscribe = auth.onAuthStateChanged((user) => {\n      if (user) {\n        firebase\n          .database()\n          .ref(region)\n          .child(\"users\")\n          .child(user.uid)\n          .child(\"contacts\")\n          .on(\"value\", (records) =>\n            this.setState({ contacts: records.toJSON(), loading: false })\n          );\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.unsubscribe();\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  deleteRecord(key) {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    if (auth.currentUser) {\n      firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(auth.currentUser.uid)\n        .child(\"contacts\")\n        .child(key)\n        .remove();\n    }\n  }\n\n  addItem() {\n    const { history, match } = this.props;\n    const { language, region } = match.params;\n    // render different page with 'save' button?\n    history.push(`/${language}/${region}/contacts/new`);\n  }\n\n  editRecord(key) {\n    const { history, match } = this.props;\n    const { language, region } = match.params;\n\n    // render different page with 'save' button?\n    history.push(`/${language}/${region}/contacts/new/${key}`);\n  }\n\n  toggleModal(state, key = \"\") {\n    this.setState({ modalKey: key, modalOpen: state });\n  }\n\n  render() {\n    const { modalOpen, modalKey, loading, contacts } = this.state;\n    return (\n      <Grid container direction=\"column\" spacing={3}>\n        <Grid item xs>\n          <SimpleModal\n            open={modalOpen}\n            onClose={() => this.toggleModal(false)}\n            onAccept={() => this.deleteRecord(modalKey)}\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\"\n          />\n\n          <Typography variant=\"h3\">\n            <En>Contacts</En>\n            <Fr>Contacts</Fr>\n          </Typography>\n        </Grid>\n        <Grid item xs>\n          <Typography>\n            <En>\n              Create contacts here that you can reuse in multiple metadata\n              records.\n            </En>\n            <Fr>\n              Créez ici des contacts que vous pouvez réutiliser dans plusieurs\n              enregistrements de métadonnées\n            </Fr>\n          </Typography>\n        </Grid>\n\n        {loading ? (\n          <CircularProgress />\n        ) : (\n          <>\n            <Grid item xs>\n              {contacts && Object.keys(contacts).length ? (\n                <div>\n                  <Typography>\n                    <En>These are your contacts</En>\n                    <Fr>Ce sont vos contacts</Fr>\n                  </Typography>\n                  <List>\n                    {Object.entries(contacts).map(([key, val]) => (\n                      <ListItem key={key}>\n                        <ListItemAvatar>\n                          <Avatar>\n                            <PermContactCalendar />\n                          </Avatar>\n                        </ListItemAvatar>\n\n                        <ListItemText primary={getTitle(val)} />\n                        <ListItemSecondaryAction>\n                          <Tooltip title={<I18n en=\"Edit\" fr=\"Éditer\" />}>\n                            <span>\n                              <IconButton onClick={() => this.editRecord(key)}>\n                                <Edit />\n                              </IconButton>\n                            </span>\n                          </Tooltip>\n                          <Tooltip title={<I18n en=\"Delete\" fr=\"Supprimer\" />}>\n                            <span>\n                              <IconButton\n                                onClick={() => this.toggleModal(true, key)}\n                              >\n                                <Delete />\n                              </IconButton>\n                            </span>\n                          </Tooltip>\n                        </ListItemSecondaryAction>\n                      </ListItem>\n                    ))}\n                  </List>\n                </div>\n              ) : (\n                <Typography>\n                  <En>No contacts submitted yet</En>\n                  <Fr>Aucun contacts n'a encore été soumis</Fr>\n                </Typography>\n              )}\n            </Grid>\n            <Grid item xs>\n              <Button startIcon={<Add />} onClick={() => this.addItem()}>\n                Add contact\n              </Button>\n            </Grid>\n          </>\n        )}\n      </Grid>\n    );\n  }\n}\nexport default Contacts;\n","import React from \"react\";\n\nimport { Typography, Paper, Grid } from \"@material-ui/core\";\n\nimport { En, Fr } from \"../I18n\";\n\nconst StartTab = ({ disabled, paperClass }) => {\n  return (\n    <Grid item xs>\n      <Paper style={paperClass}>\n        <Typography variant=\"h3\">\n          <En>CIOOS Metadata Profile Intake Form</En>\n          <Fr>Formulaire de réception des profils de métadonnées du CIOOS</Fr>\n        </Typography>\n        {disabled && (\n          <Typography>\n            <En>\n              <b>This form is locked because it has already been submitted.</b>\n            </En>\n            <Fr>\n              <b>Ce formulaire est verrouillé car il a déjà été soumis.</b>\n            </Fr>\n          </Typography>\n        )}\n        <Typography>\n          <En>\n            Welcome to the CIOOS metadata profile generation form! Please fill\n            out each field with as much detail as you can. Using this\n            information we will create your metadata profile for the given\n            dataset.\n          </En>\n          <Fr>\n            Bienvenue sur le formulaire de génération de profils de métadonnées\n            CIOOS ! Veuillez remplir sur chaque champ avec autant de détails que\n            vous pouvez. Utilisation de cette informations que nous allons créer\n            votre profil de métadonnées pour le jeu de données.\n          </Fr>\n        </Typography>\n        <br />\n        <Typography>\n          <En>\n            The form can be saved once you have filled in the dataset title in\n            the \"Identification\" section.\n          </En>\n          <Fr>\n            Le formulaire peut être enregistré une fois que vous avez rempli le\n            titre du jeu de données dans la section « Identification ».\n          </Fr>\n        </Typography>\n      </Paper>\n    </Grid>\n  );\n};\n\nexport default StartTab;\n","export const eovList = [\n  \"oxygen\",\n  \"nutrients\",\n  \"nitrate\",\n  \"phosphate\",\n  \"silicate\",\n  \"inorganicCarbon\",\n  \"dissolvedOrganicCarbon\",\n  \"seaSurfaceHeight\",\n  \"seawaterDensity\",\n  \"potentialTemperature\",\n  \"potentialDensity\",\n  \"speedOfSound\",\n  \"seaIce\",\n  \"seaState\",\n  \"seaSurfaceSalinity\",\n  \"seaSurfaceTemperature\",\n  \"subSurfaceCurrents\",\n  \"subSurfaceSalinity\",\n  \"subSurfaceTemperature\",\n  \"surfaceCurrents\",\n];\nexport const roleCodes = [\n  \"resourceProvider\",\n  \"custodian\",\n  \"owner\",\n  \"user\",\n  \"distributor\",\n  \"originator\",\n  \"pointOfContact\",\n  \"principalInvestigator\",\n  \"processor\",\n  \"publisher\",\n  \"author\",\n  \"sponsor\",\n  \"coAuthor\",\n  \"collaborator\",\n  \"editor\",\n  \"mediator\",\n  \"rightsHolder\",\n  \"contributor\",\n  \"funder\",\n  \"stakeholder\",\n];\n\nexport const progressCodes = [\n  \"deprecated\",\n  \"proposed\",\n  \"withdrawn\",\n  \"notAccepted\",\n  \"accepted\",\n  \"valid\",\n  \"tentative\",\n  \"superseded\",\n  \"retired\",\n  \"pending\",\n  \"final\",\n  \"underDevelopment\",\n  \"required\",\n  \"planned\",\n  \"onGoing\",\n  \"obsolete\",\n  \"historicalArchive\",\n  \"completed\",\n];\n","import React from \"react\";\nimport { Select, MenuItem, FormControl, InputLabel } from \"@material-ui/core\";\nimport { I18n } from \"../I18n\";\n\nconst SelectInput = ({\n  value,\n  name,\n  options,\n  optionLabels,\n  onChange,\n  disabled,\n}) => {\n  return (\n    <FormControl disabled={disabled} style={{ minWidth: 120 }}>\n      <InputLabel id=\"demo-simple-select-label\">\n        <I18n en=\"Choose\" fr=\"Choisir\" />\n      </InputLabel>\n      <Select name={name} fullWidth value={value} onChange={onChange}>\n        {options.map((v, i) => (\n          <MenuItem key={v} value={v}>\n            {optionLabels[i]}\n          </MenuItem>\n        ))}\n      </Select>\n    </FormControl>\n  );\n};\nexport default SelectInput;\n","import React from \"react\";\n\nimport { TextField, Typography, Grid } from \"@material-ui/core\";\nimport { I18n, En, Fr } from \"../I18n\";\nimport { roleCodes } from \"../../isoCodeLists\";\nimport { camelToSentenceCase } from \"../../utils/misc\";\nimport SelectInput from \"./SelectInput\";\n\nconst Contact = ({ onChange, value, showRolePicker, disabled }) => {\n  return (\n    <Grid container direction=\"column\" spacing={3}>\n      {showRolePicker && (\n        <Grid item xs>\n          <Typography>\n            <En>What is their role?</En>\n            <Fr>Quel est leur rôle ?</Fr>\n          </Typography>\n          <SelectInput\n            name=\"role\"\n            value={value.role || \"\"}\n            onChange={(e) => onChange(e)}\n            options={roleCodes}\n            optionLabels={roleCodes.map(camelToSentenceCase)}\n            disabled={disabled}\n          />\n        </Grid>\n      )}\n\n      <Grid item xs>\n        <Grid container direction=\"column\" spacing={1}>\n          {/* Organization */}\n          <Grid item xs>\n            <Typography>\n              <En>Organization</En>\n              <Fr>Organisation</Fr>\n            </Typography>\n          </Grid>\n          <Grid item xs>\n            <TextField\n              label={<I18n en=\"Name\" fr=\"Nom\" />}\n              name=\"orgName\"\n              value={value.orgName}\n              onChange={onChange}\n              onBlur={onChange}\n              disabled={disabled}\n              fullWidth\n            />\n          </Grid>\n          <Grid item xs>\n            <TextField\n              label={<I18n en=\"URL\" fr=\"URL\" />}\n              name=\"orgURL\"\n              value={value.orgURL}\n              onChange={onChange}\n              disabled={disabled}\n              fullWidth\n            />\n          </Grid>\n          <Grid item xs>\n            <TextField\n              label={<I18n en=\"Address\" fr=\"Adresse\" />}\n              name=\"orgAdress\"\n              value={value.orgAdress}\n              onChange={onChange}\n              disabled={disabled}\n              fullWidth\n            />\n          </Grid>\n          <Grid item xs>\n            <TextField\n              label={<I18n en=\"City\" fr=\"Ville\" />}\n              name=\"orgCity\"\n              value={value.orgCity}\n              onChange={onChange}\n              disabled={disabled}\n              fullWidth\n            />\n          </Grid>\n          <Grid item xs>\n            <TextField\n              label={<I18n en=\"Country\" fr=\"Pays\" />}\n              name=\"orgCountry\"\n              value={value.orgCountry}\n              onChange={onChange}\n              disabled={disabled}\n              fullWidth\n            />\n          </Grid>\n          <Grid item xs>\n            <TextField\n              label={<I18n en=\"Email\" fr=\"Email\" />}\n              name=\"orgEmail\"\n              value={value.orgEmail}\n              onChange={onChange}\n              fullWidth\n              disabled={disabled}\n            />{\" \"}\n          </Grid>\n        </Grid>\n      </Grid>\n\n      <Grid item xs>\n        {/* Individual */}\n        <Typography>\n          <En>Individual</En>\n          <Fr>Individuel</Fr>\n        </Typography>\n        <TextField\n          label={<I18n en=\"Name\" fr=\"Nom\" />}\n          name=\"indName\"\n          value={value.indName}\n          onChange={onChange}\n          disabled={disabled}\n          fullWidth\n        />\n\n        <TextField\n          label={<I18n en=\"Position\" fr=\"Position\" />}\n          name=\"indPosition\"\n          value={value.indPosition}\n          onChange={onChange}\n          disabled={disabled}\n          fullWidth\n        />\n        <TextField\n          label={<I18n en=\"Email\" fr=\"Email\" />}\n          name=\"indEmail\"\n          value={value.indEmail}\n          onChange={onChange}\n          disabled={disabled}\n          fullWidth\n        />\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Contact;\n","import React from \"react\";\nimport { Add, Delete } from \"@material-ui/icons\";\nimport { Button, Grid, Paper } from \"@material-ui/core\";\nimport Contact from \"./Contact\";\nimport { deepCopy } from \"../../utils/misc\";\nimport { En, Fr } from \"../I18n\";\n\nconst initial = {\n  role: \"\",\n  orgName: \"\",\n  orgEmail: \"\",\n  orgURL: \"\",\n  orgAdress: \"\",\n  orgCity: \"\",\n  orgCountry: \"\",\n  indName: \"\",\n  indPosition: \"\",\n  indEmail: \"\",\n};\n\nconst Contacts = ({ onChange, value, name, disabled, paperClass }) => {\n  function addItem() {\n    const changes = {\n      target: {\n        name,\n        value: value.concat(deepCopy(initial)),\n      },\n    };\n\n    onChange(changes);\n  }\n  function handleChange(i) {\n    return (e) => {\n      const newValue = [...value];\n      const propName = e.target.name;\n      newValue[i][propName] = e.target.value;\n      const parentEvent = { target: { name, value: newValue } };\n      onChange(parentEvent);\n    };\n  }\n  function removeItem(i) {\n    onChange({\n      target: { name, value: value.filter((e, index) => index !== i) },\n    });\n  }\n  return (\n    <Grid container direction=\"column\">\n      {value.map((contact, i) => {\n        return (\n          <Paper key={i} style={paperClass}>\n            <Grid container direction=\"column\" spacing={3}>\n              <Grid item xs>\n                <Contact\n                  showRolePicker\n                  name={`contact_${i}`}\n                  value={contact}\n                  onChange={handleChange(i)}\n                  disabled={disabled}\n                />\n              </Grid>\n              <Grid item xs>\n                <Button\n                  startIcon={<Delete />}\n                  disabled={disabled}\n                  onClick={() => removeItem(i)}\n                >\n                  <En>Remove item</En>\n                  <Fr>Supprimer l'article</Fr>\n                </Button>\n              </Grid>\n            </Grid>\n          </Paper>\n        );\n      })}\n      <Paper style={paperClass}>\n        <Button disabled={disabled} startIcon={<Add />} onClick={addItem}>\n          <En>Add contact</En>\n          <Fr>Ajouter un contact</Fr>\n        </Button>\n      </Paper>\n    </Grid>\n  );\n};\nexport default Contacts;\n","import React from \"react\";\n\nfunction RequiredMark() {\n  return <span style={{ color: \"red\" }}>*</span>;\n}\nexport default RequiredMark;\n","import React, { useState } from \"react\";\n\nimport { Typography, Paper, Button, Grid } from \"@material-ui/core\";\nimport Contacts from \"./Contacts\";\nimport SelectInput from \"./SelectInput\";\nimport RequiredMark from \"./RequiredMark\";\n\nimport { En, Fr } from \"../I18n\";\n\nconst ContactTab = ({\n  disabled,\n  record,\n  handleInputChange,\n  paperClassValidate,\n  paperClass,\n  userContacts,\n}) => {\n  const contactList = Object.values(userContacts || {});\n\n  const [selectedIndex, setContact] = useState(\"\");\n\n  function handleAddContact() {\n    const value = record.contacts;\n\n    handleInputChange({\n      target: {\n        name: \"contacts\",\n        value: value.concat(contactList[selectedIndex]),\n      },\n    });\n  }\n\n  return (\n    <Grid container spacing={3}>\n      <Paper style={paperClassValidate(\"contacts\")}>\n        <Grid item xs>\n          <Typography>\n            <En>\n              Please enter at least one contact related to this dataset. You can\n              create a new contact here or if you have any saved contacts you\n              can select them from the list.\n            </En>\n            <Fr>\n              Veuillez saisir au moins un contact lié à cet ensemble de données.\n              Vous pouvez créer un nouveau contact ici ou, si vous avez des\n              contacts enregistrés, vous pouvez les sélectionner dans la liste.\n            </Fr>\n            <RequiredMark />\n          </Typography>\n        </Grid>\n      </Paper>\n      <Paper style={paperClass}>\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"flex-start\"\n          alignItems=\"center\"\n        >\n          <Grid item xs={3}>\n            <Typography>\n              <En>Load a contact from the list</En>\n              <Fr>Au moins un contact est requis.</Fr>\n            </Typography>\n          </Grid>\n          <Grid item xs={3}>\n            <SelectInput\n              value={selectedIndex}\n              onChange={(e) => setContact(e.target.value)}\n              optionLabels={contactList.map(\n                (contact) => `${contact.indName} ${contact.orgName}`\n              )}\n              options={contactList.map((v, i) => i)}\n              disabled={!contactList.length || disabled}\n            />\n          </Grid>\n          <Grid item xs={3}>\n            <Button\n              disabled={!contactList.length || selectedIndex === \"\" || disabled}\n              onClick={handleAddContact}\n            >\n              <En>Add Contact From List</En>\n              <Fr>Ajouter un contact de la liste</Fr>\n            </Button>\n          </Grid>\n        </Grid>\n      </Paper>\n      <Contacts\n        paperClass={paperClass}\n        name=\"contacts\"\n        value={record.contacts || []}\n        onChange={(e) => handleInputChange(e)}\n        disabled={disabled}\n      />\n    </Grid>\n  );\n};\n\nexport default ContactTab;\n","import { InputAdornment, TextField } from \"@material-ui/core\";\n\nimport React from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nconst BilingualTextInput = ({\n  onChange,\n  value,\n  name,\n  multiline,\n  disabled,\n  error,\n}) => {\n  function handleEvent(e, callback) {\n    if (Boolean(callback) === false) {\n      return;\n    }\n    const newData = { ...value, [e.target.name]: e.target.value };\n    const newDataEvent = { target: { name, value: newData } };\n    callback(newDataEvent);\n  }\n  const { language } = useParams();\n  let languages;\n\n  if (language === \"en\") languages = [\"en\", \"fr\"];\n  else languages = [\"fr\", \"en\"];\n  return (\n    <div>\n      {languages.map((lang) => (\n        <div key={lang}>\n          <TextField\n            name={lang}\n            fullWidth\n            value={value && value[lang]}\n            onChange={(e) => handleEvent(e, onChange)}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  {lang.toUpperCase()}\n                </InputAdornment>\n              ),\n            }}\n            multiline={multiline}\n            disabled={disabled}\n            error={error}\n          />\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default BilingualTextInput;\n","import React from \"react\";\nimport { Add, Delete } from \"@material-ui/icons\";\nimport { TextField, Grid, Typography, Button, Paper } from \"@material-ui/core\";\nimport { En, Fr, I18n } from \"../I18n\";\nimport { deepCopy } from \"../../utils/misc\";\nimport BilingualTextInput from \"./BilingualTextInput\";\nimport RequiredMark from \"./RequiredMark\";\n\nconst Distribution = ({ onChange, value, name, disabled, paperClass }) => {\n  const initial = { url: \"\", name: \"\", description: { en: \"\", fr: \"\" } };\n\n  function addDistribution() {\n    onChange({\n      target: {\n        name,\n        value: value.concat(deepCopy(initial)),\n      },\n    });\n  }\n  function handleChange(e, i) {\n    const newValue = [...value];\n    const propName = e.target.name;\n    newValue[i][propName] = e.target.value;\n    const parentEvent = { target: { name, value: newValue } };\n    onChange(parentEvent);\n  }\n  // removes the distribution section from the list at index i\n  function removeDistribution(i) {\n    onChange({\n      target: { name, value: value.filter((e, index) => index !== i) },\n    });\n  }\n  const nameLabel = <I18n en=\"Name\" fr=\"Nom\" />;\n  const descriptionLabel = <I18n en=\"Description\" fr=\"Description\" />;\n\n  return (\n    <div>\n      {value.map((dist = deepCopy(initial), i) => {\n        const handler = (e) => handleChange(e, i);\n        return (\n          <Paper key={i} style={paperClass}>\n            <Grid container direction=\"column\" spacing={3}>\n              <Grid item xs>\n                <Typography>\n                  <En>Enter a name for the resource</En>\n                  <Fr>Entrez un nom pour la ressource</Fr>\n                  <RequiredMark />\n                </Typography>\n                <TextField\n                  label={nameLabel}\n                  name=\"name\"\n                  value={dist.name}\n                  onChange={handler}\n                  fullWidth\n                  disabled={disabled}\n                />\n              </Grid>\n              <Grid item xs>\n                <Typography>\n                  <En>Enter the URL for the resource</En>\n                  <Fr>Entrez l'URL de la ressource</Fr>\n                  <RequiredMark />\n                </Typography>\n\n                <TextField\n                  label=\"URL\"\n                  name=\"url\"\n                  value={dist.url}\n                  onChange={handler}\n                  fullWidth\n                  disabled={disabled}\n                />\n              </Grid>\n              <Grid item xs>\n                <Typography>\n                  <En>Enter a description of the resource</En>\n                  <Fr>Entrez une description de la ressource</Fr>\n                </Typography>{\" \"}\n                <BilingualTextInput\n                  name=\"description\"\n                  label={descriptionLabel}\n                  value={dist.description}\n                  onChange={handler}\n                  disabled={disabled}\n                />\n              </Grid>\n              <Grid item xs>\n                <Button\n                  startIcon={<Delete />}\n                  disabled={disabled}\n                  onClick={() => removeDistribution(i)}\n                >\n                  <En>Remove item</En>\n                  <Fr>Supprimer l'article</Fr>\n                </Button>\n              </Grid>\n            </Grid>\n          </Paper>\n        );\n      })}\n\n      <Paper style={paperClass}>\n        <Button\n          startIcon={<Add />}\n          disabled={disabled}\n          onClick={addDistribution}\n        >\n          <En>Add item</En>\n          <Fr>Ajouter un article</Fr>\n        </Button>\n      </Paper>\n    </div>\n  );\n};\n\nexport default Distribution;\n","import React from \"react\";\n\nimport { Typography, Paper } from \"@material-ui/core\";\n\nimport Distribution from \"./Distribution\";\nimport { En, Fr } from \"../I18n\";\n\nconst DistributionTab = ({\n  disabled,\n  record,\n  handleInputChange,\n  paperClass,\n}) => {\n  return (\n    <div>\n      <Paper style={paperClass}>\n        <Typography>\n          <En>At least one resource is required.</En>\n          <Fr>Au moins une ressource est requise.</Fr>\n        </Typography>\n      </Paper>\n      <Distribution\n        name=\"distribution\"\n        paperClass={paperClass}\n        value={record.distribution || []}\n        onChange={handleInputChange}\n        disabled={disabled}\n      />\n    </div>\n  );\n};\n\nexport default DistributionTab;\n","import React from \"react\";\n\nimport {\n  Checkbox,\n  FormControlLabel,\n  FormControl,\n  InputLabel,\n} from \"@material-ui/core\";\n\nconst CheckBoxList = ({\n  onChange,\n  value,\n  name,\n  label,\n  options,\n  optionLabels,\n  disabled,\n}) => {\n  function toggleArrayElement(ele, arr) {\n    if (arr.includes(ele)) return arr.filter((v) => v !== ele);\n    return arr.concat(ele);\n  }\n\n  return (\n    <FormControl style={{ minWidth: 120 }}>\n      <InputLabel id=\"demo-simple-select-label\">{label}</InputLabel>\n      {options.map((v, i) => {\n        return (\n          <FormControlLabel\n            key={v}\n            disabled={disabled}\n            control={\n              <Checkbox\n                key={v}\n                value={v || []}\n                name={name}\n                checked={value.includes(v)}\n                onChange={(e) => {\n                  const val = e.target.value;\n                  const newCheckedValuesArray = toggleArrayElement(val, value);\n\n                  onChange({\n                    target: { name, value: newCheckedValuesArray },\n                  });\n                }}\n              />\n            }\n            label={optionLabels[i]}\n          />\n        );\n      })}\n    </FormControl>\n  );\n};\n\nexport default CheckBoxList;\n","import React from \"react\";\n\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDatePicker,\n} from \"@material-ui/pickers\";\n\nconst DateInput = ({ onChange, value, name, disabled }) => {\n  return (\n    <MuiPickersUtilsProvider utils={DateFnsUtils}>\n      <KeyboardDatePicker\n        disabled={disabled}\n        margin=\"normal\"\n        id=\"date-picker-dialog\"\n        label=\"Select date\"\n        format=\"MM/dd/yyyy\"\n        value={value}\n        onChange={(dateSelected) =>\n          onChange({ target: { name, value: dateSelected } })\n        }\n        KeyboardButtonProps={{\n          \"aria-label\": \"change date\",\n        }}\n      />\n    </MuiPickersUtilsProvider>\n  );\n};\n\nexport default DateInput;\n","export const keywordListFr = [\n  \"abondance et biomasse\",\n  \"accès à la mer\",\n  \"aide à la décision\",\n  \"aires protégées\",\n  \"ressources maritime\",\n  \"amélioration des connaissances\",\n  \"aménagement du territoire\",\n  \"assainissement des eaux\",\n  \"bar rayé\",\n  \"bassin versant\",\n  \"caractérisation des habitats\",\n  \"caractérisation des rives\",\n  \"changement climatique\",\n  \"chlorophylle a\",\n  \"conservation des ressources\",\n  \"consommation d'eau\",\n  \"courant marin\",\n  \"crustacé\",\n  \"débits eau douce\",\n  \"densité eau\",\n  \"développement durable\",\n  \"échange océan-atmosphère\",\n  \"échantillonnage\",\n  \"écrevisses\",\n  \"entreprises de maricultures\",\n  \"érosion des côtes\",\n  \"espèces en péril\",\n  \"espèces envahissante\",\n  \"flore côtière\",\n  \"fluorescence\",\n  \"fraie\",\n  \"gestion communautaire\",\n  \"gestion des ressources\",\n  \"gestion intégrée\",\n  \"glace de mer\",\n  \"habitat sensible\",\n  \"habitats important\",\n  \"hydrocarbure\",\n  \"incidents\",\n  \"informations générales\",\n  \"inventaire faunique\",\n  \"inventaire poisson\",\n  \"macroalgue\",\n  \"macrofaune benthique\",\n  \"mammifères marins\",\n  \"marais\",\n  \"météorologie\",\n  \"milieux humides\",\n  \"milieux naturels d'intérêt\",\n  \"mise en valeur\",\n  \"missions océanographique\",\n  \"mollusque\",\n  \"niveau eau\",\n  \"oiseaux marins\",\n  \"oiseaux migrateurs\",\n  \"pêches commerciales\",\n  \"pêches expérimentales\",\n  \"physico-chimie\",\n  \"phytoplancton\",\n  \"plantes aquatique\",\n  \"poisson\",\n  \"pollution côtière\",\n  \"pression atmosphérique\",\n  \"protection des côtes\",\n  \"protection des habitats\",\n  \"qualité eau\",\n  \"radiation\",\n  \"ressources maritimes\",\n  \"réhabilitation écologique\",\n  \"restauration des rives\",\n  \"restauration expérimentale\",\n  \"restauration habitat\",\n  \"risques côtiers\",\n  \"saisie citoyenne\",\n  \"salinité\",\n  \"sédiment\",\n  \"sites de pêches\",\n  \"suivi annuel\",\n  \"suivi des espèces\",\n  \"suivi habitat\",\n  \"taxonomie\",\n  \"télédétection\",\n  \"température de l'eau\",\n  \"tortue de mer\",\n  \"utilisation du territoire\",\n  \"utilisation durable\",\n  \"vagues\",\n  \"vents\",\n  \"zone côtière\",\n];\n\nexport const keywordListEn = [\n  \"abundance and biomass\",\n  \"sea access\",\n  \"decision making\",\n  \"protected areas\",\n  \"maritime ressources\",\n  \"knowledge improvement\",\n  \"land-use planning\",\n  \"water purification\",\n  \"striped bass\",\n  \"watershed\",\n  \"habitat characterization\",\n  \"coastal characterization\",\n  \"climate change\",\n  \"chlorophyll a\",\n  \"resource conservation\",\n  \"water consumption\",\n  \"sea currents\",\n  \"crustacean\",\n  \"fresh water flow\",\n  \"water density\",\n  \"sustainable development\",\n  \"ocean-atmosphere exchange\",\n  \"sampling\",\n  \"crayfish\",\n  \"mariculture\",\n  \"coastal erosion\",\n  \"endangered species\",\n  \"invasive species\",\n  \"coastal flora\",\n  \"fluorescence\",\n  \"spawning\",\n  \"community management\",\n  \"resource management\",\n  \"integrated management\",\n  \"sea ice\",\n  \"sensitive habitat\",\n  \"important habitat\",\n  \"hydrocarbon\",\n  \"incidents\",\n  \"general information\",\n  \"wildlife inventory\",\n  \"fish inventory\",\n  \"macroalgae\",\n  \"benthic macrofauna\",\n  \"marine mammal\",\n  \"marsh\",\n  \"meteorology\",\n  \"wetlands\",\n  \"natural environments of interest\",\n  \"enhancement\",\n  \"oceanographic missions\",\n  \"mollusc\",\n  \"sea level\",\n  \"seabirds\",\n  \"migrator birds\",\n  \"commercial fisheries\",\n  \"experimental fisheries\",\n  \"physical-chemical\",\n  \"phytoplankton\",\n  \"sea grass\",\n  \"fish\",\n  \"coastal pollution\",\n  \"atmospheric pressure\",\n  \"coast protection\",\n  \"habitat protection\",\n  \"water quality\",\n  \"radiation\",\n  \"maritime resources\",\n  \"ecological rehabilitation\",\n  \"shore restoration\",\n  \"experimental restoration\",\n  \"habitat restoration\",\n  \"coastal risks\",\n  \"citizen data\",\n  \"salinity\",\n  \"sediment\",\n  \"fishing sites\",\n  \"annual follow-up\",\n  \"species tracking\",\n  \"habitat tracking\",\n  \"taxonomy\",\n  \"remote sensing\",\n  \"water temperature\",\n  \"sea turtles\",\n  \"land-use\",\n  \"sustainabilty\",\n  \"waves\",\n  \"wind\",\n  \"coastal zone\",\n];\n\nexport const keywordLists = { fr: keywordListFr, en: keywordListEn };\n","import React, { useState } from \"react\";\n\nimport Autocomplete, {\n  createFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\n\nimport { TextField, Button, Grid } from \"@material-ui/core\";\nimport { useParams } from \"react-router-dom\";\nimport { ArrowDownward } from \"@material-ui/icons\";\nimport { keywordLists } from \"../../keywordLists\";\nimport BilingualTextInput from \"./BilingualTextInput\";\nimport { En, Fr } from \"../I18n\";\n\nconst KeywordsInput = ({\n  onChange,\n  value = { en: [], fr: [] },\n  name,\n  disabled,\n}) => {\n  const { language } = useParams();\n  const [selectedKeyword, setKeyword] = useState(\"\");\n\n  function cleanList(list) {\n    return list\n      .map((item) => item.trim())\n      .filter((item, i, arr) => item && arr.indexOf(item) === i);\n  }\n\n  function handleHelperChange() {\n    const selectedValue = selectedKeyword;\n    if (selectedValue) {\n      const newValue = { en: [], fr: [] };\n\n      const selectedIndex = keywordLists[language].includes(selectedValue)\n        ? keywordLists[language].indexOf(selectedValue)\n        : -1;\n\n      [\"en\", \"fr\"].forEach((l) => {\n        const keywordList = value[l];\n        if (selectedIndex >= 0) {\n          keywordList.push(keywordLists[l][selectedIndex]);\n        } else {\n          keywordList.push(selectedValue);\n        }\n        newValue[l] = cleanList(keywordList);\n      });\n\n      onChange({\n        target: {\n          name,\n          value: newValue,\n        },\n      });\n    }\n    setKeyword(\"\");\n  }\n\n  return (\n    <Grid container spacing={3} direction=\"column\">\n      <Grid container spacing={3} direction=\"row\">\n        <Grid item xs={6}>\n          <Autocomplete\n            disabled={disabled}\n            style={{ paddingLeft: \"10px\" }}\n            onChange={(e, keyword) => setKeyword(keyword)}\n            filterOptions={(options, params) => {\n              const filtered = createFilterOptions()(options, params);\n\n              if (params.inputValue !== \"\") {\n                filtered.push(params.inputValue);\n              }\n\n              return filtered;\n            }}\n            value={selectedKeyword}\n            selectOnFocus\n            clearOnBlur\n            freeSolo\n            handleHomeEndKeys\n            renderOption={(option) => option}\n            options={keywordLists[language]}\n            getOptionLabel={(option) => option}\n            fullWidth\n            renderInput={(params) => (\n              <TextField\n                // eslint-disable-next-line react/jsx-props-no-spreading\n                {...params}\n                label=\"keyword entry helper\"\n                variant=\"outlined\"\n              />\n            )}\n          />\n        </Grid>\n        <Grid item xs>\n          <Button\n            disabled={disabled || Boolean(!selectedKeyword)}\n            startIcon={<ArrowDownward />}\n            onClick={handleHelperChange}\n          >\n            <En>Add</En>\n            <Fr>Add</Fr>\n          </Button>\n        </Grid>\n      </Grid>\n      <Grid item xs>\n        <BilingualTextInput\n          name=\"keywords\"\n          value={{\n            en: value.en.join(\",\"),\n            fr: value.fr.join(\",\"),\n          }}\n          onChange={(e) => {\n            onChange({\n              target: {\n                name,\n                value: {\n                  en: e.target.value.en.split(\",\").filter((ele) => ele),\n                  fr: e.target.value.fr.split(\",\").filter((ele) => ele),\n                },\n              },\n            });\n          }}\n          onBlur={(e) => {\n            onChange({\n              target: {\n                name,\n                value: {\n                  en: cleanList(e.target.value.en.split(\",\")).filter(\n                    (ele) => ele\n                  ),\n                  fr: cleanList(e.target.value.fr.split(\",\")).filter(\n                    (ele) => ele\n                  ),\n                },\n              },\n            });\n          }}\n          disabled={disabled}\n        />\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default KeywordsInput;\n","const categoryList = [\n  \"farming\",\n  \"biota\",\n  \"boundaries\",\n  \"climatologyMeteorologyAtmosphere\",\n  \"economy\",\n  \"elevation\",\n  \"environment\",\n  \"geoscientificInformation\",\n  \"health\",\n  \"imageryBaseMapsEarthCover\",\n  \"intelligenceMilitary\",\n  \"inlandWaters\",\n  \"location\",\n  \"oceans\",\n  \"planningCadastre\",\n  \"society\",\n  \"structure\",\n  \"transportation\",\n  \"utilitiesCommunication\",\n  \"extraTerrestrial\",\n  \"disaster\",\n];\n\nexport default categoryList;\n","import React from \"react\";\nimport { Paper, TextField, Typography, Grid } from \"@material-ui/core\";\nimport { En, Fr } from \"../I18n\";\nimport { eovList, progressCodes } from \"../../isoCodeLists\";\n\nimport BilingualTextInput from \"./BilingualTextInput\";\nimport CheckBoxList from \"./CheckBoxList\";\nimport DateInput from \"./DateInput\";\nimport KeywordsInput from \"./KeywordsInput\";\nimport SelectInput from \"./SelectInput\";\nimport { camelToSentenceCase } from \"../../utils/misc\";\nimport categoryList from \"../../categoryList\";\nimport RequiredMark from \"./RequiredMark\";\n\nconst IdentificationTab = ({\n  disabled,\n  record,\n  handleInputChange,\n  paperClassValidate,\n}) => {\n  return (\n    <div>\n      <Paper style={paperClassValidate(\"identifier\")}>\n        <Typography>\n          <En>Dataset unique ID</En>\n          <Fr>Identifiant unique de ce jeu de données</Fr>\n          <RequiredMark />\n        </Typography>\n        <TextField\n          name=\"identifier\"\n          value={record.identifier}\n          onChange={(e) => handleInputChange(e)}\n          disabled\n          fullWidth\n        />\n      </Paper>\n\n      <Paper style={paperClassValidate(\"title\")}>\n        <Typography>\n          <En>What is the dataset title? Required in both languages</En>\n          <Fr>\n            Quel est le titre du jeu de données? Requis dans les deux langues\n          </Fr>\n          <RequiredMark />\n        </Typography>\n        <BilingualTextInput\n          name=\"title\"\n          value={record.title}\n          onChange={handleInputChange}\n          disabled={disabled}\n        />\n      </Paper>\n\n      <Paper style={paperClassValidate(\"abstract\")}>\n        <Typography>\n          <En>What is the dataset abstract? Required in both languages</En>\n          <Fr>\n            Quelle est la description de ce jeu de données? Requis dans les deux\n            langues\n          </Fr>\n          <RequiredMark />\n        </Typography>\n        <BilingualTextInput\n          name=\"abstract\"\n          value={record.abstract}\n          onChange={handleInputChange}\n          disabled={disabled}\n          multiline\n        />\n      </Paper>\n\n      <Paper style={paperClassValidate(\"eov\")}>\n        <Typography>\n          <En>\n            Please select all the essential ocean variables that are contained\n            in this dataset\n          </En>\n          <Fr>\n            Veuillez sélectionner toutes les variables océaniques essentielles\n            contenues dans cet ensemble de données\n          </Fr>\n          <RequiredMark />\n        </Typography>\n        <CheckBoxList\n          name=\"eov\"\n          value={record.eov || []}\n          onChange={handleInputChange}\n          options={eovList}\n          optionLabels={eovList.map(camelToSentenceCase)}\n          disabled={disabled}\n        />\n      </Paper>\n      <Paper style={paperClassValidate(\"keywords\")}>\n        <Grid container spacing={3} direction=\"column\">\n          <Grid item xs>\n            <Typography>\n              <En>\n                What are the keywords that describe the dataset? (use \",\" as\n                separator)\n              </En>\n              <Fr>\n                Quels sont les mots clefs qui décrivent votre jeu de données?\n                (utilisez \",\" comme séparateur)\n              </Fr>\n              <RequiredMark />\n            </Typography>\n          </Grid>\n          <Grid item xs>\n            <KeywordsInput\n              name=\"keywords\"\n              value={record.keywords}\n              onChange={handleInputChange}\n              disabled={disabled}\n            />\n          </Grid>\n        </Grid>\n      </Paper>\n      <Paper style={paperClassValidate(\"progress\")}>\n        <Typography>\n          <En>What is the status of this dataset?</En>\n          <Fr>Quel est l'état de ce jeu de données?</Fr>\n          <RequiredMark />\n        </Typography>\n        <SelectInput\n          name=\"progress\"\n          value={record.progress}\n          onChange={(e) => handleInputChange(e)}\n          options={progressCodes}\n          optionLabels={progressCodes.map(camelToSentenceCase)}\n          disabled={disabled}\n        />\n      </Paper>\n      <Paper style={paperClassValidate(\"category\")}>\n        <Typography>\n          <En>In which category does this dataset best fit in?</En>\n          <Fr>Quelle catégorie convient le mieux à ce dataset?</Fr>\n          <RequiredMark />\n        </Typography>\n        <SelectInput\n          name=\"category\"\n          value={record.category || \"\"}\n          onChange={(e) => handleInputChange(e)}\n          options={categoryList}\n          optionLabels={categoryList.map(camelToSentenceCase)}\n          disabled={disabled}\n        />\n      </Paper>\n\n      <Paper style={paperClassValidate(\"dateStart\")}>\n        <Typography>\n          <En>What is the start date when data was first collected?</En>\n          <Fr>\n            Quelle est la date de début à laquelle les données ont été\n            collectées pour la première fois?\n          </Fr>\n        </Typography>\n        <DateInput\n          name=\"dateStart\"\n          value={record.dateStart}\n          onChange={handleInputChange}\n          disabled={disabled}\n        />\n      </Paper>\n      <Paper style={paperClassValidate(\"datePublished\")}>\n        <Typography>\n          <En>What is the start date when data was published?</En>\n          <Fr>\n            Quelle est la date de début à laquelle les données ont été publiées\n            ?\n          </Fr>\n          <RequiredMark />\n        </Typography>\n        <DateInput\n          name=\"datePublished\"\n          value={record.datePublished}\n          onChange={handleInputChange}\n          disabled={disabled}\n        />\n      </Paper>\n\n      <Paper style={paperClassValidate(\"dateRevised\")}>\n        <Typography>\n          <En>What is the start date when data was revised?</En>\n          <Fr>Quelle est la date de début de la révision des données?</Fr>\n        </Typography>\n        <DateInput\n          name=\"dateRevised\"\n          value={record.dateRevised}\n          onChange={handleInputChange}\n          disabled={disabled}\n        />\n      </Paper>\n    </div>\n  );\n};\n\nexport default IdentificationTab;\n","import React from \"react\";\nimport { Paper, Typography } from \"@material-ui/core\";\nimport { En, Fr } from \"../I18n\";\n\nimport BilingualTextInput from \"./BilingualTextInput\";\nimport SelectInput from \"./SelectInput\";\nimport RequiredMark from \"./RequiredMark\";\n\nconst MetadataTab = ({\n  disabled,\n  record,\n  handleInputChange,\n  paperClassValidate,\n}) => (\n  <div>\n    <Paper style={paperClassValidate(\"language\")}>\n      <Typography>\n        <En>What is primary language of the dataset?</En>\n        <Fr>Quelle est la langue principale du jeu de données?</Fr>\n        <RequiredMark />\n      </Typography>\n      <SelectInput\n        name=\"language\"\n        value={record.language}\n        onChange={(e) => handleInputChange(e)}\n        options={[\"en\", \"fr\"]}\n        optionLabels={[\"English\", \"Français\"]}\n        disabled={disabled}\n      />\n    </Paper>\n\n    <Paper style={paperClassValidate(\"maintenance\")}>\n      <Typography>\n        <En>\n          Describe any information about the maintenance of the resource or\n          metadata.\n        </En>\n        <Fr>\n          Décrire toute information sur la maintenance de la ressource ou des\n          métadonnées\n        </Fr>\n        <RequiredMark />\n      </Typography>\n      <BilingualTextInput\n        name=\"maintenance\"\n        value={record.maintenance}\n        onChange={handleInputChange}\n        multiline\n        disabled={disabled}\n      />\n    </Paper>\n\n    <Paper style={paperClassValidate(\"namingAuthority\")}>\n      <Typography>\n        <En>What is the naming authority?</En>\n        <Fr>Qu'est-ce que l'autorité de désignation?</Fr>\n      </Typography>\n      <BilingualTextInput\n        name=\"namingAuthority\"\n        value={record.namingAuthority}\n        onChange={handleInputChange}\n        multiline\n        disabled={disabled}\n      />\n    </Paper>\n\n    <Paper style={paperClassValidate(\"limitations\")}>\n      <Typography>\n        <En>\n          What are the limitations affecting the fitness for use of the resource\n          or metadata?\n        </En>\n        <Fr>\n          Quelles sont les limites qui influent sur l'aptitude à l'utilisation\n          de la ressource ou des métadonnées?\n        </Fr>\n        <RequiredMark />\n      </Typography>\n      <BilingualTextInput\n        name=\"limitations\"\n        value={record.limitations}\n        onChange={handleInputChange}\n        multiline\n        disabled={disabled}\n      />\n    </Paper>\n    <Paper style={paperClassValidate(\"license\")}>\n      <Typography>\n        <En>How is the resource licensed?</En>\n        <Fr>Comment la ressource est-elle sous licence?</Fr>\n        <RequiredMark />\n      </Typography>\n      <SelectInput\n        name=\"license\"\n        value={record.license}\n        onChange={(e) => handleInputChange(e)}\n        optionLabels={[\n          \"Creative Commons Attribution 4.0\",\n          \"Creative Commons 0\",\n          \"Government Open License - Canada\",\n        ]}\n        options={[\"CC-BY-4.0\", \"CC0\", \"government-open-license-canada\"]}\n        disabled={disabled}\n      />\n    </Paper>\n\n    <Paper style={paperClassValidate(\"comment\")}>\n      <Typography>\n        <En>Are there any additional comments about this dataset?</En>\n        <Fr>\n          Y a-t-il des commentaires supplémentaires à propos de cet ensemble de\n          données?\n        </Fr>\n      </Typography>\n      <BilingualTextInput\n        name=\"comment\"\n        value={record.comment}\n        onChange={handleInputChange}\n        multiline\n        disabled={disabled}\n      />\n    </Paper>\n\n    <Paper style={paperClassValidate(\"history\")}>\n      <Typography>\n        <En>Describe the history of this dataset.</En>\n        <Fr>Décrivez l'historique de ce jeu de données.</Fr>\n      </Typography>\n      <BilingualTextInput\n        name=\"history\"\n        value={record.history}\n        onChange={handleInputChange}\n        multiline\n        disabled={disabled}\n      />\n    </Paper>\n  </div>\n);\n\nexport default MetadataTab;\n","import React from \"react\";\nimport { Add, Delete } from \"@material-ui/icons\";\nimport { TextField, Grid, Typography, Button, Paper } from \"@material-ui/core\";\nimport { En, Fr, I18n } from \"../I18n\";\nimport BilingualTextInput from \"./BilingualTextInput\";\nimport { deepCopy } from \"../../utils/misc\";\n\nconst initial = {\n  id: \"\",\n  manufacturer: \"\",\n  version: \"\",\n  type: { en: \"\", fr: \"\" },\n  description: { en: \"\", fr: \"\" },\n};\n\nconst Instruments = ({ onChange, value, name, disabled, paperClass }) => {\n  function addItem() {\n    onChange({\n      target: {\n        name,\n        value: value.concat(deepCopy(initial)),\n      },\n    });\n  }\n  function handleChange(e, i) {\n    const newValue = [...value];\n    const propName = e.target.name;\n    newValue[i][propName] = e.target.value;\n    const parentEvent = { target: { name, value: newValue } };\n    onChange(parentEvent);\n  }\n  function removeItem(i) {\n    onChange({\n      target: { name, value: value.filter((e, index) => index !== i) },\n    });\n  }\n\n  const manufacturerLabel = <I18n en=\"Manufacturer\" fr=\"Fabricant\" />;\n  const versionLabel = <I18n en=\"Version\" fr=\"Version\" />;\n  const typeLabel = <I18n en=\"Type\" fr=\"Type\" />;\n  const descriptionLabel = <I18n en=\"Description\" fr=\"Description\" />;\n\n  return (\n    <Grid container direction=\"column\">\n      {value.map((inst, i) => (\n        <Paper key={i} style={paperClass}>\n          <Grid container direction=\"column\" spacing={2}>\n            <Grid item xs>\n              <TextField\n                label=\"ID\"\n                name=\"id\"\n                value={inst.id}\n                onChange={(e) => handleChange(e, i)}\n                fullWidth\n                disabled={disabled}\n              />\n            </Grid>\n            <Grid item xs>\n              <TextField\n                label={manufacturerLabel}\n                name=\"manufacturer\"\n                value={inst.manufacturer}\n                onChange={(e) => handleChange(e, i)}\n                fullWidth\n                disabled={disabled}\n              />{\" \"}\n            </Grid>\n            <Grid item xs>\n              <TextField\n                label={versionLabel}\n                value={inst.version}\n                name=\"version\"\n                onChange={(e) => handleChange(e, i)}\n                fullWidth\n                disabled={disabled}\n              />\n            </Grid>\n            <Grid item xs>\n              <Typography>\n                <En>Instrument Type</En>\n                <Fr>Type d'instrument</Fr>\n              </Typography>\n              <BilingualTextInput\n                name=\"type\"\n                label={typeLabel}\n                value={inst.type}\n                onChange={(e) => handleChange(e, i)}\n                disabled={disabled}\n              />\n            </Grid>{\" \"}\n            <Grid item xs>\n              <Typography>Description</Typography>\n              <BilingualTextInput\n                name=\"description\"\n                label={descriptionLabel}\n                value={inst.description}\n                onChange={(e) => handleChange(e, i)}\n                disabled={disabled}\n              />\n            </Grid>\n            <Grid item xs>\n              <Button\n                startIcon={<Delete />}\n                disabled={disabled}\n                onClick={() => removeItem(i)}\n              >\n                <En>Remove item</En>\n                <Fr>Supprimer l'article</Fr>\n              </Button>\n            </Grid>\n          </Grid>\n        </Paper>\n      ))}\n      <Paper style={paperClass}>\n        <Button startIcon={<Add />} disabled={disabled} onClick={addItem}>\n          <En>Add item</En>\n          <Fr>Ajouter un article</Fr>\n        </Button>\n      </Paper>\n    </Grid>\n  );\n};\nexport default Instruments;\n","import React from \"react\";\n\nimport { Typography, Paper, TextField, Grid } from \"@material-ui/core\";\nimport Instruments from \"./Instruments\";\n\nimport BilingualTextInput from \"./BilingualTextInput\";\nimport SelectInput from \"./SelectInput\";\nimport { roleCodes } from \"../../isoCodeLists\";\n\nimport { En, Fr, I18n } from \"../I18n\";\nimport { camelToSentenceCase } from \"../../utils/misc\";\n\nconst PlatformTab = ({ disabled, record, handleInputChange, paperClass }) => (\n  <>\n    <Paper style={paperClass}>\n      <Grid container direction=\"column\" spacing={3}>\n        <Grid item xs>\n          <Typography>\n            <En>What is the name of the platform?</En>\n            <Fr>Quel est le nom de la plate-forme?</Fr>\n          </Typography>\n          <TextField\n            label={<I18n en=\"Name\" fr=\"Nom\" />}\n            name=\"platformName\"\n            value={record.platformName}\n            onChange={handleInputChange}\n            fullWidth\n            disabled={disabled}\n          />\n        </Grid>\n        <Grid item xs>\n          {\" \"}\n          <Typography>\n            <En>What is platform ID?</En>\n            <Fr>Qu'est-ce que l'ID de plateforme?</Fr>\n          </Typography>\n          <TextField\n            label={<I18n en=\"Platform ID\" fr=\"ID de plateforme\" />}\n            name=\"platformID\"\n            value={record.platformID}\n            onChange={handleInputChange}\n            fullWidth\n            disabled={disabled}\n          />\n        </Grid>\n\n        <Grid item xs>\n          {\" \"}\n          <Typography>\n            <En>What is the role of the platform?</En>\n            <Fr>Quel est le rôle de la plateforme?</Fr>\n          </Typography>\n          <SelectInput\n            name=\"platformRole\"\n            value={record.platformRole}\n            onChange={(e) => handleInputChange(e)}\n            options={roleCodes}\n            optionLabels={roleCodes.map(camelToSentenceCase)}\n            disabled={disabled}\n          />\n        </Grid>\n        <Grid item xs>\n          {\" \"}\n          <Typography>\n            <En>Describe the platform</En>\n            <Fr>Décrire la plateforme</Fr>\n          </Typography>\n          <BilingualTextInput\n            name=\"platformDescription\"\n            value={record.platformDescription}\n            onChange={handleInputChange}\n            multiline\n            disabled={disabled}\n          />\n        </Grid>\n        <Grid item xs>\n          {\" \"}\n          <Typography>\n            <En>What is the naming authority of the platform?</En>\n            <Fr>Quelle est l'autorité de dénomination de la plateforme ?</Fr>\n          </Typography>\n          <TextField\n            value={record.platformAuthority}\n            name=\"platformAuthority\"\n            onChange={(e) => handleInputChange(e)}\n            fullWidth\n            disabled={disabled}\n          />\n        </Grid>\n      </Grid>\n    </Paper>\n\n    <Grid item xs>\n      <Paper style={paperClass}>\n        <Typography variant=\"h5\">Instruments</Typography>\n        <Typography>\n          <En>Add instruments associated with this platform.</En>\n          <Fr>Ajoutez des instruments associés à cette plateforme.</Fr>\n        </Typography>\n      </Paper>\n      <Instruments\n        value={record.instruments || []}\n        onChange={handleInputChange}\n        name=\"instruments\"\n        disabled={disabled}\n        paperClass={paperClass}\n      />\n    </Grid>\n  </>\n);\n\nexport default PlatformTab;\n","/* eslint-disable no-case-declarations */\n/* eslint-disable no-underscore-dangle */\nimport React, { useState } from \"react\";\n\nimport { TextField, Grid } from \"@material-ui/core\";\nimport {\n  Map,\n  TileLayer,\n  FeatureGroup,\n  withLeaflet,\n  Polygon as LeafletPolygon,\n  Rectangle as LeafletRectangle,\n} from \"react-leaflet\";\nimport { EditControl } from \"react-leaflet-draw\";\nimport \"leaflet/dist/leaflet.css\";\nimport \"leaflet-draw/dist/leaflet.draw.css\";\nimport { I18n } from \"../I18n\";\n\nconst MapSelect = ({ onChange, value = {}, name, disabled }) => {\n  function onEditPath() {}\n  function onDeleted(e) {\n    const newVal = {\n      north: undefined,\n      south: undefined,\n      east: undefined,\n      west: undefined,\n      polygon: undefined,\n    };\n\n    const newValue = { ...newVal, [e.target.name]: e.target.value };\n    onChange({ target: { name, value: newValue } });\n  }\n\n  const [editableFG, setEditableFG] = useState(null);\n  const [, setLayerError] = useState(null);\n\n  const coordTest = /-?\\d+\\.\\d+/;\n  const polyTest = /-?\\d+\\.\\d+,\\s*-?\\d+\\.\\d+\\s*?/g;\n\n  function clearExtraLayers(drawnItems) {\n    // From https://stackoverflow.com/questions/61073568/delete-layer-before-creating-a-new-one-with-react-leaflet-draw-in-leaflet\n    // Only allow one box on the map at a time\n    // if the number of layers is bigger than 1 then delete the first\n    if (Object.keys(drawnItems).length > 1) {\n      Object.keys(drawnItems).forEach((layerid) => {\n        const existingLayers = Object.keys(editableFG.leafletElement._layers)\n          .length;\n\n        if (existingLayers === 1) return;\n\n        const layer = drawnItems[layerid];\n\n        editableFG.leafletElement.removeLayer(layer);\n      });\n    }\n  }\n\n  function handleChange(e) {\n    const drawnItems = editableFG.leafletElement._layers;\n    clearExtraLayers(drawnItems);\n\n    const newData = { ...value, [e.target.name]: e.target.value };\n    onChange({ target: { name, value: newData } });\n  }\n\n  function handleChangePoly(e) {\n    const drawnItems = editableFG.leafletElement._layers;\n    clearExtraLayers(drawnItems);\n\n    const newData = { value, [e.target.name]: e.target.value };\n    onChange({ target: { name, value: newData } });\n  }\n\n  function limitDecimals(x) {\n    return Number.parseFloat(x).toPrecision(4);\n  }\n\n  // function loadExistingExtent(e) {\n  //   if (value.polygon) {\n  //   }\n\n  //   if (value.north && value.south && value.east && value.west) {\n  //   }\n  // }\n\n  function parsePolyString(polygonList) {\n    let coordList = [...polygonList.matchAll(polyTest)].map((match) => {\n      return match[0];\n    });\n\n    try {\n      coordList = coordList.map((point) => {\n        return point.split(\",\").map(Number);\n      });\n    } catch (error) {\n      setLayerError({ error });\n    }\n\n    return coordList;\n  }\n\n  const hasBoundingBox = (\n    test_n = value.north,\n    test_s = value.south,\n    test_e = value.east,\n    test_w = value.west\n  ) => {\n    const test =\n      coordTest.test(test_n) &&\n      coordTest.test(test_s) &&\n      coordTest.test(test_e) &&\n      coordTest.test(test_w);\n\n    return test;\n  };\n\n  const hasPolygon = (test_string = value.polygon) => {\n    return polyTest.test(test_string);\n  };\n\n  const onCreated = (e) => {\n    // here you have all the stored layers\n    const drawnItems = editableFG.leafletElement._layers;\n\n    clearExtraLayers(drawnItems);\n\n    const newShape = drawnItems[Object.keys(drawnItems)[0]];\n\n    switch (e.layerType) {\n      case \"polygon\":\n        let polygon = \"\";\n        let polyList = \"\";\n        let endPoint = \"\";\n\n        newShape._latlngs[0].forEach((polyPoint, index) => {\n          const point = `${limitDecimals(polyPoint.lat)},${limitDecimals(\n            polyPoint.lng\n          )}`;\n\n          if (index === 0) {\n            endPoint = point;\n          }\n          polyList = polyList.concat(\" \", point);\n        });\n\n        polygon = polyList.concat(\" \", endPoint).trim();\n        onChange({ target: { name, value: { polygon } } });\n        break;\n\n      default: // Assume rectangle\n      case \"rectangle\":\n        const bounds = newShape._bounds;\n\n        let { lat: north, lng: east } = bounds._northEast;\n        let { lat: south, lng: west } = bounds._southWest;\n\n        north = limitDecimals(north);\n        south = limitDecimals(south);\n        east = limitDecimals(east);\n        west = limitDecimals(west);\n\n        const newValue = { north, south, east, west };\n        onChange({ target: { name, value: newValue } });\n    }\n  };\n\n  const onFeatureGroupReady = (reactFGref) => {\n    // store the featureGroup ref for future access to content\n    setEditableFG(reactFGref);\n  };\n\n  return (\n    <div>\n      <Map\n        style={{ width: \"100%\", height: \"55vh\" }}\n        center={[50, -100]}\n        zoom={3}\n        // whenReady={loadExistingExtent}\n      >\n        <TileLayer\n          attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n        <FeatureGroup\n          ref={(featureGroupRef) => {\n            onFeatureGroupReady(featureGroupRef);\n          }}\n        >\n          {disabled === false && (\n            <EditControl\n              position=\"topright\"\n              onEdited={onEditPath}\n              onCreated={onCreated}\n              onDeleted={onDeleted}\n              draw={{\n                marker: false,\n                circle: false,\n                polyline: false,\n                circlemarker: false,\n                polygon: true,\n              }}\n              edit={{\n                edit: false,\n              }}\n            />\n          )}\n\n          {hasPolygon() && (\n            <LeafletPolygon positions={parsePolyString(value.polygon)} />\n          )}\n\n          {hasBoundingBox() && (\n            <LeafletRectangle\n              bounds={[\n                [value.north, value.east],\n                [value.south, value.west],\n              ]}\n            />\n          )}\n        </FeatureGroup>\n      </Map>\n      <Grid container direction=\"row\" spacing={3}>\n        <Grid item xs={2}>\n          <TextField\n            name=\"north\"\n            label={<I18n en=\"North\" fr=\"Nord\" />}\n            value={value.north || \"\"}\n            inputProps={{ inputMode: \"numeric\", pattern: \"[0-9]*\" }}\n            onChange={handleChange}\n            type=\"number\"\n            disabled={disabled}\n          />\n        </Grid>\n        <Grid item xs={2}>\n          <TextField\n            name=\"south\"\n            label={<I18n en=\"South\" fr=\"Sud\" />}\n            value={value.south || \"\"}\n            onChange={handleChange}\n            type=\"number\"\n            disabled={disabled}\n          />\n        </Grid>\n        <Grid item xs={2}>\n          <TextField\n            name=\"east\"\n            label={<I18n en=\"East\" fr=\"Est\" />}\n            value={value.east || \"\"}\n            onChange={handleChange}\n            type=\"number\"\n            disabled={disabled}\n          />\n        </Grid>\n        <Grid item xs={2}>\n          <TextField\n            name=\"west\"\n            value={value.west || \"\"}\n            label={<I18n en=\"West\" fr=\"Ouest\" />}\n            onChange={handleChange}\n            type=\"number\"\n            disabled={disabled}\n          />\n        </Grid>\n      </Grid>\n\n      <TextField\n        name=\"polygon\"\n        label={<I18n en=\"Polygon\" fr=\"Polygone\" />}\n        value={value.polygon || \"\"}\n        onChange={handleChangePoly}\n        type=\"text\"\n        fullWidth\n        disabled={disabled}\n      />\n    </div>\n  );\n};\n\nexport default withLeaflet(MapSelect);\n","import { Paper, TextField, Typography, Grid } from \"@material-ui/core\";\nimport React from \"react\";\nimport { En, Fr } from \"../I18n\";\nimport RequiredMark from \"./RequiredMark\";\n\nimport MapSelect from \"./MapSelect\";\n\nconst SpatialTab = ({\n  disabled,\n  record,\n  handleInputChange,\n  paperClassValidate,\n  paperClass,\n}) => (\n  <Grid>\n    <Paper style={paperClassValidate(\"map\")}>\n      <Typography style={{ paddingBottom: \"15px\" }}>\n        <En>\n          Select or enter a bounding box for the dataset. Either bounding box or\n          Polygon is required.\n        </En>\n        <Fr>\n          Sélectionnez ou entrez une zone de délimitation pour l'ensemble de\n          données. Le cadre de sélection ou le polygone est requis..\n        </Fr>\n        <RequiredMark />\n      </Typography>\n\n      <MapSelect\n        value={record.map}\n        name=\"map\"\n        onChange={handleInputChange}\n        disabled={disabled}\n      />\n    </Paper>\n    <Paper style={paperClass}>\n      <Typography>\n        <En>Vertical extent (m)</En>\n        <Fr>Étendue verticale (m)</Fr>\n        <RequiredMark />\n      </Typography>\n      <div style={paperClassValidate(\"verticalExtentMin\")}>\n        <TextField\n          name=\"verticalExtentMin\"\n          value={record.verticalExtentMin}\n          onChange={handleInputChange}\n          label=\"Min\"\n          type=\"number\"\n          disabled={disabled}\n        />\n      </div>\n      <div style={paperClassValidate(\"verticalExtentMax\")}>\n        <TextField\n          name=\"verticalExtentMax\"\n          value={record.verticalExtentMax}\n          onChange={handleInputChange}\n          label=\"Max\"\n          type=\"number\"\n          disabled={disabled}\n        />\n      </div>\n    </Paper>\n  </Grid>\n);\n\nexport default SpatialTab;\n","/* eslint-disable react/jsx-props-no-spreading */\nimport {\n  Box,\n  CircularProgress,\n  Grid,\n  Tab,\n  Tabs,\n  Fab,\n  Checkbox,\n  FormControlLabel,\n} from \"@material-ui/core\";\nimport React, { Component } from \"react\";\nimport { Save } from \"@material-ui/icons\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { withRouter } from \"react-router-dom\";\nimport { I18n, En, Fr } from \"./I18n\";\n\nimport StartTab from \"./FormComponents/StartTab\";\nimport ContactTab from \"./FormComponents/ContactTab\";\nimport DistributionTab from \"./FormComponents/DistributionTab\";\nimport IdentificationTab from \"./FormComponents/IdentificationTab\";\nimport MetadataTab from \"./FormComponents/MetadataTab\";\nimport PlatformTab from \"./FormComponents/PlatformTab\";\nimport SpatialTab from \"./FormComponents/SpatialTab\";\nimport { auth } from \"../auth\";\nimport firebase from \"../firebase\";\nimport { firebaseToJSObject } from \"../utils/misc\";\nimport { validateField } from \"./validate\";\n\nconst paperClass = {\n  padding: \"10px\",\n  margin: \"20px\",\n};\nconst paperClassError = {\n  ...paperClass,\n  borderColor: \"red\",\n  borderStyle: \"dotted\",\n};\n\nfunction TabPanel({ children, value, index, ...other }) {\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box>{children}</Box>}\n    </div>\n  );\n}\nclass MetadataForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      record: {\n        title: { en: \"\", fr: \"\" },\n        abstract: { en: \"\", fr: \"\" },\n        identifier: uuidv4(),\n        keywords: { en: [], fr: [] },\n        eov: [],\n        progress: \"\",\n        distribution: [],\n        dateStart: null,\n        map: { north: \"\", south: \"\", east: \"\", west: \"\", polygon: \"\" },\n\n        verticalExtentMin: \"\",\n        verticalExtentMax: \"\",\n        datePublished: null,\n        dateRevised: null,\n        recordID: \"\",\n        instruments: [],\n        platformName: \"\",\n        platformID: \"\",\n        platformRole: \"\",\n        platformDescription: \"\",\n        platformAuthority: \"\",\n        language: \"\",\n        license: \"\",\n        contacts: [],\n        status: \"\",\n        comment: \"\",\n        history: \"\",\n        limitations: \"\",\n        maintenance: \"\",\n        created: new Date(),\n        category: \"\",\n      },\n\n      // contacts saved by user (not the ones saved in the record)\n      // kept in firebase object format instead of array\n      userContacts: {},\n\n      // UI state:\n      loading: false,\n      tabIndex: \"start\",\n\n      // whether the 'save' icon button is greyed out or not\n      saveDisabled: true,\n\n      highlightMissingRequireFields: false,\n    };\n  }\n\n  componentDidMount() {\n    const { match } = this.props;\n    this.setState({ loading: true });\n\n    this.unsubscribe = auth.onAuthStateChanged((user) => {\n      const { region, recordID } = match.params;\n\n      // either from the URL if its a record in review or from auth\n      const userID = match.params.userID || user.uid;\n\n      const userDataRef = firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(userID);\n\n      // get contacts\n      userDataRef.child(\"contacts\").on(\"value\", (contacts) => {\n        this.setState({ userContacts: contacts.toJSON() });\n      });\n\n      // if recordID is set then the user is editing an existing record\n      if (userID && recordID) {\n        userDataRef\n          .child(\"records\")\n          .child(recordID)\n          .on(\"value\", (recordFireBase) => {\n            const record = firebaseToJSObject(recordFireBase.toJSON());\n            this.setState({\n              record: { ...record, recordID },\n              loading: false,\n            });\n          });\n      } else this.setState({ loading: false });\n    });\n  }\n\n  componentWillUnmount() {\n    // fixes error Can't perform a React state update on an unmounted component\n    this.unsubscribe();\n  }\n\n  paperClassValidate = (fieldName) => {\n    const { record, highlightMissingRequireFields } = this.state;\n\n    if (!highlightMissingRequireFields) return paperClass;\n\n    return validateField(record, fieldName) ? paperClass : paperClassError;\n  };\n\n  // genereric handler for updating state, used by most form components\n  handleInputChange = (event) => {\n    const { name, value } = event.target;\n    const changes = { [name]: value };\n\n    this.setState(({ record }) => ({\n      record: { ...record, ...changes },\n      saveDisabled: false,\n    }));\n  };\n\n  async handleSubmitClick() {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    const recordsRef = firebase\n      .database()\n      .ref(region)\n      .child(\"users\")\n      .child(auth.currentUser.uid)\n      .child(\"records\");\n\n    // remove userContacts since they get saved elsewhere\n    const { record } = this.state;\n\n    if (record.recordID) {\n      await recordsRef.child(record.recordID).update(record);\n    } else {\n      const newNode = await recordsRef.push(record);\n\n      // cheesy workaround to the issue of push() not saving dates\n      await newNode.update(record);\n      const recordID = newNode.key;\n      this.setState({\n        record: { ...record, recordID },\n      });\n    }\n\n    this.setState({ saveDisabled: true });\n  }\n\n  render() {\n    const {\n      userContacts,\n      tabIndex,\n      record,\n      saveDisabled,\n      loading,\n      highlightMissingRequireFields,\n    } = this.state;\n\n    const disabled =\n      record.status === \"submitted\" || record.status === \"published\";\n\n    const tabProps = {\n      highlightMissingRequireFields,\n      disabled,\n      record,\n      handleInputChange: this.handleInputChange,\n      paperClassValidate: this.paperClassValidate,\n      paperClass,\n    };\n    return loading ? (\n      <CircularProgress />\n    ) : (\n      <Grid\n        container\n        direction=\"column\"\n        justify=\"space-between\"\n        alignItems=\"stretch\"\n        spacing={3}\n      >\n        <Fab\n          color=\"primary\"\n          aria-label=\"add\"\n          style={{\n            right: 20,\n            bottom: 20,\n            position: \"fixed\",\n          }}\n          disabled={\n            saveDisabled || !(record.title.en || record.title.fr) || disabled\n          }\n          onClick={() => this.handleSubmitClick()}\n        >\n          <Save />\n        </Fab>\n\n        <Grid container spacing={2} direction=\"row\" alignItems=\"center\">\n          {/* <Grid item xs>\n            {formCompleteness * 100}\n            {formIsComplete && \"FOrm is Complete\"}\n          </Grid> */}\n          <Grid item xs>\n            <Tabs\n              value={tabIndex}\n              onChange={(e, newValue) => this.setState({ tabIndex: newValue })}\n              aria-label=\"simple tabs example\"\n            >\n              <Tab label=\"Start\" value=\"start\" />\n              <Tab label=\"Identification\" value=\"identification\" />\n              <Tab\n                label={<I18n en=\"Metadata\" fr=\"Métadonnées\" />}\n                value=\"metadata\"\n              />\n              identification\n              <Tab label=\"Spatial\" value=\"spatial\" />\n              <Tab label=\"Contact\" value=\"contact\" />\n              <Tab label=\"Distribution\" value=\"distribution\" />\n              <Tab\n                label={<I18n en=\"Platform\" fr=\"Plateforme\" />}\n                value=\"platform\"\n              />\n            </Tabs>\n          </Grid>\n          <Grid item xs>\n            <FormControlLabel\n              disabled={disabled}\n              control={\n                <Checkbox\n                  checked={highlightMissingRequireFields}\n                  onChange={() => {\n                    this.setState({\n                      highlightMissingRequireFields: !highlightMissingRequireFields,\n                    });\n                  }}\n                />\n              }\n              label={\n                <>\n                  <En>\n                    Highlight missing or incomplete fields that are required.\n                  </En>\n                  <Fr>\n                    Mettez en surbrillance les champs manquants ou incomplets\n                    requis.\n                  </Fr>\n                </>\n              }\n            />\n          </Grid>\n        </Grid>\n        <TabPanel value={tabIndex} index=\"start\">\n          <StartTab {...tabProps} />\n        </TabPanel>\n        <TabPanel value={tabIndex} index=\"identification\">\n          <IdentificationTab {...tabProps} />\n        </TabPanel>\n        <TabPanel value={tabIndex} index=\"metadata\">\n          <MetadataTab {...tabProps} />\n        </TabPanel>\n        <TabPanel value={tabIndex} index=\"spatial\">\n          <SpatialTab {...tabProps} />\n        </TabPanel>\n        <TabPanel value={tabIndex} index=\"platform\">\n          <PlatformTab {...tabProps} />\n        </TabPanel>\n        <TabPanel value={tabIndex} index=\"distribution\">\n          <DistributionTab {...tabProps} />\n        </TabPanel>\n        <TabPanel value={tabIndex} index=\"contact\">\n          {/* userContacts are the ones the user has saved, not necessarily part of the record */}\n          <ContactTab userContacts={userContacts} {...tabProps} />\n        </TabPanel>\n      </Grid>\n    );\n  }\n}\n\nexport default withRouter(MetadataForm);\n","import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { Grid, Button } from \"@material-ui/core\";\nimport { Save } from \"@material-ui/icons\";\nimport firebase from \"../firebase\";\nimport { auth } from \"../auth\";\n\nimport { En, Fr } from \"./I18n\";\n\nimport Contact from \"./FormComponents/Contact\";\n\nclass EditContact extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      orgName: \"\",\n      orgEmail: \"\",\n      orgURL: \"\",\n      orgAdress: \"\",\n      orgCity: \"\",\n      orgCountry: \"\",\n      indName: \"\",\n      indPosition: \"\",\n      indEmail: \"\",\n    };\n  }\n\n  async componentDidMount() {\n    const { match } = this.props;\n\n    const { recordID, region } = match.params;\n\n    if (auth.currentUser && recordID) {\n      this.dbRef = firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(auth.currentUser.uid)\n        .child(\"contacts\")\n        .child(recordID);\n\n      this.setState({ recordID });\n\n      if (auth.currentUser) {\n        this.dbRef.on(\"value\", (record) =>\n          this.setState({ ...record.toJSON() })\n        );\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.dbRef) this.dbRef.off(\"value\");\n  }\n\n  deleteRecord() {\n    const { recordID } = this.state;\n\n    if (auth.currentUser) {\n      this.dbRef.remove(recordID);\n    }\n  }\n\n  handleChange(event) {\n    const { name, value } = event.target;\n\n    this.setState({ [name]: value });\n  }\n\n  handleCancelClick() {\n    const { match, history } = this.props;\n    const { language, region } = match.params;\n\n    history.push(`/${language}/${region}/contacts`);\n  }\n\n  async handleSubmitClick() {\n    const { history, match } = this.props;\n\n    const { region, language } = match.params;\n\n    if (this.dbRef) this.dbRef.off(\"value\");\n    const baseURL = `/${language}/${region}`;\n\n    const rootRef = firebase\n      .database()\n      .ref(region)\n      .child(\"users\")\n      .child(auth.currentUser.uid)\n      .child(\"contacts\");\n\n    const { recordID, ...updateValues } = this.state;\n    const record = { ...updateValues, created: new Date() };\n    if (recordID) {\n      await rootRef.child(recordID).update(record);\n    } else {\n      await rootRef.push(record);\n      history.push(`${baseURL}/contacts`);\n    }\n    history.push(`${baseURL}/contacts`);\n  }\n\n  // orgName, orgURL, orgAdress, orgCity, orgCountry\n  render() {\n    const { orgName, indName } = this.state;\n    const isFilledEnoughToSave = orgName || indName;\n    return (\n      <Grid container direction=\"column\" spacing={2}>\n        <Grid item xs>\n          <Contact value={this.state} onChange={(e) => this.handleChange(e)} />\n        </Grid>\n\n        <Grid item xs>\n          <Button\n            startIcon={<Save />}\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => this.handleSubmitClick()}\n            disabled={!isFilledEnoughToSave}\n          >\n            <En>Save</En>\n            <Fr>Enregistrer</Fr>\n          </Button>\n\n          <Button\n            style={{ marginLeft: \"10px\" }}\n            variant=\"contained\"\n            color=\"secondary\"\n            onClick={() => this.handleCancelClick()}\n          >\n            <En>Cancel</En>\n            <Fr>Annuler</Fr>\n          </Button>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nexport default withRouter(EditContact);\n","import React from \"react\";\nimport {\n  Typography,\n  List,\n  ListItem,\n  ListItemText,\n  Avatar,\n  ListItemAvatar,\n  Tooltip,\n  ListItemSecondaryAction,\n  IconButton,\n  Grid,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport { Delete, Publish, Description, Visibility } from \"@material-ui/icons\";\nimport firebase from \"../firebase\";\nimport { auth } from \"../auth\";\nimport { Fr, En, I18n } from \"./I18n\";\n\nimport SimpleModal from \"./SimpleModal\";\n\nconst MetadataRecordListItem = ({\n  record,\n  language,\n  onViewClick,\n  onDeleteClick,\n  onSubmitClick,\n  showPublishAction,\n}) => (\n  <ListItem key={record.key}>\n    <ListItemAvatar>\n      <Avatar>\n        <Description />\n      </Avatar>\n    </ListItemAvatar>\n    <ListItemText\n      primary={record.title[language]}\n      secondary={record.userinfo.displayName}\n    />\n    <ListItemSecondaryAction>\n      <Tooltip title={<I18n en=\"View\" fr=\"Vue\" />}>\n        <span>\n          <IconButton onClick={onViewClick} edge=\"end\" aria-label=\"delete\">\n            <Visibility />\n          </IconButton>\n        </span>\n      </Tooltip>\n\n      <Tooltip title={<I18n en=\"Delete\" fr=\"Supprimer\" />}>\n        <span>\n          <IconButton onClick={onDeleteClick} edge=\"end\" aria-label=\"delete\">\n            <Delete />\n          </IconButton>\n        </span>\n      </Tooltip>\n      {showPublishAction && (\n        <Tooltip title={<I18n en=\"Publish\" fr=\"Publier\" />}>\n          <span>\n            <IconButton onClick={onSubmitClick} edge=\"end\" aria-label=\"delete\">\n              <Publish />\n            </IconButton>\n          </span>\n        </Tooltip>\n      )}\n    </ListItemSecondaryAction>\n  </ListItem>\n);\nclass Submissions extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: {},\n      deleteModalOpen: false,\n      publishModalOpen: false,\n      modalKey: \"\",\n      modalUserID: \"\",\n      loading: false,\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({ loading: true });\n    const { match } = this.props;\n    const { region } = match.params;\n\n    this.unsubscribe = auth.onAuthStateChanged((user) => {\n      if (user) {\n        firebase\n          .database()\n          .ref(region)\n          .child(\"users\")\n          .on(\"value\", (users) =>\n            this.setState({ users: users.toJSON(), loading: false })\n          );\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.unsubscribe();\n  }\n\n  editRecord(key, userID) {\n    const { match, history } = this.props;\n    const { language, region } = match.params;\n    history.push(`/${language}/${region}/review/${userID}/${key}`);\n  }\n\n  async submitRecord(key, userID) {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    if (key && userID) {\n      this.setState({ loading: true });\n\n      await firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(userID)\n        .child(\"records\")\n        .child(key)\n        .child(\"status\")\n        .set(\"published\");\n      this.setState({ loading: false });\n    }\n  }\n\n  async deleteRecord(key, userID) {\n    const { match } = this.props;\n    const { region } = match.params;\n    if (key && userID) {\n      this.setState({ loading: true });\n\n      await firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        // this can be any user id\n        .child(userID)\n        .child(\"records\")\n        .child(key)\n        .remove();\n\n      this.setState({ loading: false });\n    }\n  }\n\n  toggleModal(modalName, state, key = \"\", userID) {\n    this.setState({ modalKey: key, [modalName]: state, modalUserID: userID });\n  }\n\n  render() {\n    const { users } = this.state;\n    // eslint-disable-next-line react/destructuring-assignment\n    const { match } = this.props;\n    const { language } = match.params;\n\n    const records = [];\n\n    Object.entries(users).forEach(([userID, user]) => {\n      if (user.records) {\n        Object.entries(user.records).forEach(([k, record]) => {\n          records.push({\n            ...record,\n            userinfo: { ...user.userinfo, userID },\n            key: k,\n          });\n        });\n      }\n    });\n\n    const recordsForReview = records.filter(\n      (record) => record.status === \"submitted\"\n    );\n    const recordsPublished = records.filter(\n      (record) => record.status === \"published\"\n    );\n    const {\n      deleteModalOpen,\n      modalKey,\n      modalUserID,\n      publishModalOpen,\n      loading,\n    } = this.state;\n\n    return (\n      <Grid container direction=\"column\" spacing={3}>\n        <SimpleModal\n          open={deleteModalOpen}\n          onClose={() => this.toggleModal(\"deleteModalOpen\", false)}\n          onAccept={() => this.deleteRecord(modalKey, modalUserID)}\n          aria-labelledby=\"simple-modal-title\"\n          aria-describedby=\"simple-modal-description\"\n        />\n        <SimpleModal\n          open={publishModalOpen}\n          onClose={() => this.toggleModal(\"publishModalOpen\", false)}\n          onAccept={() => this.submitRecord(modalKey, modalUserID)}\n          aria-labelledby=\"simple-modal-title\"\n          aria-describedby=\"simple-modal-description\"\n        />\n        <Grid item xs>\n          <Typography variant=\"h3\">\n            <En>Review submissions</En>\n            <Fr>Examen des soumissions</Fr>\n          </Typography>\n        </Grid>\n        {loading ? (\n          <CircularProgress />\n        ) : (\n          <>\n            {recordsForReview.length ? (\n              <>\n                <Grid item xs>\n                  <Typography>\n                    <En>\n                      These are the submissions we have received from all users\n                      that have not yet been reviewed. To accept a record, click\n                      the 'Publish' button.\n                    </En>\n                    <Fr>\n                      Ce sont les soumissions que nous avons reçues de tous les\n                      utilisateurs qui n'ont pas encore été examinées. Pour\n                      accepter un enregistrement, cliquez sur le bouton «\n                      Publier ».\n                    </Fr>\n                  </Typography>\n                </Grid>\n                <Grid item xs>\n                  <List>\n                    {recordsForReview.map((record) => {\n                      return (\n                        <MetadataRecordListItem\n                          record={record}\n                          key={record.key}\n                          language={language}\n                          onViewClick={() =>\n                            this.editRecord(record.key, record.userinfo.userID)\n                          }\n                          onDeleteClick={() =>\n                            this.toggleModal(\n                              \"deleteModalOpen\",\n                              true,\n                              record.key,\n                              record.userinfo.userID\n                            )\n                          }\n                          onSubmitClick={() =>\n                            this.toggleModal(\n                              \"publishModalOpen\",\n                              true,\n                              record.key,\n                              record.userinfo.userID\n                            )\n                          }\n                          showPublishAction={record.status !== \"published\"}\n                        />\n                      );\n                    })}\n                  </List>\n                </Grid>\n              </>\n            ) : (\n              <Grid item xs>\n                <Typography>\n                  <En>There are no records waiting to be reviewed.</En>\n                  <Fr>Aucun dossier n'attend d'être examiné.</Fr>\n                </Typography>\n              </Grid>\n            )}\n\n            {recordsPublished.length ? (\n              <Grid item xs>\n                <Typography>\n                  <En>Published records:</En>\n                  <Fr>Documents publiés:</Fr>\n                </Typography>\n                <List>\n                  {recordsPublished.map((record, i) => {\n                    return (\n                      <MetadataRecordListItem\n                        record={record}\n                        key={i}\n                        language={language}\n                        onViewClick={() =>\n                          this.editRecord(record.key, record.userinfo.userID)\n                        }\n                        onDeleteClick={() =>\n                          this.toggleModal(\n                            \"deleteModalOpen\",\n                            true,\n                            record.key,\n                            record.userinfo.userID\n                          )\n                        }\n                      />\n                    );\n                  })}\n                </List>\n              </Grid>\n            ) : (\n              <Grid item xs>\n                <Typography>\n                  <En>There are no published records.</En>\n                  <Fr>Il n'y a pas d'enregistrements publiés</Fr>\n                </Typography>\n              </Grid>\n            )}\n          </>\n        )}\n      </Grid>\n    );\n  }\n}\n\nexport default Submissions;\n","import React from \"react\";\nimport {\n  Typography,\n  Button,\n  CircularProgress,\n  TextField,\n  Grid,\n} from \"@material-ui/core\";\nimport { Save } from \"@material-ui/icons\";\n\nimport firebase from \"../firebase\";\nimport { auth } from \"../auth\";\nimport { Fr, En } from \"./I18n\";\n\nconst unique = (arr) => [...new Set(arr)];\n\nclass Admin extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // array of strings which are email addresses or reviewers, admins\n      admins: [],\n      reviewers: [],\n      loading: false,\n    };\n  }\n\n  async componentDidMount() {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    this.setState({ loading: true });\n\n    this.unsubscribe = auth.onAuthStateChanged((user) => {\n      if (user) {\n        firebase\n          .database()\n          .ref(region)\n          .child(`permissions`)\n          .on(\"value\", (permissionsFirebase) => {\n            const permissions = permissionsFirebase.toJSON();\n\n            const admins = Object.values(permissions.admins || {});\n            const reviewers = Object.values(permissions.reviewers || {});\n\n            this.setState({\n              admins,\n              reviewers,\n              loading: false,\n            });\n          });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.unsubscribe();\n  }\n\n  updatePermissions() {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    const { reviewers, admins } = this.state;\n    if (auth.currentUser) {\n      const dbRef = firebase.database().ref(region).child(\"permissions\");\n\n      dbRef.child(\"admins\").set(unique(admins));\n      dbRef.child(\"reviewers\").set(unique(reviewers));\n    }\n  }\n\n  render() {\n    const { loading, reviewers, admins } = this.state;\n    return (\n      <Grid container direction=\"column\" spacing={3}>\n        <Grid item xs>\n          <Typography variant=\"h3\">\n            <En>Admin</En>\n            <Fr>Admin</Fr>\n          </Typography>\n          <Typography>\n            <En>Add each admin or reviewer's email address on it's own line</En>\n            <Fr>\n              Ajouter l'adresse e-mail de chaque administrateur ou réviseur sur\n              sa propre ligne\n            </Fr>\n          </Typography>\n        </Grid>\n\n        {loading ? (\n          <CircularProgress />\n        ) : (\n          <>\n            <Grid item xs>\n              <Typography>\n                <En>Admins</En>\n                <Fr>Admins</Fr>\n              </Typography>\n            </Grid>\n            <Grid item xs>\n              <TextField\n                multiline\n                fullWidth\n                value={admins.join(\"\\n\")}\n                onChange={(e) =>\n                  this.setState({ admins: e.target.value.split(\"\\n\") })\n                }\n              />\n            </Grid>\n            <Grid item xs>\n              <Typography>\n                <En>Reviewers</En>\n                <Fr>Reviewers</Fr>\n              </Typography>\n            </Grid>\n            <Grid item xs>\n              <TextField\n                multiline\n                fullWidth\n                value={reviewers.join(\"\\n\")}\n                onChange={(e) =>\n                  this.setState({ reviewers: e.target.value.split(\"\\n\") })\n                }\n              />\n            </Grid>\n            <Grid item xs>\n              <Button\n                startIcon={<Save />}\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => this.updatePermissions()}\n              >\n                <En>Save</En>\n                <Fr>Enregistrer</Fr>\n              </Button>\n            </Grid>\n          </>\n        )}\n      </Grid>\n    );\n  }\n}\n\nexport default Admin;\n","import React from \"react\";\nimport { Typography } from \"@material-ui/core\";\n\nconst NotFound = () => {\n  return (\n    <div>\n      <Typography variant=\"h3\">Not Found / Non trouvé</Typography>\n    </div>\n  );\n};\n\nexport default NotFound;\n","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\n\nimport Home from \"./Home\";\nimport Success from \"./Success\";\nimport Submissions from \"./Submissions\";\nimport Contacts from \"./Contacts\";\nimport NavDrawer from \"./NavDrawer\";\nimport MetadataForm from \"./MetadataForm\";\nimport EditContact from \"./EditContact\";\nimport Reviewer from \"./Reviewer\";\nimport Admin from \"./Admin\";\nimport NotFound from \"./NotFound\";\nimport UserProvider from \"../providers/UserProvider\";\n\nconst BaseLayout = ({ match }) => {\n  return (\n    <UserProvider>\n      <NavDrawer>\n        <Switch>\n          <Route path={`${match.path}/`} exact component={Home} />\n          <Route\n            path={`${match.path}/new/:recordID`}\n            component={MetadataForm}\n          />\n          <Route path={`${match.path}/new`} component={MetadataForm} />\n          <Route\n            path={`${match.path}/review/:userID/:recordID`}\n            component={MetadataForm}\n          />\n          <Route\n            path={`${match.path}/contacts/new/:recordID`}\n            component={EditContact}\n          />\n          <Route path={`${match.path}/contacts/new`} component={EditContact} />\n          <Route path={`${match.path}/contacts`} component={Contacts} />\n          <Route path={`${match.path}/success`} component={Success} />\n          <Route path={`${match.path}/submissions`} component={Submissions} />\n          <Route path={`${match.path}/reviewer`} component={Reviewer} />\n          <Route path={`${match.path}/admin`} component={Admin} />\n          <Route path=\"*\" component={NotFound} />\n        </Switch>\n      </NavDrawer>\n    </UserProvider>\n  );\n};\n\nexport default BaseLayout;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { ButtonBase, Typography, Grid } from \"@material-ui/core\";\n\nimport { useParams, useHistory } from \"react-router-dom\";\nimport regions from \"../regions\";\n\nconst images = [\n  {\n    url: \"/metadata-entry-form/pacific.jpg\",\n    title: \"pacific\",\n    width: \"30%\",\n  },\n  {\n    url: \"/metadata-entry-form/stlaurent.jpg\",\n    title: \"stlaurent\",\n    width: \"30%\",\n  },\n  {\n    url: \"/metadata-entry-form/atlantic.jpg\",\n    title: \"atlantic\",\n    width: \"30%\",\n  },\n];\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    minWidth: 300,\n    width: \"100%\",\n  },\n  image: {\n    position: \"relative\",\n    height: 200,\n    [theme.breakpoints.down(\"xs\")]: {\n      width: \"100% !important\", // Overrides inline-style\n      height: 100,\n    },\n    \"&:hover, &$focusVisible\": {\n      zIndex: 1,\n      \"& $imageBackdrop\": {\n        opacity: 0.15,\n      },\n      \"& $imageMarked\": {\n        opacity: 0,\n      },\n      \"& $imageTitle\": {\n        border: \"4px solid currentColor\",\n      },\n    },\n  },\n  focusVisible: {},\n  imageButton: {\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    color: theme.palette.common.white,\n  },\n  imageSrc: {\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    backgroundSize: \"cover\",\n    backgroundPosition: \"center 40%\",\n  },\n  imageBackdrop: {\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    backgroundColor: theme.palette.common.black,\n    opacity: 0.4,\n    transition: theme.transitions.create(\"opacity\"),\n  },\n  imageTitle: {\n    position: \"relative\",\n    padding: `${theme.spacing(2)}px ${theme.spacing(4)}px ${\n      theme.spacing(1) + 6\n    }px`,\n  },\n  imageMarked: {\n    height: 3,\n    width: 18,\n    backgroundColor: theme.palette.common.white,\n    position: \"absolute\",\n    bottom: -2,\n    left: \"calc(50% - 9px)\",\n    transition: theme.transitions.create(\"opacity\"),\n  },\n}));\n\nexport default function ButtonBases() {\n  const classes = useStyles();\n  const { language } = useParams();\n\n  const history = useHistory();\n\n  function handleRegionClick(region) {\n    history.push(`/${language}/${region}`);\n  }\n\n  return (\n    <Grid container spacing={2}>\n      {images.map((image) => (\n        <Grid item xs key={image.title}>\n          <ButtonBase\n            focusRipple\n            className={classes.image}\n            onClick={() => handleRegionClick(image.title)}\n            focusVisibleClassName={classes.focusVisible}\n            style={{\n              width: \"100%\",\n            }}\n          >\n            <span\n              className={classes.imageSrc}\n              style={{\n                backgroundImage: `url(${image.url})`,\n              }}\n            />\n            <span className={classes.imageBackdrop} />\n            <span className={classes.imageButton}>\n              <Typography\n                component=\"span\"\n                variant=\"subtitle1\"\n                color=\"inherit\"\n                className={classes.imageTitle}\n              >\n                {regions[image.title][language]}\n                <span className={classes.imageMarked} />\n              </Typography>\n            </span>\n          </ButtonBase>\n        </Grid>\n      ))}\n    </Grid>\n  );\n}\n","import React from \"react\";\nimport {\n  Route,\n  HashRouter as Router,\n  Redirect,\n  Switch,\n} from \"react-router-dom\";\nimport NavDrawer from \"./NavDrawer\";\n\nimport BaseLayout from \"./BaseLayout\";\nimport RegionSelect from \"./RegionSelect\";\n\nconst languagePath = \":language(en|fr)\";\nconst regionPath = \":region(pacific|atlantic|stlaurent)\";\n\nconst App = () => (\n  <Router basename=\"/\">\n    <Switch>\n      <Route exact path=\"/\">\n        <Redirect to=\"/en/region-select\" />\n      </Route>\n      <Route\n        path={`/${languagePath}/region-select`}\n        exact\n        component={() => (\n          <NavDrawer>\n            <RegionSelect />\n          </NavDrawer>\n        )}\n      />\n      <Route path={`/${languagePath}/${regionPath}`} component={BaseLayout} />\n      <Route path=\"*\">\n        <Redirect to=\"/en/region-select\" />\n      </Route>\n    </Switch>\n  </Router>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}