{"version":3,"sources":["static/cioos-banner-fr-v2-1.png","static/cioos-banner-en-v2.png","regions.js","firebase.js","auth.js","components/I18n.jsx","providers/UserProvider.jsx","components/NavDrawer.jsx","components/FormComponents/StatusChip.jsx","utils/validate.js","utils/misc.js","components/FormComponents/LastEdited.jsx","components/FormComponents/SimpleModal.jsx","components/Pages/Submissions.jsx","components/FormComponents/ContactTitle.jsx","components/Pages/Contacts.jsx","components/Pages/Login.jsx","components/FormComponents/RequiredMark.jsx","components/FormComponents/QuestionStyles.jsx","components/Tabs/StartTab.jsx","components/FormComponents/CheckBoxList.jsx","isoCodeLists.js","utils/i18nDictionaryFr.js","utils/i18n.js","components/FormComponents/Contact.jsx","components/FormComponents/SelectInput.jsx","components/Tabs/ContactTab.jsx","components/FormComponents/BilingualTextInput.jsx","components/FormComponents/Distribution.jsx","components/Tabs/DistributionTab.jsx","components/FormComponents/DateInput.jsx","keywordList.js","components/FormComponents/KeywordsInput.jsx","components/Tabs/IdentificationTab.jsx","components/FormComponents/Instruments.jsx","components/FormComponents/Platform.jsx","components/Tabs/PlatformTab.jsx","components/FormComponents/MapSelect.jsx","components/Tabs/SpatialTab.jsx","components/Tabs/SubmitTab.jsx","components/Pages/MetadataForm.jsx","components/FormComponents/EditContact.jsx","components/Pages/Reviewer.jsx","components/Pages/Admin.jsx","components/Pages/NotFound.jsx","components/BaseLayout.jsx","components/Pages/RegionSelect.jsx","components/App.jsx","serviceWorker.js","index.jsx"],"names":["module","exports","regions","stlaurent","en","fr","atlantic","pacific","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","provider","auth","GoogleAuthProvider","setCustomParameters","promt","En","children","useParams","language","Fr","I18n","UserContext","createContext","user","authIsLoading","UserProvider","props","componentDidMount","region","match","params","setState","unsubscribe","onAuthStateChanged","userAuth","displayName","email","uid","Sentry","database","ref","child","update","on","permissionsFB","permissions","toJSON","admins","Object","values","reviewers","isAdmin","includes","isReviewer","loggedIn","state","this","translate","functions","httpsCallable","Provider","value","Component","withRouter","cioosLogo","cioosLogoEN","cioosLogoFR","useStyles","makeStyles","theme","root","display","flexGrow","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","menuButton","marginRight","languageSelector","borderColor","color","spacing","hide","flexShrink","whiteSpace","drawerOpen","drawerClose","overflowX","breakpoints","up","toolbar","alignItems","justifyContent","padding","mixins","content","MiniDrawer","history","useHistory","classes","useTheme","useContext","userIsReviewer","userIsAdmin","pathWithoutLang","useLocation","pathname","split","map","e","slice","join","baseURL","React","useState","Boolean","open","setOpen","translations","home","new","contacts","saved","review","admin","signIn","logout","regionText","className","CssBaseline","AppBar","position","clsx","Toolbar","style","backgroundColor","IconButton","aria-label","onClick","edge","Menu","src","alt","Typography","variant","noWrap","flex","Select","onChange","push","target","MenuItem","Drawer","paper","direction","ChevronRight","ChevronLeft","ListItem","key","ListItemIcon","Avatar","photoURL","ListItemText","primary","Divider","List","Tooltip","placement","title","disabled","button","signInWithPopup","then","AccountCircle","ListAlt","RateReview","SupervisorAccount","signOut","ExitToApp","StatusChip","status","chipText","Chip","label","submitted","published","validateLatitude","num","validateLongitude","polygonIsValid","polygon","obj1","obj2","coordinates","c","length","JSON","parse","stringify","filter","lat","lon","parseFloat","contactIsFilled","contact","role","orgName","indName","validators","validation","val","tab","error","abstract","keywords","eov","north","south","east","west","progress","distribution","Array","isArray","dist","name","url","verticalExtentMin","verticalExtentMax","verticalExtentDirection","platformID","record","noPlatform","platformDescription","instruments","instrument","id","license","find","validateField","fieldName","valueToValidate","validationFunction","percentValid","fields","keys","numTotal","field","camelToSentenceCase","text","result","replace","charAt","toUpperCase","deepCopy","obj","firebaseToJSObject","input","out","forEach","entries","LastEdited","timeAgo","dateStr","TimeAgo","addLocale","format","Date","rand","Math","round","random","getModalStyle","top","left","transform","palette","background","border","boxShadow","shadows","SimpleModal","onClose","onAccept","modalStyle","Modal","aria-labelledby","aria-describedby","type","Submissions","records","deleteModalOpen","submitModalOpen","withdrawModalOpen","modalKey","loading","currentUser","set","recordsRef","once","recordFirebase","recordID","identifier","uuidv4","created","toISOString","remove","modalName","toggleModal","deleteRecord","submitRecord","withdrawRecord","CircularProgress","marginTop","Button","startIcon","Add","sort","a","b","percentValidInt","recordIsComplete","submitTooltip","withdrawTooltip","recordTitleShortened","trim","toLowerCase","wafPath","editRecord","ListItemAvatar","Description","secondary","ListItemSecondaryAction","cloneRecord","FileCopy","Visibility","Edit","Delete","Publish","Eject","ContactTitle","getContactTitleFromNames","Contacts","modalOpen","Grid","container","item","xs","addItem","PermContactCalendar","Login","RequiredMark","passes","fontSize","bottom","SupplementalText","component","QuestionText","marginBottom","paperClass","margin","StartTab","Paper","Save","CheckBoxList","options","optionLabels","optionTooltips","v","i","FormControlLabel","control","Checkbox","checked","ele","arr","newCheckedValuesArray","concat","eovList","roleCodes","progressCodes","depthDirections","dictionary","oxygen","nutrients","nitrate","phosphate","silicate","inorganicCarbon","dissolvedOrganicCarbon","seaSurfaceHeight","seawaterDensity","potentialTemperature","potentialDensity","speedOfSound","seaIce","seaState","seaSurfaceSalinity","seaSurfaceTemperature","subSurfaceCurrents","subSurfaceSalinity","subSurfaceTemperature","surfaceCurrents","pressure","other","resourceProvider","custodian","owner","distributor","originator","pointOfContact","principalInvestigator","processor","publisher","author","sponsor","coAuthor","collaborator","editor","mediator","rightsHolder","contributor","funder","stakeholder","deprecated","proposed","withdrawn","notAccepted","accepted","valid","tentative","superseded","retired","pending","final","underDevelopment","required","planned","onGoing","obsolete","historicalArchive","completed","farming","biota","boundaries","climatologyMeteorologyAtmosphere","economy","elevation","environment","geoscientificInformation","health","imageryBaseMapsEarthCover","intelligenceMilitary","inlandWaters","location","oceans","planningCadastre","society","structure","transportation","utilitiesCommunication","extraTerrestrial","disaster","watershed","crustacean","sampling","crayfish","mariculture","fluorescence","spawning","hydrocarbon","incidents","macroalgae","marsh","meteorology","wetlands","enhancement","mollusc","seabirds","phytoplankton","fish","radiation","salinity","sediment","taxonomy","sustainabilty","waves","wind","depthPositive","heigthPositive","toLang","enToFr","Contact","showRolePicker","code","expanded","setExpanded","selectOptionIsInExpandedList","indexOf","Accordion","AccordionSummary","expandIcon","ExpandMore","aria-controls","AccordionDetails","marginleft","TextField","onBlur","fullWidth","orgURL","orgAdress","orgCity","orgCountry","orgEmail","indPosition","indEmail","formControl","minWidth","selectEmpty","SelectInput","FormControl","displayEmpty","InputLabel","enterDelay","ContactTab","handleInputChange","userContacts","initial","activeContact","setActiveContact","contactList","contactItem","fontWeight","changes","height","labelId","index","newValue","propName","BilingualTextInput","multiline","translationButonDisabled","awaitingTranslation","setAwaitingTranslation","handleEvent","newData","languages","lang","InputProps","startAdornment","InputAdornment","size","endIcon","alternateLanguage","fromLang","translatedText","translation","data","Distribution","description","handleChange","removeDistribution","nameLabel","descriptionLabel","handler","DistributionTab","formatDate","date","d","getDate","m","getMonth","y","getFullYear","DateInput","utils","DateFnsUtils","dateSelected","KeyboardButtonProps","keywordList","KeywordsInput","selectedKeyword","setKeyword","inputValue","setInputValue","selectedKeywordAltLang","setSelectedKeywordAltLang","reverse","altLanguage","cleanList","list","Autocomplete","onInputChange","event","newInputValue","keyword","freeSolo","renderOption","option","getOptionLabel","renderInput","userKeywordList","userKeywordListAlt","onDelete","deletedChipLang","IdentificationTab","dateStart","dateEnd","datePublished","dateRevised","datasetIdentifier","limitations","manufacturer","version","Instruments","manufacturerLabel","versionLabel","typeLabel","instrumentItem","Platform","PlatformTab","withLeaflet","onDeleted","editableFG","setEditableFG","setLayerError","coordTest","polyTest","clearExtraLayers","drawnItems","layerid","leafletElement","_layers","layer","removeLayer","limitDecimals","x","Number","toPrecision","L","EditToolbar","include","enable","featureGroup","clearLayers","bboxIsDrawn","fieldsAreEmpty","Map","center","zoom","TileLayer","attribution","FeatureGroup","featureGroupRef","onEdited","onCreated","layerType","polygonStrings","getLatLngs","lng","bounds","getBounds","getNorthEast","wrap","getSouthWest","draw","marker","circle","polyline","circlemarker","edit","test_string","test","hasPolygon","positions","polygonList","coordList","matchAll","point","parsePolyString","test_n","test_s","test_e","test_w","hasBoundingBox","inputProps","inputMode","pattern","SpatialTab","paddingBottom","justify","SubmitTab","isSubmitting","setSubmitting","validationErrors","reduce","acc","getErrorsByTab","LinearProgressWithLabel","Box","mr","LinearProgress","TabPanel","hidden","MetadataForm","saveDisabled","comment","category","tabIndex","highlightMissingRequireFields","userinfo","recordLoadedFromURL","userID","userDataRef","recordFireBase","newNode","context","tabProps","Fab","right","handleSubmitClick","Tabs","scrollButtons","Tab","tabRoot","textAlign","contextType","withStyles","EditContact","dbRef","off","rootRef","isFilledEnoughToSave","handleCancelClick","MetadataRecordListItem","onViewClick","onDeleteClick","onSubmitClick","showPublishAction","showUnPublishAction","onUnPublishClick","users","publishModalOpen","unPublishModalOpen","modalUserID","k","recordsForReview","recordsPublished","unique","Set","Admin","permissionsFirebase","updatePermissions","NotFound","createMuiTheme","MuiTextField","MuiSelect","MuiButton","Pages","path","exact","Reviewer","Error","BaseLayout","ThemeProvider","images","flexWrap","image","down","opacity","focusVisible","imageButton","common","white","imageSrc","backgroundSize","backgroundPosition","imageBackdrop","black","imageTitle","imageMarked","ButtonBases","ButtonBase","focusRipple","focusVisibleClassName","backgroundImage","App","basename","to","window","hostname","dsn","integrations","Integrations","BrowserTracing","tracesSampleRate","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console","message"],"mappings":"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","file":"static/js/main.50e74b4d.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAToAAAAlCAYAAADStSWmAAAACXBIWXMAAAhDAAAIQwGFAW1/AAAOWklEQVR4nO1dPWwrWRU+LwIkCrSeFR0SGD8aKoy8QhRIG6RQPzd+7ZrG6VBWQnJAQpuCwpGQMB1O5W0oHCGFBgnFEt4KITlSXoNE4WBYGiiSvIZ/adBov7P75ey9M3fG4yQ87idNYs/cOffcOzPfnHvOPddP0jSVR4CmiHRFZFdEnonISxEZY7t9DApGRET872LnATXfBZGtReRMRBr4/B6RXvb9CMciIiIiKuE+LbomyCsjsbaIXILgzmC1NbCvLyILnNMnoosWXkRERCVsm+jaIKtdkJUS28JR9gjlds3+7LwDbBIJLyIioizqJroGDTu7ILQFyG1dcN4axOgr1wTBRR9eREREKdTho2vDGrvEtgti0wDDuIDkBNZaERmuIe+b+PzOI/bhDUVkJiKp2c5FZCQirZxzs/NWNdeXbLEtVWT7ZM5wbBsYUj1Z/3ZQR4J9Papz5LgG13SOllnS955pS1Z+QMeuTV8tIcOez/eGqz9G6HuVMaFjHdRjdUmpjUtHnysmtH8JXVyyBnSO7b+Rp+7EsW9Y0G/1IbPoKmyNNE2naZqu049wm6bposJ2CQnZ/3Gapv00TXcDdOqjzhT/j6BX1TbVsQ3TuzhP03SEbeY41nLUucTxToA+gzRNr41MX32jku3bhuwWtc/K5P2rwPY3cR8UlRtB7gQ6TEi+XrMZlZ9g35D2Zdij79o3KmeA75n8hNrTMscE56SQIeb8c9p3bnRQ3Vb4vDJ67eG7mO+s9woybB/pNR2i/MSj+wx6Jzn9x/v52qeQZ+8zX7/V9mxWPVHJqQtSCtlcJNQ2BHkAAmXym4LEXDIaOJZCzvoBCe+cHlJ7c/LWobIuggglOn14rwvqG5DMc7pBH0K2lrUPhW4JPXDXATf7Lu6bvDIJZPnIeEmkpfor0fF1YMLokY4q1xJCQsRhj42ozp45P6U+DyW6FeqrSnRKvJaEXO2y3139JxWJzvZbbc9nlZPUklsEvk19Wx8N6oOYbh2WXBvHx6gvpbqPQLRtvNkXRJr3TXhKXOc1yAohOr2JliXefLNAHbclW+W6rAm7KYEWEWcI0elD3Ms5NqD/Ah1nIIUl9jFhzNBWJh37wAqRij2mLxAmnQG+z4jkQ4hOX0qjEkTH6NG1cfW31X1Clqiv/ySH6BhJQb/V9oyW9dFlvrS3EEk9c0RIQ9GH7y7zt00RUDjCxrjE8QPU9YTm3wn59v6A75nP7k0R+YyIfE9E/ioib9c+3r+LzCexJyJzEfnWlusS+GGyOm9E5LmIXAWe9xw67uX4wbYtO8NpgLwTEXkDemwTPbTxBPqzny6rex96c5sSlDvF1kK7Q9GDjFPU2zO+u338nwTKy/Q/hI6dgPLav0+w2evR8/jvVuSfO6ayvv7zYZ/q3vb1/RBliC4LBPxYRH5BkdQqRKckt2ummYwRwOgXnK8TjHU6ShM3yhH2vy8ir4vIp0TkkyLyoy0GK/QhuMLDfh9QB/ZxCSJS7OPmGnqCCNuU/VDQdrhIoAeiSkFWeyYYMEdf2KCBgIjOzT5GAlm2H5UUVxTMcRHsXgkCzXS8MHqWwZzacQoSujLX8Sn2M6EV9V8V+PptI4QSXRuW1UsiojUdCwWT3KXjnH7FKOotSDM790/m2A4IcBvQC35yT28ntR6u6K1aBle4kRNHZGubsgUPogS+9evEDdozpIj3BN9b9AC/jrJWP0v6PWMRHTrOSYgET83+nrFq5g5COw20fBn74UU/hgvUNyHL0PeymtO9EtJ/ZeDrt40RQnQ60fc1EBHPW1uUsOqKSE7lrWlycBV8yZzzL1h9m8j0QS9qrRclB/pAzCud/QGUcKyFs03ZQi+DwQaWR1UcEtmtTFuVxG5wHTvmpXVD1voNzuXrreSuxLDCFIkWyOcK592QtWPP33O8KPc9Vs2N0VlxgXZa3W05vQZ2ePoc10inzegLz8rQ9nZy+s/Wz58nZnqJ7nf1W30ocOI1EPnMnPtnjuPdAGew0FSQdkDZJso2Kzgdp9BT6/tnmqa/pzZUkenbNDp0XaNMKQhGqON5k4iUOoVX9yhbt56ZsjLacBpBSDAibnErtOjU6d/w+M4WcP7nIcSSY6wxTLaBiSKMKeVsCp2zN8ZvqA3TGt8R+nau982z/Tr1DWqHJtuUrThFkEEtmiG9yUclnOkREaWQR3RHGPKJY8iqyPa9QKDChXFJkuO6uyWHxVqe9TyjdDShLI6Ih4MGbp5gaDQHMQ4xZDqPhBdRN3xEp8RxCeLIc+b7oq9TStIvQ3KSM93EBU0z6zrIeE0ro3ThZ3ynZADFB7V8No0y3Xedam1Zn9A2ZftwiCk56tS/gr9q+QBBi4hXGC6iU6tnDMIrmu7hIrop5FQhOUXIdJM2Eaqvnikt/fQ27dsUNxSCvy+yq4OM1BF/YfZvU3YIjhHBO0HZTXN0LUaOPE7FgOaJ6VwxV47npvmxXNali80TXXmOLSHXp6PNZ11CZ5tfm1BurObQJtQHiqGZUzfEeZqbaqPGGj3lvOihyfdtkb62bOJoQ0ovQF+b7dzDieYjW6JrghD6iFIeBSTkX+I8HeYyyW26skjedBPV9aCATM+ILDPyfFdEvkL+x02gvqb7sj40IlpmgqqFPng2urpN2WWwD6Js1divIzxoakEmZg7cBET/lKbW6AP5lKaCKIFzsr5Q+ZZjcrEl6zxdEujxBMN77QOdiH1M00h6OTomNAUm84l2oPPcENge1an6J6Qn666fdZrO3PhbGQPUuY92tkiGEu2ELHhbdg+ydfrNnNqS1+YB1dXC9w/KU0RGI6x9pE+ViWZppFPzVOtMvdJ0L5+uofp1zblp4OIBeVuHoowhOaQhW1EK2GyD6GgLUc9rj77blF1mGwbqUTXXVVOjBkizWjrOc6Um6VYlPzZEF07v4txQny6+/TaFSr9rXZoON6O2a92cqqU5yUNK77sOSM+aeCLvel1Hnja7tnOTWpjXZtaZc8/vWHRjWmrpIGDIyjijqGcdlhxDrctvQPYXYMldlhiCnlFA4hafX1J0tiou8OZsGdN+m1CLY1hhmDnBG+7Y40fbpuz6l94Jg1opPJye07y2ToEFuqJhk6B8B9aHGKvuFFaKL32rSBehId0K++dUZuVZusnqaOvUTIM5WVGJY04g4xht4/bpROIii31O7ZjQtdcMjiHKnOSULYKrzRfQd4i2fdTPxIi3+H+JVUTyGLsBC2lM1lFqPuuKJGewyI5oCSbfaia+uv6c3sXvSloIDWofWwMprNBNrA+JSf2Fsocl+yd0BZdNkvqvaRUR18omPsthRBYIWxsTYzVpm/dK6GItuhVZKLq81JLkF1k3DL4W13QuW6Rs0emiAqrbudE/IdmuuaR7tABA6lj5pRNQ1vZx3nVZkeWZ0vX4mEUn8IfdevxXuzi+wNvlAGUP8IM2L2A56bi5S0EN9fM1yfd3Rs5EXolYo619yof9nNHlyyWniWiKGE+Dyb5/G4sU+KbHhIKT2lcFi0f2yPlaNUPgGJs6YfPqG5ATdx6Qk7sN2SfUP8uct3aLppecVAxqWGhmAgcF2Dd1VdIvWSU/VlGkiy07p7JX8GO9QdkUeVAfnS40wVk86is7LYiQqz9Q74ELyg65gfwTT9BojvNfN212ZWv4ylaBZofcSWP8BP7rcDObevFV2qfbmyCzBZGdokk/fLPAcHBN5BKCBk35aNL2FgIHLvRLkp0OX3mqjEZsp6iz6pD7BjeUOmpH5LDVh9U61+cUYawCnY4xDKzvmIZbRahbtvaPOuIn2E7pAe8RYZxsmLtp6z6hdKMLcoRrWtoM2yFI2DdpmvM71YG/8uTH9hzD/yJd7GrBezTUG9LQr2i4zbBD4yuSUZS6eOUg7WMKVBx6SGmG+g5puOsj1DJlQ3ABwrwLmH1dGnrqum8LWvAyb2gwpqHuUU1DQR6a5KFfcghsh6+6XXpS3KpuQ8cqvCmtqJvnrJ8VOGd9Q8Oq9d237MSxorBiFLiyMN8foUGzEdVjh+V2NeUBDbEYQ8fwW9euGxknvQ7z8lL5rC4jU5+utJzQkCylRU5dOnYgc2R0tKsZ26DRiOSmpn9mZrHUIfWXa3HWjrm+I0e/JAFlXXXntdnqoffZhz+OcwRr7ic0hAzFLVlDIT9yUwZNWmvO4n28cdoUDCmaszclq5PRoN+fqGPaScT9YJeW64qI8EJ9dDoHrizJ9el3WYX8e3WlWWUE9G/Pse/gBm/TMFlXPvFFUs88/rhb8ik2HccjHifKrJ4T8X8MtegWZBmVmVaiPzjNlpRaR5tkRbCc74vI30Bgmb/uLyLydY/F2IU+zzAxeOrwE946/HFdlH0NDtaIiIhXCEp0Gj0dl5hX1qYsCIs+RU2roEGRWF5HToeyRWTUNOlrY/o5xZ9hcc6f0jFd9eTXkegiIl49KNFlf76Ih34aOHz1+bsUa8oxLQsdDrusy7Jy2cr7pYh8TUQ+i2N/R7RLh9qb/A5GRETEI8UOPdjrEkPXBv1QtQ+hq49YTAtWBC7rl1G/XEbknyeSy/Bpmg9YVwAlIiLikWEHpPWCSOFZwPC1a4IQLkzp1/pD0Q9II6vqgM5I7Oc5xyPRRUS8otgxD/gtfuWriJxCp2H0S0zX6NLSUHkEGrKqsQ//Mfvfo8+NDYMnERERjxQ7sLr4AZ8WDF93QYwh1s+CfGp5CFlXTpHJ+2MFqy4jsu+KyA9E5Lci8itD6HUvRhAREfFI4CK6MxCPbz5Zv+TClUW+utB15RhVhq9TWIw/RMT1H4bYmhUDJxEREY8cduiq8E2sbVBuaCjyfsKwQVkNZWWWIboDEJkS7nqLP2odERHxyJBNL0kdc8d2aX4ZQ7MOykZT2yAnO1E3dGhrETqfjutmQm/Q6gtaZhynlkREvIIQkf8C5H6WfRtVlKMAAAAASUVORK5CYII=\"","const regions = {\n  stlaurent: { en: \"St Laurence\", fr: \"Saint-Laurent\" },\n  atlantic: { en: \"Atlantic\", fr: \"Atlantique\" },\n  pacific: { en: \"Pacific\", fr: \"Pacifique\" },\n};\n\nexport default regions;\n","import firebase from \"firebase/app\";\nimport \"firebase/database\";\nimport \"firebase/auth\";\nimport \"firebase/functions\";\nimport \"firebase/firestore\";\n\nconst config = {\n  apiKey: \"AIzaSyAdlELZS5Lbea5NquotMT8amwO-Lc_7ogc\",\n  authDomain: \"cioos-metadata-form.firebaseapp.com\",\n  databaseURL: \"https://cioos-metadata-form.firebaseio.com\",\n  projectId: \"cioos-metadata-form\",\n  storageBucket: \"cioos-metadata-form.appspot.com\",\n  messagingSenderId: \"646114203434\",\n  appId: \"1:646114203434:web:bccceadc5144270f98f053\",\n};\n\nfirebase.initializeApp(config);\n\nexport default firebase;\n","import firebase from \"./firebase\";\n\nconst provider = new firebase.auth.GoogleAuthProvider();\n\nprovider.setCustomParameters({ promt: \"select_account\" });\n\nexport const auth = firebase.auth();\n\nexport const signInWithGoogle = () => auth.signInWithPopup(provider);\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nexport const GetLanguage = () => {\n  const { language } = useParams();\n  return language;\n};\n\nexport const En = ({ children }) => {\n  const { language } = useParams();\n  return language === \"en\" && <>{children}</>;\n};\n\nexport const Fr = ({ children }) => {\n  const { language } = useParams();\n  return language === \"fr\" && <>{children}</>;\n};\n\n// Just returns text \"en\" or \"fr\"\nexport const I18n = ({ en, fr }) => {\n  const { language = \"en\" } = useParams();\n  return language === \"en\" ? en : fr;\n};\n\nexport const getValueinFirstLanguage = (obj) => {\n  // obj is,eg,  {en:\"sun\",fr:\"soleil\"}\n  // return field in first language found\n  return Object.values(obj).find(() => true);\n};\n","import React, { Component, createContext } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport * as Sentry from \"@sentry/react\";\nimport { auth } from \"../auth\";\nimport firebase from \"../firebase\";\n\nexport const UserContext = createContext({ user: null, authIsLoading: false });\n\nclass UserProvider extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: null,\n      authIsLoading: false,\n      admins: [],\n      reviewers: [],\n      isReviewer: false,\n      loggedIn: false,\n    };\n  }\n\n  componentWillUnmount() {\n    if (this.unsubscribe) this.unsubscribe();\n  }\n\n  componentDidMount = () => {\n    const { match } = this.props;\n\n    const { region } = match.params;\n    this.setState({ authIsLoading: true });\n    this.unsubscribe = auth.onAuthStateChanged((userAuth) => {\n      if (userAuth) {\n        const { displayName, email, uid } = userAuth;\n\n        Sentry.addBreadcrumb({ user: email });\n\n        firebase\n          .database()\n          .ref(region)\n          .child(`users`)\n          .child(uid)\n          .child(\"userinfo\")\n          .update({ displayName, email });\n\n        firebase\n          .database()\n          .ref(region)\n          .child(`permissions`)\n          .on(\"value\", (permissionsFB) => {\n            const permissions = permissionsFB.toJSON();\n\n            const admins =\n              permissions && Object.values(permissions.admins || {});\n            const reviewers =\n              permissions && Object.values(permissions.reviewers || {});\n\n            const isAdmin = admins && admins.includes(email);\n            const isReviewer = reviewers && reviewers.includes(email);\n\n            this.setState({\n              admins,\n              reviewers,\n              isAdmin,\n              isReviewer,\n              loggedIn: true,\n            });\n          });\n      } else {\n        this.setState({\n          loggedIn: false,\n          authIsLoading: false,\n        });\n      }\n      this.setState({ user: userAuth, authIsLoading: false });\n    });\n  };\n\n  render() {\n    const { children } = this.props;\n    const translate = firebase.functions().httpsCallable(\"translate\");\n\n    return (\n      <UserContext.Provider value={{ ...this.state, translate }}>\n        {children}\n      </UserContext.Provider>\n    );\n  }\n}\n\nexport default withRouter(UserProvider);\n","import React, { useContext } from \"react\";\n\nimport { useParams, useLocation, useHistory } from \"react-router-dom\";\n\nimport clsx from \"clsx\";\n\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport {\n  ExitToApp,\n  Contacts,\n  ListAlt,\n  AccountCircle,\n  ChevronLeft,\n  ChevronRight,\n  RateReview,\n  SupervisorAccount,\n  Menu,\n} from \"@material-ui/icons\";\n\nimport {\n  Drawer,\n  Avatar,\n  AppBar,\n  Toolbar,\n  CssBaseline,\n  Typography,\n  Divider,\n  IconButton,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Select,\n  Tooltip,\n  MenuItem,\n} from \"@material-ui/core\";\nimport regions from \"../regions\";\nimport { auth, signInWithGoogle } from \"../auth\";\n\nimport { En, Fr, I18n } from \"./I18n\";\nimport cioosLogoFR from \"../static/cioos-banner-fr-v2-1.png\";\nimport cioosLogoEN from \"../static/cioos-banner-en-v2.png\";\n\nimport { UserContext } from \"../providers/UserProvider\";\n\nconst cioosLogo = { en: cioosLogoEN, fr: cioosLogoFR };\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexGrow: 1,\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  languageSelector: {\n    \"&:before\": {\n      borderColor: \"white\",\n    },\n    \"&:hover:not(.Mui-disabled):before\": {\n      borderColor: \"white\",\n    },\n    color: \"white\",\n    borderColor: \"white\",\n    marginRight: theme.spacing(2),\n  },\n  hide: {\n    display: \"none\",\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    whiteSpace: \"nowrap\",\n  },\n  drawerOpen: {\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerClose: {\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    overflowX: \"hidden\",\n    width: theme.spacing(7) + 1,\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(9) + 1,\n    },\n  },\n  toolbar: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n}));\n\nexport default function MiniDrawer({ children }) {\n  const history = useHistory();\n\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const {\n    user,\n    isReviewer: userIsReviewer,\n    isAdmin: userIsAdmin,\n    authIsLoading,\n  } = useContext(UserContext);\n\n  let { language = \"en\", region = \"region-select\" } = useParams();\n\n  if (![\"en\", \"fr\"].includes(language)) language = \"en\";\n  if (![\"pacific\", \"atlantic\", \"stlaurent\"].includes(region)) region = \"\";\n\n  const { pathname } = useLocation();\n\n  const pathWithoutLang = pathname\n    .split(\"/\")\n    .map((e) => e)\n    .slice(2)\n    .join(\"/\");\n\n  const baseURL = `/${language}/${region}`;\n\n  // if region not set, keep drawer closed\n  const [open, setOpen] = React.useState(Boolean(region));\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const translations = {\n    home: <I18n en=\"Home\" fr=\"Accueil\" />,\n    new: <I18n en=\"Metadata Editor\" fr=\"Éditeur de méta-données\" />,\n    contacts: <I18n en=\"Contacts\" fr=\"Contacts\" />,\n    saved: <I18n en=\"My Records\" fr=\"Enregistrements\" />,\n    review: <I18n en=\"Review submissions\" fr=\"Examen des soumissions\" />,\n    admin: <I18n en=\"Admin\" fr=\"Admin\" />,\n    signIn: <I18n en=\"Sign in\" fr=\"Se Connecter\" />,\n    logout: <I18n en=\"Logout\" fr=\"Déconnexion\" />,\n  };\n\n  const regionText = region ? regions[region][language] : \"\";\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar\n        position=\"fixed\"\n        className={clsx(classes.appBar, {\n          [classes.appBarShift]: open,\n        })}\n      >\n        <Toolbar style={{ backgroundColor: \"#52a79b\" }}>\n          <IconButton\n            color=\"primary\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerOpen}\n            edge=\"start\"\n            className={clsx(classes.menuButton, {\n              [classes.hide]: open,\n            })}\n          >\n            <Menu />\n          </IconButton>\n\n          <img src={cioosLogo[language]} alt=\"CIOOS/SIOOC\" />\n          <Typography\n            variant=\"h5\"\n            noWrap\n            style={{ marginLeft: \"10px\", flex: 1 }}\n          >\n            <En>{regionText} Metadata Entry Tool</En>\n            <Fr>Outil de saisie de métadonnées {regionText}</Fr>\n          </Typography>\n\n          <Select\n            color=\"primary\"\n            className={classes.languageSelector}\n            value={language}\n            onChange={(e) =>\n              history.push(`/${e.target.value}/${pathWithoutLang}`)\n            }\n          >\n            <MenuItem value=\"en\">EN</MenuItem>\n            <MenuItem value=\"fr\">FR</MenuItem>\n          </Select>\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        variant=\"permanent\"\n        className={clsx(classes.drawer, {\n          [classes.drawerOpen]: open,\n          [classes.drawerClose]: !open,\n        })}\n        classes={{\n          paper: clsx({\n            [classes.drawerOpen]: open,\n            [classes.drawerClose]: !open,\n          }),\n        }}\n      >\n        <div className={classes.toolbar}>\n          <IconButton onClick={handleDrawerClose}>\n            {theme.direction === \"rtl\" ? <ChevronRight /> : <ChevronLeft />}\n          </IconButton>\n        </div>\n\n        {user && (\n          <ListItem key=\"userInfo\">\n            <ListItemIcon>\n              <Avatar src={user.photoURL} />\n            </ListItemIcon>\n            <ListItemText primary={user.displayName} />\n          </ListItem>\n        )}\n        <Divider />\n        <List>\n          {!user && region && (\n            <Tooltip\n              placement=\"right-start\"\n              title={open ? \"\" : translations.signIn}\n            >\n              <ListItem\n                disabled={authIsLoading}\n                button\n                key=\"Sign in\"\n                onClick={() =>\n                  signInWithGoogle().then(() =>\n                    history.push(`${baseURL}/submissions`)\n                  )\n                }\n              >\n                <ListItemIcon>\n                  <AccountCircle />\n                </ListItemIcon>\n                <ListItemText primary={translations.signIn} />\n              </ListItem>\n            </Tooltip>\n          )}\n          {user && region && (\n            <>\n              <Tooltip\n                placement=\"right-start\"\n                title={open ? \"\" : translations.saved}\n              >\n                <ListItem\n                  button\n                  key=\"My Records\"\n                  onClick={() => history.push(`${baseURL}/submissions`)}\n                >\n                  <ListItemIcon>\n                    <ListAlt />\n                  </ListItemIcon>\n                  <ListItemText primary={translations.saved} />\n                </ListItem>\n              </Tooltip>\n              {region && (\n                <>\n                  <Tooltip\n                    placement=\"right-start\"\n                    title={open ? \"\" : translations.contacts}\n                  >\n                    <ListItem\n                      button\n                      key=\"Contacts\"\n                      onClick={() => history.push(`${baseURL}/contacts`)}\n                    >\n                      <ListItemIcon disabled>\n                        <Contacts />\n                      </ListItemIcon>\n                      <ListItemText primary={translations.contacts} />\n                    </ListItem>\n                  </Tooltip>\n\n                  {userIsReviewer && (\n                    <Tooltip\n                      placement=\"right-start\"\n                      title={open ? \"\" : translations.review}\n                    >\n                      <ListItem\n                        button\n                        key=\"Review\"\n                        onClick={() => history.push(`${baseURL}/reviewer`)}\n                      >\n                        <ListItemIcon>\n                          <RateReview />\n                        </ListItemIcon>\n                        <ListItemText primary={translations.review} />\n                      </ListItem>\n                    </Tooltip>\n                  )}\n                  {userIsAdmin && (\n                    <Tooltip\n                      placement=\"right-start\"\n                      title={open ? \"\" : translations.admin}\n                    >\n                      <ListItem\n                        button\n                        key=\"Admin\"\n                        onClick={() => history.push(`${baseURL}/admin`)}\n                      >\n                        <ListItemIcon>\n                          <SupervisorAccount />\n                        </ListItemIcon>\n                        <ListItemText primary={translations.admin} />\n                      </ListItem>\n                    </Tooltip>\n                  )}\n                </>\n              )}\n            </>\n          )}\n          {user && (\n            <Tooltip\n              placement=\"right-start\"\n              title={open ? \"\" : translations.logout}\n            >\n              <ListItem\n                button\n                key=\"Logout\"\n                onClick={() => auth.signOut().then(() => history.push(baseURL))}\n              >\n                <ListItemIcon>\n                  <ExitToApp />\n                </ListItemIcon>\n                <ListItemText primary={translations.logout} />\n              </ListItem>\n            </Tooltip>\n          )}\n        </List>\n        <Divider />\n      </Drawer>\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n        {children}\n      </main>\n    </div>\n  );\n}\n","import React from \"react\";\n\nimport { Chip } from \"@material-ui/core\";\nimport { I18n } from \"../I18n\";\n\nconst StatusChip = ({ status }) => {\n  const statusColors = {\n    submitted: \"primary\",\n    published: \"secondary\",\n  };\n\n  let chipText = \"\";\n\n  if (status === \"submitted\") chipText = <I18n en=\"Submitted\" fr=\"Soumis\" />;\n  else if (status === \"published\")\n    chipText = <I18n en=\"Published\" fr=\"Publié\" />;\n  else chipText = <I18n en=\"Draft\" fr=\"Brouillon\" />;\n\n  return (\n    <Chip\n      label={chipText}\n      color={statusColors[status] || \"default\"}\n      variant=\"outlined\"\n    />\n  );\n};\n\nexport default StatusChip;\n","const validateLatitude = (num) => num >= -90 && num <= 90;\n\nconst deepCompare = (obj1, obj2) =>\n  JSON.parse(JSON.stringify(obj1) === JSON.stringify(obj2));\n\nconst validateLongitude = (num) => num >= -180 && num <= 180;\n\nconst polygonIsValid = (polygon) => {\n  // eg 48,-128 56,-133 56,-147 48,-128\n  const coordinates = polygon.split(\" \").map((c) => c.split(\",\"));\n  if (coordinates.length < 2) return false;\n  if (!deepCompare(coordinates[0], coordinates[coordinates.length - 1]))\n    return false;\n\n  return (\n    coordinates.filter(\n      ([lat, lon]) =>\n        validateLongitude(parseFloat(lon)) && validateLatitude(parseFloat(lat))\n    ).length === coordinates.length\n  );\n};\n\nconst contactIsFilled = (contact) =>\n  Boolean(\n    contact.role && contact.role.length && (contact.orgName || contact.indName)\n  );\n\n// required fields and  a function to validate each\nconst validators = {\n  title: {\n    validation: (val) => val && val.en && val.fr,\n    tab: \"identification\",\n    error: {\n      en: \"Missing title in one or both languages\",\n      fr: \"Titre manquant dans une ou les deux langues\",\n    },\n  },\n  abstract: {\n    validation: (val) => val && val.en && val.fr,\n    tab: \"identification\",\n    error: {\n      en: \"Missing abstract in one or both languages\",\n      fr: \"Abstrait manquant dans une ou les deux langues\",\n    },\n  },\n  keywords: {\n    validation: (val) => val && (val.en.length || val.fr.length),\n    tab: \"identification\",\n    error: {\n      en: \"At least one keyword is required\",\n      fr: \"Au moins un mot clé est requis\",\n    },\n  },\n  eov: {\n    validation: (val) => val && val.length,\n    tab: \"identification\",\n    error: {\n      en: \"At least one EOV is required\",\n      fr: \"Au moins un EOV est requis\",\n    },\n  },\n  map: {\n    error: {\n      en: \"Spatial information is missing\",\n      fr: \"L'information spatiale est manquante\",\n    },\n    tab: \"spatial\",\n    validation: (val) => {\n      if (!val) return false;\n      const north = parseFloat(val.north);\n      const south = parseFloat(val.south);\n      const east = parseFloat(val.east);\n      const west = parseFloat(val.west);\n      const { polygon } = val;\n\n      return (\n        (north &&\n          south &&\n          east &&\n          west &&\n          north >= south &&\n          east >= west &&\n          validateLatitude(north) &&\n          validateLatitude(south) &&\n          validateLongitude(east) &&\n          validateLongitude(west)) ||\n        (polygon && polygonIsValid(polygon))\n      );\n    },\n  },\n  progress: {\n    tab: \"identification\",\n    validation: (val) => val,\n    error: {\n      en: \"Please select a dataset status\",\n      fr: \"L'information spatiale est manquante\",\n    },\n  },\n  distribution: {\n    tab: \"distribution\",\n    validation: (val) =>\n      Array.isArray(val) && val.filter((dist) => dist.name && dist.url).length,\n    error: {\n      en: \"Must have at least one resource\",\n      fr: \"Doit avoir au moins une ressource\",\n    },\n  },\n  verticalExtentMin: {\n    tab: \"spatial\",\n\n    validation: (val) => val,\n    error: {\n      en: \"Missing Vertical Extent Min\",\n      fr: \"Étendue verticale manquante Min\",\n    },\n  },\n  verticalExtentMax: {\n    tab: \"spatial\",\n    validation: (val) => val,\n    error: {\n      en: \"Missing Vertical Extent Max\",\n      fr: \"Étendue verticale manquante Max\",\n    },\n  },\n  verticalExtentDirection: {\n    tab: \"spatial\",\n    validation: (val) => val,\n    error: {\n      en: \"Missing Vertical Extent Direction\",\n      fr: \"Direction de l'étendue verticale manquante\",\n    },\n  },\n  platformID: {\n    tab: \"platform\",\n    validation: (val, record) => record.noPlatform || val,\n    error: {\n      en: \"Missing platform ID\",\n      fr: \"ID de plate-forme manquant\",\n    },\n  },\n  platformDescription: {\n    tab: \"platform\",\n    validation: (val, record) => record.noPlatform || val,\n    error: {\n      en: \"Missing platform description\",\n      fr: \"Description de la plate-forme manquante\",\n    },\n  },\n  instruments: {\n    tab: \"instruments\",\n    validation: (val, record) =>\n      record.noPlatform ||\n      (val && val.filter((instrument) => instrument.id).length),\n    error: {\n      en: \"At least one instrument is required if there is a platform\",\n      fr: \"Au moins un instrument est requis s'il y a une plate-forme\",\n    },\n  },\n  language: {\n    tab: \"identification\",\n    validation: (val) => val,\n    error: {\n      en: \"Language field is missing\",\n      fr: \"Le champ de langue est manquant\",\n    },\n  },\n  license: {\n    tab: \"identification\",\n    validation: (val) => val,\n    error: {\n      en: \"Please select a license for the dataset\",\n      fr: \"Veuillez sélectionner une licence pour le jeu de données\",\n    },\n  },\n  // at least one contact has to have a role and a org or individual name\n  contacts: {\n    tab: \"contacts\",\n    validation: (val) =>\n      val &&\n      val\n        .filter(contactIsFilled)\n        .find((contact) => contact.role.includes(\"custodian\")) &&\n      val\n        .filter(contactIsFilled)\n        .find((contact) => contact.role.includes(\"owner\")),\n    error: {\n      en: \"Missing contact roles 'Data contact' or 'Metadata contact'\",\n      fr:\n        \"Rôles de contact manquants 'Contact données' ou 'Contact de métadonnées'\",\n    },\n  },\n};\nexport const validateField = (record, fieldName) => {\n  const valueToValidate = record[fieldName];\n  // if no validator funciton exists, then it is not a required field\n  const validationFunction =\n    (validators[fieldName] && validators[fieldName].validation) || (() => true);\n\n  return validationFunction && validationFunction(valueToValidate, record);\n};\n\nexport const getErrorsByTab = (record) => {\n  const fields = Object.keys(validators);\n  const invalidFields = fields.filter((field) => !validateField(record, field));\n  const fieldErrorInfo = invalidFields.map((field) => {\n    const { error, tab } = validators[field];\n    return { error, tab };\n  });\n\n  return fieldErrorInfo.reduce((acc, { error, tab }) => {\n    if (!acc[tab]) acc[tab] = [];\n    acc[tab].push(error);\n    return acc;\n  }, {});\n};\n\nexport const percentValid = (record) => {\n  const fields = Object.keys(validators);\n  const numTotal = fields.length;\n  const validFields = fields.filter((field) => validateField(record, field));\n\n  const numValid = validFields.length;\n\n  return numValid / numTotal;\n};\nexport const recordIsValid = (record) => {\n  return percentValid(record) === 1;\n};\n","export function camelToSentenceCase(text = \"\") {\n  if (!text) return \"\";\n  const result = text.replace(/([A-Z])/g, \" $1\");\n  return result.charAt(0).toUpperCase() + result.slice(1);\n}\nexport function deepCopy(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\nexport function firebaseToJSObject(input) {\n  if (!input) return null;\n  const out = deepCopy(input);\n  Object.keys(out).forEach((key) => {\n    if (typeof out[key] === \"object\" && Object.keys(out[key])[0] === \"0\") {\n      out[key] = Object.entries(out[key]).map(([, v]) => v);\n    }\n\n    //  special case\n    if (input.keywords)\n      out.keywords = {\n        en: Object.values(input.keywords.en || {}),\n        fr: Object.values(input.keywords.fr || {}),\n      };\n  });\n  if (out.contacts) {\n    Object.values(out.contacts).forEach((contact) => {\n      if (contact.role) {\n        // eslint-disable-next-line no-param-reassign\n        contact.role = Object.values(contact.role);\n      }\n    });\n  }\n\n  return out;\n}\n","import React from \"react\";\nimport TimeAgo from \"javascript-time-ago\";\n\nimport en from \"javascript-time-ago/locale/en\";\nimport fr from \"javascript-time-ago/locale/fr\";\n\nimport { Fr, En, GetLanguage } from \"../I18n\";\n\nconst LastEdited = ({ dateStr }) => {\n  let timeAgo;\n  const language = GetLanguage();\n  if (language === \"en\") {\n    TimeAgo.addLocale(en);\n    timeAgo = new TimeAgo(\"en-US\");\n  } else {\n    TimeAgo.addLocale(fr);\n    timeAgo = new TimeAgo(\"fr-FR\");\n  }\n\n  return (\n    <span>\n      <En>Last edited</En>\n      <Fr>Dernière édition</Fr> {timeAgo.format(new Date(dateStr))}\n      {\". \"}\n    </span>\n  );\n};\n\nexport default LastEdited;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Modal from \"@material-ui/core/Modal\";\nimport { En, Fr } from \"../I18n\";\n\nfunction rand() {\n  return Math.round(Math.random() * 20) - 10;\n}\n\nfunction getModalStyle() {\n  const top = 50 + rand();\n  const left = 50 + rand();\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: \"absolute\",\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nexport default function SimpleModal({ open, onClose, onAccept }) {\n  const classes = useStyles();\n  // getModalStyle is not a pure function, we roll the style only on the first render\n  const [modalStyle] = React.useState(getModalStyle);\n\n  return (\n    <div>\n      <Modal\n        open={open}\n        onClose={onClose}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\"\n      >\n        <div style={modalStyle} className={classes.paper}>\n          <h2 id=\"simple-modal-title\">\n            <En>Are you sure?</En>\n            <Fr>Vous êtes sûr ?</Fr>\n          </h2>\n          <button\n            type=\"button\"\n            onClick={() => {\n              onClose();\n              onAccept();\n            }}\n          >\n            <En>Yes</En>\n            <Fr>Oui</Fr>\n          </button>\n          <button type=\"button\" onClick={onClose}>\n            <En>No</En>\n            <Fr>Non</Fr>\n          </button>\n        </div>\n      </Modal>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport {\n  Typography,\n  List,\n  ListItem,\n  ListItemText,\n  Avatar,\n  ListItemAvatar,\n  Tooltip,\n  ListItemSecondaryAction,\n  IconButton,\n  CircularProgress,\n  Button,\n} from \"@material-ui/core\";\n\nimport {\n  Delete,\n  Edit,\n  Publish,\n  Description,\n  FileCopy,\n  Visibility,\n  Add,\n  Eject,\n  CloudDownload,\n  Code,\n} from \"@material-ui/icons\";\nimport StatusChip from \"../FormComponents/StatusChip\";\n\nimport firebase from \"../../firebase\";\nimport { auth } from \"../../auth\";\nimport { percentValid } from \"../../utils/validate\";\n\nimport { Fr, En, I18n } from \"../I18n\";\nimport { firebaseToJSObject } from \"../../utils/misc\";\nimport LastEdited from \"../FormComponents/LastEdited\";\nimport SimpleModal from \"../FormComponents/SimpleModal\";\n\nconst WAF_URL = \"https://pac-dev1.cioos.org/dev/metadata\";\nfunction openInNewTab(url) {\n  const newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\");\n  if (newWindow) newWindow.opener = null;\n}\nclass Submissions extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      records: {},\n      deleteModalOpen: false,\n      submitModalOpen: false,\n      withdrawModalOpen: false,\n      modalKey: \"\",\n      loading: false,\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({ loading: true });\n    const { match } = this.props;\n    const { region } = match.params;\n\n    this.unsubscribe = auth.onAuthStateChanged((user) => {\n      if (user) {\n        firebase\n          .database()\n          .ref(region)\n          .child(\"users\")\n          .child(user.uid)\n          .child(\"records\")\n          .on(\"value\", (records) =>\n            this.setState({ records: records.toJSON(), loading: false })\n          );\n      } else {\n        this.setState({ loading: false });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.unsubscribe) this.unsubscribe();\n  }\n\n  editRecord(key) {\n    const { match, history } = this.props;\n    const { language, region } = match.params;\n\n    history.push(`/${language}/${region}/new/${key}`);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  submitRecord(key) {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    if (auth.currentUser && key) {\n      firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(auth.currentUser.uid)\n        .child(\"records\")\n        .child(key)\n        .child(\"status\")\n        .set(\"submitted\");\n    }\n  }\n\n  // Make record a draft again\n  // eslint-disable-next-line class-methods-use-this\n  withdrawRecord(key) {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    if (auth.currentUser && key) {\n      firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(auth.currentUser.uid)\n        .child(\"records\")\n        .child(key)\n        .child(\"status\")\n        .set(\"\");\n    }\n  }\n\n  cloneRecord(key) {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    if (auth.currentUser) {\n      const recordsRef = firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(auth.currentUser.uid)\n        .child(\"records\");\n\n      recordsRef.child(key).once(\"value\", (recordFirebase) => {\n        const record = recordFirebase.toJSON();\n\n        // reset record details\n        record.recordID = \"\";\n        record.status = \"\";\n        if (record.title.en) record.title.en = `${record.title.en} (Copy)`;\n        if (record.title.fr) record.title.fr = `${record.title.fr} (Copte)`;\n        record.identifier = uuidv4();\n        record.created = new Date().toISOString();\n\n        recordsRef.push(record);\n      });\n    }\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  deleteRecord(key) {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    if (auth.currentUser) {\n      firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(auth.currentUser.uid)\n        .child(\"records\")\n        .child(key)\n        .remove();\n    }\n  }\n\n  toggleModal(modalName, state, key = \"\") {\n    this.setState({ modalKey: key, [modalName]: state });\n  }\n\n  render() {\n    const { match, history } = this.props;\n\n    const { language, region } = match.params;\n\n    const {\n      deleteModalOpen,\n      withdrawModalOpen,\n      modalKey,\n      submitModalOpen,\n      records,\n      loading,\n    } = this.state;\n\n    const recordDateSort = (a, b) =>\n      new Date(b[1].created) - new Date(a[1].created);\n\n    return (\n      <div>\n        <SimpleModal\n          open={deleteModalOpen}\n          onClose={() => this.toggleModal(\"deleteModalOpen\", false)}\n          onAccept={() => this.deleteRecord(modalKey)}\n          aria-labelledby=\"simple-modal-title\"\n          aria-describedby=\"simple-modal-description\"\n        />\n        <SimpleModal\n          open={submitModalOpen}\n          onClose={() => this.toggleModal(\"submitModalOpen\", false)}\n          onAccept={() => this.submitRecord(modalKey)}\n          aria-labelledby=\"simple-modal-title\"\n          aria-describedby=\"simple-modal-description\"\n        />\n        <SimpleModal\n          open={withdrawModalOpen}\n          onClose={() => this.toggleModal(\"withdrawModalOpen\", false)}\n          onAccept={() => this.withdrawRecord(modalKey)}\n          aria-labelledby=\"simple-modal-title\"\n          aria-describedby=\"simple-modal-description\"\n        />\n\n        <Typography variant=\"h5\">\n          <En>My Records</En>\n          <Fr>Mes dossiers</Fr>\n        </Typography>\n\n        {loading ? (\n          <CircularProgress />\n        ) : (\n          <span>\n            <div>\n              <Typography>\n                <En>\n                  These are the records you have submitted. To submit a record\n                  for review, click the \"Submit for review\" button. The record\n                  won't be published until the reviewer approves it. You cannot\n                  submit a record until all the required fields are filled out.\n                </En>\n                <Fr>\n                  Ce sont les documents que vous avez soumis. Pour soumettre un\n                  enregistrement pour examen, cliquez sur le bouton « Soumettre\n                  pour révision ». L'enregistrement ne sera pas publié tant que\n                  le réviseur ne l'aura pas approuvé. Vous ne pouvez pas\n                  soumettre un enregistrement tant que tous les champs requis ne\n                  sont pas remplis.\n                </Fr>\n              </Typography>\n\n              <div style={{ marginTop: \"10px\" }}>\n                <Button\n                  startIcon={<Add />}\n                  onClick={() => history.push(`/${language}/${region}/new`)}\n                >\n                  <I18n en=\"New Record\" fr=\"Nouveau Record\" />\n                </Button>\n              </div>\n\n              <List>\n                {Object.entries(records || {})\n                  .sort(recordDateSort)\n                  .map(([key, recordFireBase]) => {\n                    const record = firebaseToJSObject(recordFireBase);\n                    const { status, title, created } = record;\n                    // const createdLocalTime = created\n                    //   ? new Date(created).toString()\n                    //   : null;\n\n                    if (!title || (!title.en && !title.fr)) return null;\n\n                    const disabled =\n                      status === \"submitted\" || status === \"published\";\n                    const percentValidInt = Math.round(\n                      percentValid(record) * 100\n                    );\n                    const recordIsComplete = percentValidInt === 100;\n                    let submitTooltip = {\n                      en: \"Submit for review\",\n                      fr: \"Soumettre pour examen\",\n                    };\n                    const withdrawTooltip = {\n                      en: \"Return record to draft for editing\",\n                      fr:\n                        \"Retourner l'enregistrement au brouillon pour modification\",\n                    };\n\n                    if (!recordIsComplete)\n                      submitTooltip = {\n                        en: \"Can't submit incomplete record\",\n                        fr:\n                          \"Impossible de soumettre un enregistrement incomplet\",\n                      };\n                    else if (status === \"submitted\" || status === \"published\")\n                      submitTooltip = {\n                        en: \"Record has been submitted\",\n                        fr: \"L'enregistrement a été soumis\",\n                      };\n                    const recordTitleShortened = `${record.title[\n                      language\n                    ].slice(0, 30)}_${record.identifier.slice(0, 5)}`\n                      .trim()\n                      .toLowerCase()\n                      .replace(/[^a-zA-Z0-9]/g, \"_\");\n\n                    let wafPath = `${WAF_URL}/${region}`;\n                    if (status !== \"published\") wafPath += \"/unpublished\";\n                    const recordURLXML = `${wafPath}/${recordTitleShortened}.xml`;\n                    const recordURLERDDAP = `${wafPath}/${recordTitleShortened}_erddap.txt`;\n\n                    return (\n                      <ListItem\n                        key={key}\n                        button\n                        onClick={() => this.editRecord(key)}\n                      >\n                        <ListItemAvatar>\n                          <Avatar>\n                            <Description />\n                          </Avatar>\n                        </ListItemAvatar>\n                        <ListItemText\n                          primary={\n                            <div style={{ width: \"60%\" }}>\n                              {title[language]} <StatusChip status={status} />\n                            </div>\n                          }\n                          secondary={\n                            created && (\n                              <span>\n                                <LastEdited dateStr={created} />\n                                <En>{percentValidInt}% complete</En>\n                                <Fr>{percentValidInt}% Achevée</Fr>\n                              </span>\n                            )\n                          }\n                        />\n                        <ListItemSecondaryAction>\n                          <Tooltip title={<I18n en=\"Clone\" fr=\"Clone\" />}>\n                            <span>\n                              <IconButton\n                                onClick={() => this.cloneRecord(key)}\n                                edge=\"end\"\n                                aria-label=\"clone\"\n                              >\n                                <FileCopy />\n                              </IconButton>\n                            </span>\n                          </Tooltip>\n                          {disabled ? (\n                            <Tooltip title={<I18n en=\"View\" fr=\"Vue\" />}>\n                              <span>\n                                <IconButton\n                                  onClick={() => this.editRecord(key)}\n                                  edge=\"end\"\n                                  aria-label=\"delete\"\n                                >\n                                  <Visibility />\n                                </IconButton>\n                              </span>\n                            </Tooltip>\n                          ) : (\n                            <Tooltip title={<I18n en=\"Edit\" fr=\"Éditer\" />}>\n                              <span>\n                                <IconButton\n                                  onClick={() => this.editRecord(key)}\n                                  edge=\"end\"\n                                  aria-label=\"delete\"\n                                >\n                                  <Edit />\n                                </IconButton>\n                              </span>\n                            </Tooltip>\n                          )}\n                          <Tooltip title={<I18n en=\"Delete\" fr=\"Supprimer\" />}>\n                            <span>\n                              <IconButton\n                                // disabled={disabled}\n                                onClick={() =>\n                                  this.toggleModal(\"deleteModalOpen\", true, key)\n                                }\n                                edge=\"end\"\n                                aria-label=\"delete\"\n                              >\n                                <Delete />\n                              </IconButton>\n                            </span>\n                          </Tooltip>\n                          <Tooltip\n                            title={\n                              <I18n\n                                en={submitTooltip.en}\n                                fr={submitTooltip.fr}\n                              />\n                            }\n                          >\n                            <span>\n                              <IconButton\n                                disabled={disabled || !recordIsComplete}\n                                onClick={() =>\n                                  this.toggleModal(\"submitModalOpen\", true, key)\n                                }\n                                edge=\"end\"\n                                aria-label=\"delete\"\n                              >\n                                <Publish />\n                              </IconButton>\n                            </span>\n                          </Tooltip>\n                          <Tooltip\n                            title={\n                              <I18n\n                                en={withdrawTooltip.en}\n                                fr={withdrawTooltip.fr}\n                              />\n                            }\n                          >\n                            <span>\n                              <IconButton\n                                disabled={!status}\n                                onClick={() =>\n                                  this.toggleModal(\n                                    \"withdrawModalOpen\",\n                                    true,\n                                    key\n                                  )\n                                }\n                                edge=\"end\"\n                                aria-label=\"delete\"\n                              >\n                                <Eject />\n                              </IconButton>\n                            </span>\n                          </Tooltip>\n                          {/* <Tooltip\n                            title={\n                              <I18n en=\"Download XML\" fr=\"Télécharger XML\" />\n                            }\n                          >\n                            <span>\n                              <IconButton\n                                disabled={!status}\n                                onClick={() => openInNewTab(recordURLXML)}\n                                edge=\"end\"\n                                aria-label=\"delete\"\n                              >\n                                <CloudDownload />\n                              </IconButton>\n                            </span>\n                          </Tooltip>\n                          <Tooltip\n                            title={\n                              <I18n\n                                en=\"Download ERDDAP snippet\"\n                                fr={\"Télécharger l'extrait ERDDAP\"}\n                              />\n                            }\n                          >\n                            <span>\n                              <IconButton\n                                disabled={!status}\n                                onClick={() => openInNewTab(recordURLERDDAP)}\n                                edge=\"end\"\n                                aria-label=\"delete\"\n                              >\n                                <Code />\n                              </IconButton>\n                            </span>\n                          </Tooltip> */}\n                        </ListItemSecondaryAction>\n                      </ListItem>\n                    );\n                  })}\n              </List>\n            </div>\n\n            {!records && (\n              <Typography>\n                <En>You don't have any records.</En>\n                <Fr>Vous n'avez pas d'enregistrements.</Fr>\n              </Typography>\n            )}\n          </span>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Submissions;\n","import React from \"react\";\n\nimport { I18n } from \"../I18n\";\n\nfunction getContactTitleFromNames(contact) {\n  const { orgName, indName } = contact;\n  const titleParts = [orgName, indName];\n\n  return titleParts\n    .filter((e) => e)\n    .map((e) => e.trim())\n    .filter((e) => e)\n    .join(\" - \");\n}\n\nfunction ContactTitle({ contact }) {\n  return (\n    getContactTitleFromNames(contact) || (\n      <I18n en=\"new contact\" fr=\"nouveau contact\" />\n    )\n  );\n}\n\nexport default ContactTitle;\n","import React from \"react\";\nimport {\n  Typography,\n  IconButton,\n  Button,\n  List,\n  ListItem,\n  ListItemText,\n  Avatar,\n  Grid,\n  ListItemSecondaryAction,\n  ListItemAvatar,\n  CircularProgress,\n  Tooltip,\n} from \"@material-ui/core\";\nimport { Add, Edit, Delete, PermContactCalendar } from \"@material-ui/icons\";\nimport firebase from \"../../firebase\";\nimport { auth } from \"../../auth\";\nimport ContactTitle from \"../FormComponents/ContactTitle\";\nimport { I18n, En, Fr } from \"../I18n\";\nimport SimpleModal from \"../FormComponents/SimpleModal\";\n\nclass Contacts extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      contacts: {},\n      modalOpen: false,\n      modalKey: \"\",\n      loading: false,\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({ loading: true });\n\n    const { match } = this.props;\n    const { region } = match.params;\n\n    this.unsubscribe = auth.onAuthStateChanged((user) => {\n      if (user) {\n        firebase\n          .database()\n          .ref(region)\n          .child(\"users\")\n          .child(user.uid)\n          .child(\"contacts\")\n          .on(\"value\", (records) =>\n            this.setState({ contacts: records.toJSON(), loading: false })\n          );\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.unsubscribe) this.unsubscribe();\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  deleteRecord(key) {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    if (auth.currentUser) {\n      firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(auth.currentUser.uid)\n        .child(\"contacts\")\n        .child(key)\n        .remove();\n    }\n  }\n\n  addItem() {\n    const { history, match } = this.props;\n    const { language, region } = match.params;\n    // render different page with 'save' button?\n    history.push(`/${language}/${region}/contacts/new`);\n  }\n\n  editRecord(key) {\n    const { history, match } = this.props;\n    const { language, region } = match.params;\n\n    // render different page with 'save' button?\n    history.push(`/${language}/${region}/contacts/new/${key}`);\n  }\n\n  toggleModal(state, key = \"\") {\n    this.setState({ modalKey: key, modalOpen: state });\n  }\n\n  render() {\n    const { modalOpen, modalKey, loading, contacts } = this.state;\n    return (\n      <Grid container direction=\"column\" spacing={3}>\n        <Grid item xs>\n          <SimpleModal\n            open={modalOpen}\n            onClose={() => this.toggleModal(false)}\n            onAccept={() => this.deleteRecord(modalKey)}\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\"\n          />\n\n          <Typography variant=\"h5\">\n            <En>Contacts</En>\n            <Fr>Contacts</Fr>\n          </Typography>\n        </Grid>\n        <Grid item xs>\n          <Typography>\n            <En>\n              Create contacts here that you can reuse in multiple metadata\n              records.\n            </En>\n            <Fr>\n              Créez ici des contacts que vous pouvez réutiliser dans plusieurs\n              enregistrements de métadonnées\n            </Fr>\n          </Typography>\n        </Grid>\n\n        <Grid item xs>\n          <Button startIcon={<Add />} onClick={() => this.addItem()}>\n            <En>Add contact</En>\n            <Fr>ajouter un contact</Fr>\n          </Button>\n        </Grid>\n\n        {loading ? (\n          <CircularProgress />\n        ) : (\n          <>\n            <Grid item xs>\n              {contacts && Object.keys(contacts).length ? (\n                <div>\n                  <Typography>\n                    <En>These are your contacts</En>\n                    <Fr>Ce sont vos contacts</Fr>\n                  </Typography>\n                  <List>\n                    {Object.entries(contacts).map(([key, val]) => (\n                      <ListItem\n                        key={key}\n                        button\n                        onClick={() => this.editRecord(key)}\n                      >\n                        <ListItemAvatar>\n                          <Avatar>\n                            <PermContactCalendar />\n                          </Avatar>\n                        </ListItemAvatar>\n\n                        <ListItemText\n                          primary={<ContactTitle contact={val} />}\n                        />\n                        <ListItemSecondaryAction>\n                          <Tooltip title={<I18n en=\"Edit\" fr=\"Éditer\" />}>\n                            <span>\n                              <IconButton onClick={() => this.editRecord(key)}>\n                                <Edit />\n                              </IconButton>\n                            </span>\n                          </Tooltip>\n                          <Tooltip title={<I18n en=\"Delete\" fr=\"Supprimer\" />}>\n                            <span>\n                              <IconButton\n                                onClick={() => this.toggleModal(true, key)}\n                              >\n                                <Delete />\n                              </IconButton>\n                            </span>\n                          </Tooltip>\n                        </ListItemSecondaryAction>\n                      </ListItem>\n                    ))}\n                  </List>\n                </div>\n              ) : (\n                <Typography>\n                  <En>No contacts submitted yet</En>\n                  <Fr>Aucun contacts n'a encore été soumis</Fr>\n                </Typography>\n              )}\n            </Grid>\n          </>\n        )}\n      </Grid>\n    );\n  }\n}\nexport default Contacts;\n","import React from \"react\";\n\nimport { Typography } from \"@material-ui/core\";\nimport { Fr, En } from \"../I18n\";\n\nconst Login = () => {\n  return (\n    <div>\n      <Typography>\n        <En>Please sign in to access your metadata records.</En>\n        <Fr>\n          Connectez-vous pour accéder à vos enregistrements de métadonnées.\n        </Fr>\n      </Typography>\n    </div>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\nimport { Tooltip } from \"@material-ui/core\";\nimport { I18n } from \"../I18n\";\n\nfunction RequiredMark({ passes }) {\n  if (passes)\n    return (\n      <span\n        style={{\n          color: \"green\",\n          fontSize: \"x-large\",\n          position: \"relative\",\n          bottom: \"-4px\",\n        }}\n      >\n        {\" \"}\n        ✓{\" \"}\n      </span>\n    );\n  return (\n    <Tooltip title={<I18n en=\"Required\" fr=\"Obligatoire\" />}>\n      <span\n        style={{\n          color: \"red\",\n          fontSize: \"large\",\n        }}\n      >\n        {\" \"}\n        ✵{\" \"}\n      </span>\n    </Tooltip>\n  );\n}\nexport default RequiredMark;\n","import React from \"react\";\nimport { Typography } from \"@material-ui/core\";\n\nexport const SupplementalText = ({ children }) => (\n  <Typography variant=\"body2\" component=\"div\">\n    {children}\n  </Typography>\n);\nexport const QuestionText = ({ children }) => (\n  <Typography variant=\"body1\" component=\"div\" style={{ marginBottom: \"10px\" }}>\n    {children}\n  </Typography>\n);\nexport const paperClass = {\n  padding: \"10px\",\n  margin: \"20px\",\n  width: \"90%\",\n};\n","import React from \"react\";\n\nimport { Save } from \"@material-ui/icons\";\nimport { Typography, Paper, Grid } from \"@material-ui/core\";\n\nimport { En, Fr } from \"../I18n\";\n\nimport RequiredMark from \"../FormComponents/RequiredMark\";\nimport { paperClass } from \"../FormComponents/QuestionStyles\";\n\nconst StartTab = ({ disabled, record }) => {\n  return (\n    <Grid item xs>\n      <Paper style={paperClass}>\n        {disabled && (\n          <Typography>\n            <En>\n              <b>\n                This form is locked because it has already been {record.status}.\n              </b>\n            </En>\n            <Fr>\n              <b>\n                Ce formulaire est verrouillé car il a déjà été{\" \"}\n                {record.status === \"submitted\" ? \"soumis\" : \"publié\"} .\n              </b>\n            </Fr>\n          </Typography>\n        )}\n        <Typography variant=\"body1\">\n          <En>\n            Welcome to the CIOOS metadata profile generation form. Please fill\n            out each field with as much detail as you can. This information will\n            be used to create a metadata profile for your dataset.\n          </En>\n          <Fr>\n            Bienvenue sur le formulaire de génération de profils de métadonnées\n            CIOOS ! Veuillez remplir sur chaque champ avec autant de détails que\n            vous pouvez. Utilisation de cette informations que nous allons créer\n            votre profil de métadonnées pour le jeu de données.\n          </Fr>\n        </Typography>\n\n        <En>\n          <ul>\n            <li>You can save the form once you have filled out a title.</li>\n            <li>\n              All questions marked with a <RequiredMark /> are mandatory.\n            </li>\n            <li>\n              The form can be completed over time. If you need to stop, click\n              the <Save /> icon in the bottom right corner. This icon will be\n              greyed out until you have filled in the dataset title in the\n              \"Identification\" section.\n            </li>\n            <li>\n              Some fields can have text in both French and English, though this\n              is only required for title and abstract. There is a 'Translate'\n              button that will automatically generate text in the other\n              language. This translation is more accurate when there is more\n              text to translate.\n            </li>\n          </ul>\n        </En>\n        <Fr>\n          Commencez par cliquer sur « Nouveau » Enregistrer » sur la barre\n          latérale. Vous pouvez également enregistrer les contacts que vous\n          utiliserez souvent dans la section « Contacts ».\n        </Fr>\n      </Paper>\n    </Grid>\n  );\n};\n\nexport default StartTab;\n","import React from \"react\";\n\nimport { Checkbox, FormControlLabel, Grid, Tooltip } from \"@material-ui/core\";\n\nconst CheckBoxList = ({\n  onChange,\n  value = [],\n  name,\n  options,\n  optionLabels,\n  optionTooltips = [],\n  disabled,\n}) => {\n  function toggleArrayElement(ele, arr) {\n    if (arr.includes(ele)) return arr.filter((v) => v !== ele);\n    return arr.concat(ele);\n  }\n\n  return (\n    <Grid container direction=\"row\">\n      {options.map((v, i) => {\n        return (\n          <Grid item xs={3} key={v}>\n            <Tooltip title={optionTooltips[i] || \"\"}>\n              <FormControlLabel\n                disabled={disabled}\n                control={\n                  <Checkbox\n                    value={v || []}\n                    name={name}\n                    checked={value.includes(v)}\n                    onChange={(e) => {\n                      const val = e.target.value;\n                      const newCheckedValuesArray = toggleArrayElement(\n                        val,\n                        value\n                      );\n\n                      onChange({\n                        target: { name, value: newCheckedValuesArray },\n                      });\n                    }}\n                  />\n                }\n                label={optionLabels[i]}\n              />\n            </Tooltip>\n          </Grid>\n        );\n      })}\n    </Grid>\n  );\n};\n\nexport default CheckBoxList;\n","export const eovList = [\n  \"dissolvedOrganicCarbon\",\n  \"inorganicCarbon\",\n  \"nitrate\",\n  \"nutrients\",\n  \"oxygen\",\n  \"phosphate\",\n  \"potentialDensity\",\n  \"potentialTemperature\",\n  \"pressure\",\n  \"seaIce\",\n  \"seaState\",\n  \"seaSurfaceHeight\",\n  \"seaSurfaceSalinity\",\n  \"seaSurfaceTemperature\",\n  \"seawaterDensity\",\n  \"silicate\",\n  \"speedOfSound\",\n  \"subSurfaceCurrents\",\n  \"subSurfaceSalinity\",\n  \"subSurfaceTemperature\",\n  \"surfaceCurrents\",\n  \"other\",\n];\n\nexport const roleCodes = [\n  [\n    \"custodian\",\n    \"Party that accepts accountability and responsibility for the resource and ensures appropriate care and maintenance of the resource \",\n  ],\n  [\"owner\", \"Party that owns the resource \t\"],\n  [\"distributor\", \"Party who distributes the resource \t\"],\n  [\"author\", \"Party who authored the resource \t\"],\n  [\"coAuthor\", \"Party who jointly authors the resource \t\"],\n  [\n    \"collaborator\",\n    \"Party who assists with the generation of the resource other than the principal investigator \",\n  ],\n  [\"contributor\", \"Party contributing to the resource \t\"],\n  [\n    \"editor\",\n    \"Party who reviewed or modified the resource to improve the content \t\",\n  ],\n  [\"funder\", \"Party providing monetary support for the resource \t\"],\n  [\n    \"mediator\",\n    \"A class of entity that mediates access to the resource and for whom the resource is intended or useful \",\n  ],\n  [\"originator\", \"Party who created the resource \t\"],\n  [\n    \"pointOfContact\",\n    \"Party who can be contacted for acquiring knowledge about or acquisition of the resource\",\n  ],\n  [\n    \"principalInvestigator\",\n    \"Key party responsible for gathering information and conducting research \",\n  ],\n  [\n    \"processor\",\n    \"Party who has processed the data in a manner such that the resource has been modified \",\n  ],\n  [\"publisher\", \"Party who published the resource \t\"],\n  [\"resourceProvider\", \"Party that supplies the resource \t\"],\n  [\"rightsHolder\", \"Party owning or managing rights over the resource \t\"],\n  [\"sponsor\", \"Party who speaks for the resource \t\"],\n  [\n    \"stakeholder\",\n    \"Party who has an interest in the resource or the use of the resource \t\",\n  ],\n  [\"user\", \"Party who uses the resource\"],\n];\n\nexport const progressCodes = [\n  [\n    \"onGoing\",\n    \"Data is continually being updated. \te.g satellite dataset that continues to be augmented\",\n  ],\n  [\n    \"historicalArchive\",\n    \"Data has been stored in an offline storage facility. use to indicate data are archived\",\n  ],\n  [\n    \"completed\",\n    \"Production of the data has been completed \te.g. raw data that is not ongoing, completed model\",\n  ],\n  // [\"accepted\", \"Agreed to by sponsor\"],\n  // [\n  //   \"deprecated\",\n  //   \"Resource superseded and will become obsolete, use only for historical purposes \t\",\n  // ],\n  // [\"final\", \"Progress concluded and no changes will be accepted \t\"],\n  // [\"notAccepted\", \"Rejected by sponsor \t\"],\n  // [\"obsolete\", \"Data is no longer relevant \t\"],\n  // [\"pending\", \"Committed to, but not yet addressed\"],\n  // [\n  //   \"planned\",\n  //   \"Fixed date has been established upon or by which the data will be created or updated. \te.g.scheduled cruise\",\n  // ],\n  // [\"proposed\", \"Suggested that development needs to be undertaken \t\"],\n  // [\"required\", \"Data needs to be generated or updated \t\"],\n  // [\n  //   \"retired\",\n  //   \"Item is no longer recommended for use. It has not been superseded by another item \t\",\n  // ],\n  // [\"superseded\", \"Replaced by new \t\"],\n  // [\n  //   \"tentative\",\n  //   \"Provisional changes likely before resource becomes final or complete \t\",\n  // ],\n  // [\n  //   \"underDevelopment\",\n  //   \"Data is currently in the process of being created \ta resource that is not in production yet\",\n  // ],\n  // [\"valid\", \"Acceptable under specific conditions \t\"],\n  // [\"withdrawn\", \"Removed from consideration\"],\n];\n\nexport const depthDirections = [\"depthPositive\", \"heightPositive\"];\n","const dictionary = {\n  oxygen: \"Oxygène\",\n  nutrients: \"Nutriments\",\n  nitrate: \"Nitrate\",\n  phosphate: \"Phosphate\",\n  silicate: \"Silicate\",\n  inorganicCarbon: \"Carbone inoganique\",\n  dissolvedOrganicCarbon: \"carbone inorganique dissous\",\n  seaSurfaceHeight: \"Hauteur de la surface de la mer\",\n  seawaterDensity: \"Densité d'eau de mer\",\n  potentialTemperature: \"Température potentielle\",\n  potentialDensity: \"Densité potentielle\",\n  speedOfSound: \"Vitesse du son\",\n  seaIce: \"Glace de mer\",\n  seaState: \"État de la mer\",\n  seaSurfaceSalinity: \"Salinité de surface\",\n  seaSurfaceTemperature: \"Température de surface\",\n  subSurfaceCurrents: \"Courants sous-marins\",\n  subSurfaceSalinity: \"Salinité sous la surface\",\n  subSurfaceTemperature: \"Température sous la surface\",\n  surfaceCurrents: \"Courants de surface\",\n  pressure: \"Pression\",\n  other: \"Autre\",\n  resourceProvider: \"Fournisseur de données\",\n  custodian: \"Dépositaire\",\n  owner: \"Propriétaire\",\n  user: \"Utilisateur\",\n  distributor: \"Distributeur\",\n  originator: \"Initiateur\",\n  pointOfContact: \"Point de contact\",\n  principalInvestigator: \"Responsable de recherche\",\n  processor: \"Transformateur\",\n  publisher: \"Editeur\",\n  author: \"Auteur\",\n  sponsor: \"Sponsor\",\n  coAuthor: \"Co-auteur\",\n  collaborator: \"Collaborateur\",\n  editor: \"Éditeur\",\n  mediator: \"Médiateur\",\n  rightsHolder: \"Ayant droit\",\n  contributor: \"Contributeur\",\n  funder: \"Fondateur\",\n  stakeholder: \"Actionnaire\",\n  deprecated: \"Obsolète\",\n  proposed: \"Proposé\",\n  withdrawn: \"Retiré\",\n  notAccepted: \"Non accepté\",\n  accepted: \"Accepté\",\n  valid: \"Valide\",\n  tentative: \"Tentative\",\n  superseded: \"Remplacé\",\n  retired: \"retiré\",\n  pending: \"En attente\",\n  final: \"final\",\n  underDevelopment: \"En développement\",\n  required: \"Requis\",\n  planned: \"Planifié\",\n  onGoing: \"En cours\",\n  obsolete: \"Obsolète\",\n  historicalArchive: \"Archive historique\",\n  completed: \"Terminé\",\n  farming: \"Agriculture\",\n  biota: \"Biote\",\n  boundaries: \"Délimitations\",\n  climatologyMeteorologyAtmosphere: \"Climatologie / Météorology / Atmosphère\",\n  economy: \"Économie\",\n  elevation: \"Élévation\",\n  environment: \"Environement\",\n  geoscientificInformation: \"Information Géoscientifique\",\n  health: \"Santé\",\n  imageryBaseMapsEarthCover: \"Imagerie Couverture terrestre\",\n  intelligenceMilitary: \"Renseignements / Militaire\",\n  inlandWaters: \"Eaux intérieures\",\n  location: \"Emplacement\",\n  oceans: \"Océans\",\n  planningCadastre: \"Aménagement du territoire\",\n  society: \"Société\",\n  structure: \"Structure\",\n  transportation: \"Transports\",\n  utilitiesCommunication: \"Services / Communication\",\n  extraTerrestrial: \"Extra terrestre\",\n  disaster: \"Désastre\",\n  \"abundance and biomass\": \"abondance et biomasse\",\n  \"sea access\": \"accès à la mer\",\n  \"decision making\": \"aide à la décision\",\n  \"protected areas\": \"aires protégées\",\n  \"knowledge improvement\": \"amélioration des connaissances\",\n  \"land-use planning\": \"aménagement du territoire\",\n  \"water purification\": \"assainissement des eaux\",\n  \"striped bass\": \"bar rayé\",\n  watershed: \"bassin versant\",\n  \"habitat characterization\": \"caractérisation des habitats\",\n  \"coastal characterization\": \"caractérisation des rives\",\n  \"climate change\": \"changement climatique\",\n  \"chlorophyll a\": \"chlorophylle a\",\n  \"resource conservation\": \"conservation des ressources\",\n  \"water consumption\": \"consommation d'eau\",\n  \"sea currents\": \"courant marin\",\n  crustacean: \"crustacé\",\n  \"fresh water flow\": \"débits eau douce\",\n  \"water density\": \"densité eau\",\n  \"sustainable development\": \"développement durable\",\n  \"ocean-atmosphere exchange\": \"échange océan-atmosphère\",\n  sampling: \"échantillonnage\",\n  crayfish: \"écrevisses\",\n  mariculture: \"entreprises de maricultures\",\n  \"coastal erosion\": \"érosion des côtes\",\n  \"endangered species\": \"espèces en péril\",\n  \"invasive species\": \"espèces envahissante\",\n  \"coastal flora\": \"flore côtière\",\n  fluorescence: \"fluorescence\",\n  spawning: \"fraie\",\n  \"community management\": \"gestion communautaire\",\n  \"resource management\": \"gestion des ressources\",\n  \"integrated management\": \"gestion intégrée\",\n  \"sea ice\": \"glace de mer\",\n  \"sensitive habitat\": \"habitat sensible\",\n  \"important habitat\": \"habitats important\",\n  hydrocarbon: \"hydrocarbure\",\n  incidents: \"incidents\",\n  \"general information\": \"informations générales\",\n  \"wildlife inventory\": \"inventaire faunique\",\n  \"fish inventory\": \"inventaire poisson\",\n  macroalgae: \"macroalgue\",\n  \"benthic macrofauna\": \"macrofaune benthique\",\n  \"marine mammal\": \"mammifères marins\",\n  marsh: \"marais\",\n  meteorology: \"météorologie\",\n  wetlands: \"milieux humides\",\n  \"natural environments of interest\": \"milieux naturels d'intérêt\",\n  enhancement: \"mise en valeur\",\n  \"oceanographic missions\": \"missions océanographique\",\n  mollusc: \"mollusque\",\n  \"sea level\": \"niveau eau\",\n  seabirds: \"oiseaux marins\",\n  \"migrator birds\": \"oiseaux migrateurs\",\n  \"commercial fisheries\": \"pêches commerciales\",\n  \"experimental fisheries\": \"pêches expérimentales\",\n  \"physical-chemical\": \"physico-chimie\",\n  phytoplankton: \"phytoplancton\",\n  \"sea grass\": \"plantes aquatique\",\n  fish: \"poisson\",\n  \"coastal pollution\": \"pollution côtière\",\n  \"atmospheric pressure\": \"pression atmosphérique\",\n  \"coast protection\": \"protection des côtes\",\n  \"habitat protection\": \"protection des habitats\",\n  \"water quality\": \"qualité eau\",\n  radiation: \"radiation\",\n  \"maritime resources\": \"ressources maritimes\",\n  \"ecological rehabilitation\": \"réhabilitation écologique\",\n  \"shore restoration\": \"restauration des rives\",\n  \"experimental restoration\": \"restauration expérimentale\",\n  \"habitat restoration\": \"restauration habitat\",\n  \"coastal risks\": \"risques côtiers\",\n  \"citizen data\": \"saisie citoyenne\",\n  salinity: \"salinité\",\n  sediment: \"sédiment\",\n  \"fishing sites\": \"sites de pêches\",\n  \"annual follow-up\": \"suivi annuel\",\n  \"species tracking\": \"suivi des espèces\",\n  \"habitat tracking\": \"suivi habitat\",\n  taxonomy: \"taxonomie\",\n  \"remote sensing\": \"télédétection\",\n  \"water temperature\": \"température de l'eau\",\n  \"sea turtles\": \"tortue de mer\",\n  \"land-use\": \"utilisation du territoire\",\n  sustainabilty: \"utilisation durable\",\n  waves: \"vagues\",\n  wind: \"vents\",\n  \"coastal zone\": \"zone côtière\",\n  depthPositive: \"Profondeur positive\",\n  heigthPositive: \"Hauteur positive\",\n};\n\nexport default dictionary;\n","import enToFr from \"./i18nDictionaryFr\";\n\nconst translate = (key, toLang = \"en\") => {\n  if (toLang === \"en\") return key;\n\n  return enToFr[key] || null;\n};\n\nexport default translate;\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport {\n  TextField,\n  Typography,\n  Grid,\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Tooltip,\n} from \"@material-ui/core\";\nimport { ExpandMore } from \"@material-ui/icons\";\nimport CheckBoxList from \"./CheckBoxList\";\n\nimport { I18n, En, Fr } from \"../I18n\";\nimport { roleCodes } from \"../../isoCodeLists\";\nimport { camelToSentenceCase } from \"../../utils/misc\";\nimport ContactTitle from \"./ContactTitle\";\nimport translate from \"../../utils/i18n\";\nimport { QuestionText, SupplementalText } from \"./QuestionStyles\";\n\nconst Contact = ({ onChange, value, showRolePicker, disabled }) => {\n  const { language } = useParams();\n  const options = roleCodes.map(([code]) => code);\n  const optionLabels = roleCodes.map(([code]) => {\n    if (code === \"custodian\") return <b>Metadata Contact</b>;\n    if (code === \"owner\") return <b>Data Contact</b>;\n    return camelToSentenceCase(translate(code, language));\n  });\n\n  const [expanded, setExpanded] = React.useState(false);\n\n  const selectOptionIsInExpandedList =\n    (value.role || []).filter((role) => options.indexOf(role) > 2).length > 0;\n  return (\n    <Grid container direction=\"column\" spacing={2}>\n      <Grid item xs>\n        <Typography variant=\"h6\">\n          <ContactTitle contact={value} />\n        </Typography>\n      </Grid>\n      <Grid item xs>\n        {showRolePicker && (\n          <Grid item xs>\n            <QuestionText>\n              <En>\n                What is the role of this contact? {selectOptionIsInExpandedList}\n              </En>\n              <Fr>Quel est leur rôle?</Fr>\n              <SupplementalText>\n                <En>\n                  At least one Metadata Contact and one Data Contact are\n                  required. Multiple roles may be selected for each contact. If\n                  you need more specific role options you can expend the list.\n                </En>\n                <Fr>\n                  Au moins un contact de métadonnées et un contact de données\n                  sont requis. Plusieurs rôles peuvent être sélectionnés pour\n                  chaque contact. Si vous avez besoin d'options de rôle plus\n                  spécifiques, vous pouvez dépenser la liste.\n                </Fr>\n              </SupplementalText>\n            </QuestionText>\n\n            <CheckBoxList\n              name=\"role\"\n              value={value.role || []}\n              onChange={onChange}\n              options={options.slice(0, 3)}\n              optionLabels={optionLabels.slice(0, 3)}\n              disabled={disabled}\n              optionTooltips={roleCodes.map(([, description]) => description)}\n            />\n\n            <Accordion\n              onChange={() => setExpanded(!expanded)}\n              expanded={expanded || selectOptionIsInExpandedList}\n            >\n              <AccordionSummary\n                expandIcon={\n                  <Tooltip title=\"Show/Hide more options\">\n                    <ExpandMore />\n                  </Tooltip>\n                }\n                aria-controls=\"panel1a-content\"\n                id=\"panel1a-header\"\n              >\n                <span>\n                  <En>Show/Hide more role options</En>\n                  <Fr>Afficher/masquer plus d'options de rôle</Fr>\n                </span>\n              </AccordionSummary>\n              <AccordionDetails>\n                <CheckBoxList\n                  name=\"role\"\n                  value={value.role || []}\n                  onChange={onChange}\n                  options={options.slice(3)}\n                  optionLabels={optionLabels.slice(3)}\n                  disabled={disabled}\n                  optionTooltips={roleCodes.map(\n                    ([, description]) => description\n                  )}\n                />\n              </AccordionDetails>\n            </Accordion>\n          </Grid>\n        )}\n\n        <Grid\n          container\n          direction=\"column\"\n          spacing={1}\n          style={{ marginTop: \"10px\" }}\n        >\n          {/* Organization */}\n          <Grid item xs>\n            <QuestionText>\n              <En>Provide any information about the organization</En>\n              <Fr>Fournir toute information sur l'organisation ;</Fr>\n            </QuestionText>\n          </Grid>\n          <Grid item xs style={{ marginleft: \"10px\" }}>\n            <TextField\n              label={<I18n en=\"Organization name\" fr=\"Nom de l'organisation\" />}\n              name=\"orgName\"\n              value={value.orgName}\n              onChange={onChange}\n              onBlur={onChange}\n              disabled={disabled}\n              fullWidth\n            />\n          </Grid>\n          <Grid item xs>\n            <TextField\n              label={<I18n en=\"URL\" fr=\"URL\" />}\n              name=\"orgURL\"\n              value={value.orgURL}\n              onChange={onChange}\n              disabled={disabled}\n              fullWidth\n            />\n          </Grid>\n          <Grid item xs>\n            <TextField\n              label={<I18n en=\"Address\" fr=\"Adresse\" />}\n              name=\"orgAdress\"\n              value={value.orgAdress}\n              onChange={onChange}\n              disabled={disabled}\n              fullWidth\n            />\n          </Grid>\n          <Grid item xs>\n            <TextField\n              label={<I18n en=\"City\" fr=\"Ville\" />}\n              name=\"orgCity\"\n              value={value.orgCity}\n              onChange={onChange}\n              disabled={disabled}\n              fullWidth\n            />\n          </Grid>\n          <Grid item xs>\n            <TextField\n              label={<I18n en=\"Country\" fr=\"Pays\" />}\n              name=\"orgCountry\"\n              value={value.orgCountry}\n              onChange={onChange}\n              disabled={disabled}\n              fullWidth\n            />\n          </Grid>\n          <Grid item xs>\n            <TextField\n              label={<I18n en=\"Email\" fr=\"Courriel\" />}\n              name=\"orgEmail\"\n              value={value.orgEmail}\n              onChange={onChange}\n              fullWidth\n              disabled={disabled}\n            />{\" \"}\n          </Grid>\n        </Grid>\n      </Grid>\n      <Grid item xs>\n        {/* Individual */}\n        <Typography>\n          <En>Provide any information about the individual</En>\n          <Fr>Fournir toute information sur l'individual</Fr>\n        </Typography>\n\n        <Grid\n          container\n          direction=\"column\"\n          spacing={1}\n          style={{ marginTop: \"10px\" }}\n        >\n          <Grid item xs>\n            <TextField\n              label={<I18n en=\"Individual Name\" fr=\"Nom de l'individu\" />}\n              name=\"indName\"\n              value={value.indName}\n              onChange={onChange}\n              disabled={disabled}\n              fullWidth\n            />\n          </Grid>\n          <Grid item xs>\n            <TextField\n              label={<I18n en=\"Position\" fr=\"Position\" />}\n              name=\"indPosition\"\n              value={value.indPosition}\n              onChange={onChange}\n              disabled={disabled}\n              fullWidth\n            />\n          </Grid>\n          <Grid item xs>\n            <TextField\n              label={<I18n en=\"Email\" fr=\"Email\" />}\n              name=\"indEmail\"\n              value={value.indEmail}\n              onChange={onChange}\n              disabled={disabled}\n              fullWidth\n            />\n          </Grid>\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Contact;\n","import React from \"react\";\nimport {\n  Select,\n  MenuItem,\n  FormControl,\n  InputLabel,\n  Typography,\n  Tooltip,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport { I18n } from \"../I18n\";\n\nconst useStyles = makeStyles(() => ({\n  formControl: {\n    minWidth: 200,\n  },\n  selectEmpty: {},\n}));\n\nconst SelectInput = ({\n  value = \"\",\n  name,\n  options,\n  optionLabels,\n  optionTooltips = [],\n  onChange,\n  disabled,\n  label,\n  fullWidth = true,\n}) => {\n  const classes = useStyles();\n\n  return (\n    <FormControl\n      fullWidth={fullWidth}\n      className={classes.formControl}\n      disabled={disabled}\n    >\n      <Select\n        className={classes.selectEmpty}\n        name={name}\n        fullWidth={fullWidth}\n        value={value}\n        disabled={disabled}\n        displayEmpty\n        onChange={onChange}\n      >\n        <MenuItem value=\"\">\n          <InputLabel id=\"demo-simple-select-label\">\n            <Typography>\n              {label || <I18n en=\"Choose\" fr=\"Choisir\" />}\n            </Typography>\n          </InputLabel>\n        </MenuItem>\n        {options.map((v, i) => (\n          <MenuItem key={v} value={v}>\n            <Tooltip\n              enterDelay={1}\n              title={optionTooltips[i] ? optionTooltips[i] : \"\"}\n            >\n              <div style={{ width: \"100%\" }}>{optionLabels[i]}</div>\n            </Tooltip>\n          </MenuItem>\n        ))}\n      </Select>\n    </FormControl>\n  );\n};\nexport default SelectInput;\n","import React, { useState } from \"react\";\n\nimport {\n  Paper,\n  Button,\n  Grid,\n  List,\n  ListItem,\n  ListItemText,\n  Typography,\n  // CircularProgress,\n} from \"@material-ui/core\";\n\nimport { Add, Delete } from \"@material-ui/icons\";\n// import { useParams } from \"react-router-dom\";\nimport Contact from \"../FormComponents/Contact\";\n// import firebase from \"../../firebase\";\n// import { auth } from \"../../auth\";\n\nimport SelectInput from \"../FormComponents/SelectInput\";\nimport {\n  QuestionText,\n  SupplementalText,\n  paperClass,\n} from \"../FormComponents/QuestionStyles\";\n\nimport { En, Fr, I18n } from \"../I18n\";\nimport RequiredMark from \"../FormComponents/RequiredMark\";\nimport { validateField } from \"../../utils/validate\";\nimport { deepCopy } from \"../../utils/misc\";\nimport ContactTitle from \"../FormComponents/ContactTitle\";\n\nconst ContactTab = ({ disabled, record, handleInputChange, userContacts }) => {\n  const name = \"contacts\";\n\n  const value = record.contacts || [];\n\n  // const { region } = useParams();\n  // const [isSavingContact, setisSavingContact] = useState(false);\n  const initial = {\n    role: [],\n    orgName: \"\",\n    orgEmail: \"\",\n    orgURL: \"\",\n    orgAdress: \"\",\n    orgCity: \"\",\n    orgCountry: \"\",\n    indName: \"\",\n    indPosition: \"\",\n    indEmail: \"\",\n  };\n  const [activeContact, setActiveContact] = useState(0);\n\n  const contactList = Object.values(userContacts || {});\n\n  function handleAddContact(index) {\n    handleInputChange({\n      target: {\n        name: \"contacts\",\n        value: value.concat(contactList[index]),\n      },\n    });\n    setActiveContact(value.length);\n  }\n  // async function saveContact(idx) {\n  //   if (value[idx]) {\n  //     setisSavingContact(true);\n\n  //     await firebase\n  //       .database()\n  //       .ref(region)\n  //       .child(\"users\")\n  //       .child(auth.currentUser.uid)\n  //       .child(\"contacts\")\n  //       .push(value[idx]);\n\n  //     setisSavingContact(false);\n  //   }\n  // }\n\n  function addItem() {\n    const changes = {\n      target: {\n        name,\n        value: value.concat(deepCopy(initial)),\n      },\n    };\n\n    handleInputChange(changes);\n    setActiveContact(value.length);\n  }\n  function handleChange(e) {\n    const newValue = [...value];\n    const propName = e.target.name;\n    newValue[activeContact][propName] = e.target.value;\n    const parentEvent = { target: { name, value: newValue } };\n    handleInputChange(parentEvent);\n  }\n  function removeItem() {\n    handleInputChange({\n      target: {\n        name,\n        value: value.filter((e, index) => index !== activeContact),\n      },\n    });\n    if (value.length) setActiveContact(value.length - 2);\n  }\n  const contact = value[activeContact];\n  return (\n    <Grid container spacing={3}>\n      <Paper style={paperClass}>\n        <Grid item xs>\n          <QuestionText>\n            <En>\n              Please enter at least one <b>Metadata Contact</b> and one{\" \"}\n              <b>Data Contact</b> for this dataset.\n            </En>\n            <Fr>\n              Veuillez saisir au moins un contact lié à cet ensemble de données.\n              Vous pouvez créer un nouveau contact ici.\n            </Fr>\n            <RequiredMark passes={validateField(record, \"contacts\")} />\n            <SupplementalText>\n              <En>\n                If you have any saved contacts you can select them from the\n                list.\n              </En>\n              <Fr>\n                Si vous avez des contacts enregistrés, vous pouvez les\n                sélectionner dans la liste.\n              </Fr>\n            </SupplementalText>\n          </QuestionText>\n        </Grid>\n      </Paper>\n      <Grid container direction=\"row\" style={{ marginLeft: \"5px\" }}>\n        <Grid item xs={3}>\n          <Grid container direction=\"column\" spacing={2}>\n            <Grid item xs>\n              Contacts:\n              <List>\n                {value.map((contactItem, i) => {\n                  return (\n                    <ListItem\n                      key={i}\n                      button\n                      onClick={() => setActiveContact(i)}\n                    >\n                      <ListItemText\n                        primary={\n                          <Typography\n                            style={{\n                              fontWeight: activeContact === i ? \"bold\" : \"\",\n                            }}\n                          >\n                            {i + 1}. <ContactTitle contact={contactItem} />\n                          </Typography>\n                        }\n                      />\n                    </ListItem>\n                  );\n                })}\n              </List>\n            </Grid>\n\n            <Grid item xs>\n              <Button\n                disabled={disabled}\n                startIcon={<Add />}\n                onClick={addItem}\n                style={{ height: \"56px\", marginLeft: \"10px\" }}\n              >\n                <En>Add new contact</En>\n                <Fr>Ajouter un contact</Fr>\n              </Button>\n            </Grid>\n            <Grid item xs>\n              <SelectInput\n                style={{}}\n                value=\"\"\n                labelId=\"add-existing\"\n                onChange={(e) => handleAddContact(e.target.value)}\n                optionLabels={contactList.map((contactItem) => (\n                  <ContactTitle contact={contactItem} />\n                ))}\n                options={contactList.map((v, i) => i)}\n                disabled={!contactList.length || disabled}\n                label={<I18n en=\"Add saved contact\" fr=\"Ajouter un contact\" />}\n              />\n            </Grid>\n          </Grid>\n        </Grid>\n\n        {contact && (\n          <Grid item xs>\n            <Grid container direction=\"column\">\n              <Paper style={paperClass}>\n                <Grid container direction=\"column\" spacing={3}>\n                  <Grid item xs>\n                    <Contact\n                      showRolePicker\n                      value={contact}\n                      onChange={handleChange}\n                      disabled={disabled}\n                    />\n                  </Grid>\n                  <Grid item xs>\n                    <Grid container direction=\"row\" spacing={3}>\n                      <Grid item xs>\n                        <Button\n                          startIcon={<Delete />}\n                          disabled={disabled}\n                          onClick={removeItem}\n                        >\n                          <En>Remove contact</En>\n                          <Fr>Supprimer contact</Fr>\n                        </Button>\n                      </Grid>\n                      {/* <Grid item xs>\n                      <Button\n                        startIcon={\n                          isSavingContact ? <CircularProgress /> : <Save />\n                        }\n                        disabled={\n                          disabled || (!contact.orgName && !contact.indName)\n                        }\n                        onClick={() => saveContact(i)}\n                      >\n                        <En>Save to stored contacts</En>\n                        <Fr>Supprimer contact</Fr>\n                      </Button>\n                    </Grid> */}\n                    </Grid>\n                  </Grid>\n                </Grid>\n              </Paper>\n            </Grid>\n          </Grid>\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default ContactTab;\n","import React, { useContext, useState } from \"react\";\nimport {\n  Button,\n  InputAdornment,\n  TextField,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport TranslateIcon from \"@material-ui/icons/Translate\";\nimport ArrowDownwardIcon from \"@material-ui/icons/ArrowDownward\";\nimport { useParams } from \"react-router-dom\";\nimport { En, Fr } from \"../I18n\";\nimport { UserContext } from \"../../providers/UserProvider\";\n\nconst BilingualTextInput = ({\n  onChange,\n  value,\n  name,\n  multiline,\n  disabled,\n  error,\n  translationButonDisabled = false,\n}) => {\n  const { translate } = useContext(UserContext);\n  const [awaitingTranslation, setAwaitingTranslation] = useState(false);\n\n  function handleEvent(e) {\n    const newData = { ...value, [e.target.name]: e.target.value };\n    const newDataEvent = { target: { name, value: newData } };\n    onChange(newDataEvent);\n  }\n  const { language } = useParams();\n  let languages;\n\n  if (language === \"en\") languages = [\"en\", \"fr\"];\n  else languages = [\"fr\", \"en\"];\n  return (\n    <div>\n      {languages.map((lang, i) => (\n        <div key={lang}>\n          <TextField\n            name={lang}\n            fullWidth\n            value={value && value[lang]}\n            onChange={(e) => handleEvent(e)}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  {lang.toUpperCase()}\n                </InputAdornment>\n              ),\n            }}\n            multiline={multiline}\n            disabled={disabled}\n            error={error}\n          />\n          {i === 0 && !translationButonDisabled && (\n            <Button\n              style={{ margin: \"10px\" }}\n              startIcon={\n                awaitingTranslation ? (\n                  <CircularProgress size={20} />\n                ) : (\n                  <TranslateIcon />\n                )\n              }\n              endIcon={awaitingTranslation ? null : <ArrowDownwardIcon />}\n              disabled={\n                disabled || awaitingTranslation || !(value && value[lang])\n              }\n              onClick={() => {\n                const alternateLanguage = languages[1];\n                setAwaitingTranslation(true);\n\n                translate({ text: value[lang], fromLang: lang }).then(\n                  (translatedText) => {\n                    setAwaitingTranslation(false);\n                    const translation = translatedText.data;\n                    handleEvent({\n                      target: {\n                        name: alternateLanguage,\n                        value: translation,\n                      },\n                    });\n                  }\n                );\n              }}\n            >\n              <En>Translate</En>\n              <Fr>Traduire</Fr>\n            </Button>\n          )}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default BilingualTextInput;\n","import React from \"react\";\nimport { Add, Delete } from \"@material-ui/icons\";\nimport { Button, Grid, Paper, TextField } from \"@material-ui/core\";\nimport { En, Fr, I18n } from \"../I18n\";\n\nimport BilingualTextInput from \"./BilingualTextInput\";\nimport RequiredMark from \"./RequiredMark\";\nimport { deepCopy } from \"../../utils/misc\";\nimport { QuestionText, paperClass } from \"./QuestionStyles\";\n\nconst Distribution = ({ onChange, value, name, disabled }) => {\n  const initial = { url: \"\", name: \"\", description: { en: \"\", fr: \"\" } };\n\n  function addDistribution() {\n    onChange({\n      target: {\n        name,\n        value: value.concat(deepCopy(initial)),\n      },\n    });\n  }\n  function handleChange(e, i) {\n    const newValue = [...value];\n    const propName = e.target.name;\n    newValue[i][propName] = e.target.value;\n    const parentEvent = { target: { name, value: newValue } };\n    onChange(parentEvent);\n  }\n  // removes the distribution section from the list at index i\n  function removeDistribution(i) {\n    onChange({\n      target: { name, value: value.filter((e, index) => index !== i) },\n    });\n  }\n  const nameLabel = <I18n en=\"Name\" fr=\"Nom\" />;\n  const descriptionLabel = <I18n en=\"Description\" fr=\"Description\" />;\n\n  return (\n    <div>\n      {value.map((dist = deepCopy(initial), i) => {\n        const handler = (e) => handleChange(e, i);\n        return (\n          <Paper key={i} style={paperClass}>\n            <Grid container direction=\"column\" spacing={3}>\n              <Grid item xs>\n                <QuestionText>\n                  <En>Enter a name for the resource</En>\n                  <Fr>Entrez un nom pour la ressource</Fr>\n                  <RequiredMark passes={dist.name} />\n                </QuestionText>\n                <TextField\n                  label={nameLabel}\n                  name=\"name\"\n                  value={dist.name}\n                  onChange={handler}\n                  fullWidth\n                  disabled={disabled}\n                />\n              </Grid>\n              <Grid item xs>\n                <QuestionText>\n                  <En>Enter the URL for the resource</En>\n                  <Fr>Entrez l'URL de la ressource</Fr>\n                  <RequiredMark passes={dist.url} />\n                </QuestionText>\n\n                <TextField\n                  label=\"URL\"\n                  name=\"url\"\n                  value={dist.url}\n                  onChange={handler}\n                  fullWidth\n                  disabled={disabled}\n                />\n              </Grid>\n              <Grid item xs>\n                <QuestionText>\n                  <En>Enter a description of the resource</En>\n                  <Fr>Entrez une description de la ressource</Fr>\n                </QuestionText>{\" \"}\n                <BilingualTextInput\n                  name=\"description\"\n                  label={descriptionLabel}\n                  value={dist.description}\n                  onChange={handler}\n                  disabled={disabled}\n                />\n              </Grid>\n              <Grid item xs>\n                <Button\n                  startIcon={<Delete />}\n                  disabled={disabled}\n                  onClick={() => removeDistribution(i)}\n                >\n                  <En>Remove item</En>\n                  <Fr>Supprimer l'article</Fr>\n                </Button>\n              </Grid>\n            </Grid>\n          </Paper>\n        );\n      })}\n\n      <Paper style={paperClass}>\n        <Button\n          startIcon={<Add />}\n          disabled={disabled}\n          onClick={addDistribution}\n        >\n          <En>Add item</En>\n          <Fr>Ajouter un article</Fr>\n        </Button>\n      </Paper>\n    </div>\n  );\n};\n\nexport default Distribution;\n","import React from \"react\";\n\nimport { Paper } from \"@material-ui/core\";\n\nimport Distribution from \"../FormComponents/Distribution\";\nimport { En, Fr } from \"../I18n\";\n\nimport RequiredMark from \"../FormComponents/RequiredMark\";\nimport {\n  paperClass,\n  QuestionText,\n  SupplementalText,\n} from \"../FormComponents/QuestionStyles\";\nimport { validateField } from \"../../utils/validate\";\n\nconst DistributionTab = ({ disabled, record, handleInputChange }) => {\n  return (\n    <div>\n      <Paper style={paperClass}>\n        <QuestionText>\n          <En>Enter any links to information associated with this dataset.</En>\n          <Fr>\n            Entrez les liens vers les informations associées à ce jeu de\n            données.\n          </Fr>\n          <RequiredMark passes={validateField(record, \"distribution\")} />\n          <SupplementalText>\n            <En>\n              Some examples of resources are:\n              <ul>\n                <li>supporting documentation (eg text or pdf files)</li>\n                <li>CSV files</li>\n                <li>ERDDAP datasets</li>\n                <li>images</li>\n              </ul>\n              At least one item is required.\n            </En>\n            <Fr>\n              Voici quelques exemples de ressources :\n              <ul>\n                <li>\n                  documentation à l'appui (par exemple, fichiers texte ou pdf)\n                </li>\n                <li>Fichiers CSV</li>\n                <li>Jeux de données ERDDAP</li>\n                <li>images</li>\n              </ul>\n              Au moins un article est requis.\n            </Fr>\n          </SupplementalText>\n        </QuestionText>\n      </Paper>\n      <Distribution\n        name=\"distribution\"\n        paperClass={paperClass}\n        value={record.distribution || []}\n        onChange={handleInputChange}\n        disabled={disabled}\n      />\n    </div>\n  );\n};\n\nexport default DistributionTab;\n","import {\n  KeyboardDatePicker,\n  MuiPickersUtilsProvider,\n} from \"@material-ui/pickers\";\n\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport React from \"react\";\n\nfunction formatDate(date) {\n  const d = date.getDate();\n  const m = date.getMonth();\n  const y = date.getFullYear();\n  return new Date(y, m, d, 12, 0, 0, 0);\n}\nconst DateInput = ({ onChange, value, name, disabled }) => {\n  return (\n    <MuiPickersUtilsProvider utils={DateFnsUtils}>\n      <KeyboardDatePicker\n        disabled={disabled}\n        margin=\"normal\"\n        id=\"date-picker-dialog\"\n        label=\"Select date\"\n        format=\"yyyy-MM-dd\"\n        value={value}\n        onChange={(dateSelected) => {\n          return onChange({\n            target: { name, value: formatDate(dateSelected) },\n          });\n        }}\n        KeyboardButtonProps={{\n          \"aria-label\": \"change date\",\n        }}\n      />\n    </MuiPickersUtilsProvider>\n  );\n};\n\nexport default DateInput;\n","const keywordList = [\n  \"abundance and biomass\",\n  \"sea access\",\n  \"decision making\",\n  \"protected areas\",\n  \"maritime resources\",\n  \"knowledge improvement\",\n  \"land-use planning\",\n  \"water purification\",\n  \"striped bass\",\n  \"watershed\",\n  \"habitat characterization\",\n  \"coastal characterization\",\n  \"climate change\",\n  \"chlorophyll a\",\n  \"resource conservation\",\n  \"water consumption\",\n  \"sea currents\",\n  \"crustacean\",\n  \"fresh water flow\",\n  \"water density\",\n  \"sustainable development\",\n  \"ocean-atmosphere exchange\",\n  \"sampling\",\n  \"crayfish\",\n  \"mariculture\",\n  \"coastal erosion\",\n  \"endangered species\",\n  \"invasive species\",\n  \"coastal flora\",\n  \"fluorescence\",\n  \"spawning\",\n  \"community management\",\n  \"resource management\",\n  \"integrated management\",\n  \"sea ice\",\n  \"sensitive habitat\",\n  \"important habitat\",\n  \"hydrocarbon\",\n  \"incidents\",\n  \"general information\",\n  \"wildlife inventory\",\n  \"fish inventory\",\n  \"macroalgae\",\n  \"benthic macrofauna\",\n  \"marine mammal\",\n  \"marsh\",\n  \"meteorology\",\n  \"wetlands\",\n  \"natural environments of interest\",\n  \"enhancement\",\n  \"oceanographic missions\",\n  \"mollusc\",\n  \"sea level\",\n  \"seabirds\",\n  \"migrator birds\",\n  \"commercial fisheries\",\n  \"experimental fisheries\",\n  \"physical-chemical\",\n  \"phytoplankton\",\n  \"sea grass\",\n  \"fish\",\n  \"coastal pollution\",\n  \"atmospheric pressure\",\n  \"coast protection\",\n  \"habitat protection\",\n  \"water quality\",\n  \"radiation\",\n  \"maritime resources\",\n  \"ecological rehabilitation\",\n  \"shore restoration\",\n  \"experimental restoration\",\n  \"habitat restoration\",\n  \"coastal risks\",\n  \"citizen data\",\n  \"salinity\",\n  \"sediment\",\n  \"fishing sites\",\n  \"annual follow-up\",\n  \"species tracking\",\n  \"habitat tracking\",\n  \"taxonomy\",\n  \"remote sensing\",\n  \"water temperature\",\n  \"sea turtles\",\n  \"land-use\",\n  \"sustainabilty\",\n  \"waves\",\n  \"wind\",\n  \"coastal zone\",\n];\n\nexport default keywordList;\n","import React, { useState } from \"react\";\n\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\n\nimport {\n  TextField,\n  Button,\n  Grid,\n  Chip,\n  InputAdornment,\n} from \"@material-ui/core\";\nimport { useParams } from \"react-router-dom\";\nimport { ArrowDownward } from \"@material-ui/icons\";\nimport keywordList from \"../../keywordList\";\nimport { En, Fr } from \"../I18n\";\nimport translate from \"../../utils/i18n\";\n\nconst KeywordsInput = ({\n  onChange,\n  value = { en: [], fr: [] },\n  name,\n  disabled,\n}) => {\n  const { language } = useParams();\n  const [selectedKeyword, setKeyword] = useState(\"\");\n  const [inputValue, setInputValue] = useState(\"\");\n  const [selectedKeywordAltLang, setSelectedKeywordAltLang] = useState(\"\");\n\n  const languages = [\"en\", \"fr\"];\n\n  if (language === \"fr\") languages.reverse();\n  const altLanguage = languages[1];\n\n  function cleanList(list) {\n    return list\n      .map((item) => (item || \"\").trim())\n      .filter((item, i, arr) => item && arr.indexOf(item) === i);\n  }\n\n  function handleDelete(chipText, deletedChipLang) {\n    return () => {\n      const newValue = {\n        en: value.en,\n        fr: value.fr,\n        [deletedChipLang]: value[deletedChipLang].filter(\n          (keyword) => keyword !== chipText\n        ),\n      };\n\n      onChange({\n        target: {\n          name,\n          value: newValue,\n        },\n      });\n    };\n  }\n  function handleHelperChange() {\n    const keyword = selectedKeyword || inputValue;\n    if (keyword || selectedKeywordAltLang) {\n      const newValue = { en: value.en, fr: value.fr };\n\n      const userKeywordList = [...value[language], keyword];\n      const userKeywordListAlt = [\n        ...value[altLanguage],\n        selectedKeywordAltLang,\n      ];\n\n      if (keyword) newValue[language] = cleanList(userKeywordList);\n      if (selectedKeywordAltLang)\n        newValue[altLanguage] = cleanList(userKeywordListAlt);\n\n      onChange({\n        target: {\n          name,\n          value: newValue,\n        },\n      });\n    }\n    setKeyword(\"\");\n    setSelectedKeywordAltLang(\"\");\n    setInputValue(\"\");\n  }\n\n  return (\n    <Grid container spacing={3} direction=\"column\">\n      <Grid item xs>\n        <Autocomplete\n          inputValue={inputValue}\n          onInputChange={(event, newInputValue) => {\n            setInputValue(newInputValue);\n          }}\n          disabled={disabled}\n          onChange={(e, keyword) =>\n            setSelectedKeywordAltLang(translate(keyword, altLanguage))\n          }\n          value={selectedKeyword || \"\"}\n          freeSolo\n          renderOption={(option) => translate(option, language) || option}\n          options={keywordList}\n          getOptionLabel={(option) => translate(option, language) || option}\n          fullWidth\n          renderInput={(params) => (\n            <TextField\n              // eslint-disable-next-line react/jsx-props-no-spreading\n              {...params}\n              label={language.toUpperCase()}\n            />\n          )}\n        />\n      </Grid>\n      <Grid item xs>\n        <TextField\n          value={selectedKeywordAltLang || \"\"}\n          onChange={(e) => setSelectedKeywordAltLang(e.target.value)}\n          fullWidth\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">\n                {altLanguage.toUpperCase()}\n              </InputAdornment>\n            ),\n          }}\n        />\n      </Grid>\n\n      <Grid item xs={3}>\n        <Button\n          disabled={\n            disabled ||\n            (!selectedKeyword && !selectedKeywordAltLang && !inputValue)\n          }\n          startIcon={<ArrowDownward />}\n          onClick={handleHelperChange}\n        >\n          <En>Add</En>\n          <Fr>Ajouter</Fr>\n        </Button>\n      </Grid>\n\n      <Grid item xs>\n        {languages\n          .filter((lang) => value[lang] && value[lang].length)\n          .map((lang) => (\n            <div style={{ margin: \"15px\" }} key={lang}>\n              {true && (\n                <InputAdornment style={{ margin: \"10px\" }}>\n                  {lang.toUpperCase()}\n                </InputAdornment>\n              )}\n              <Grid container direction=\"row\">\n                <Grid item xs>\n                  {(value[lang] || []).map((keyword) => (\n                    <Chip\n                      key={keyword}\n                      disabled={disabled}\n                      label={keyword}\n                      onDelete={handleDelete(keyword, lang)}\n                      color=\"primary\"\n                      style={{ margin: \"5px\" }}\n                    />\n                  ))}\n                </Grid>\n              </Grid>\n            </div>\n          ))}\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default KeywordsInput;\n","import React from \"react\";\nimport { Paper, TextField, Grid } from \"@material-ui/core\";\nimport { useParams } from \"react-router-dom\";\nimport { En, Fr } from \"../I18n\";\nimport { eovList, progressCodes } from \"../../isoCodeLists\";\n\nimport BilingualTextInput from \"../FormComponents/BilingualTextInput\";\nimport CheckBoxList from \"../FormComponents/CheckBoxList\";\nimport DateInput from \"../FormComponents/DateInput\";\nimport KeywordsInput from \"../FormComponents/KeywordsInput\";\nimport RequiredMark from \"../FormComponents/RequiredMark\";\nimport SelectInput from \"../FormComponents/SelectInput\";\nimport { camelToSentenceCase } from \"../../utils/misc\";\nimport translate from \"../../utils/i18n\";\nimport { validateField } from \"../../utils/validate\";\nimport {\n  QuestionText,\n  SupplementalText,\n  paperClass,\n} from \"../FormComponents/QuestionStyles\";\n\nconst IdentificationTab = ({ disabled, record, handleInputChange }) => {\n  const { language } = useParams();\n\n  return (\n    <div>\n      <Paper style={paperClass}>\n        <QuestionText>\n          <En>What is the dataset title? Required in both languages.</En>\n          <Fr>\n            Quel est le titre du jeu de données? Obligatoire dans les deux\n            langues.\n          </Fr>\n          <RequiredMark passes={validateField(record, \"title\")} />\n          <SupplementalText>\n            <En>\n              Please refrain from using special characters in the dataset title.\n              This will define the title that is shown for this dataset in CKAN.\n            </En>\n            <Fr>\n              S'il vous plaît ne pas utiliser caractères dans le titre du jeu de\n              données. Cela définira le titre qui est montré pour ce jeu de\n              données dans CKAN.\n            </Fr>\n          </SupplementalText>\n        </QuestionText>\n\n        <BilingualTextInput\n          name=\"title\"\n          value={record.title}\n          onChange={handleInputChange}\n          disabled={disabled}\n        />\n      </Paper>\n\n      <Paper style={paperClass}>\n        <QuestionText>\n          <En>What is primary language of the dataset?</En>\n          <Fr>Quelle est la langue principale du jeu de données?</Fr>\n          <RequiredMark passes={validateField(record, \"language\")} />\n        </QuestionText>\n        <SelectInput\n          name=\"language\"\n          value={record.language}\n          onChange={(e) => handleInputChange(e)}\n          options={[\"en\", \"fr\"]}\n          optionLabels={[\"English\", \"Français\"]}\n          disabled={disabled}\n        />\n      </Paper>\n\n      <Paper style={paperClass}>\n        <QuestionText>\n          <En>\n            Enter an abstract or summary for the dataset. Required in both\n            languages.\n          </En>\n          <Fr>Entrez un résumé pour le jeu de données.</Fr>\n          <RequiredMark passes={validateField(record, \"abstract\")} />\n          <SupplementalText>\n            <En>\n              These will define the summary text that is shown for this dataset\n              in CKAN, so browsing some datasets at\n              https://cioosatlantic.ca/ckan can help give a sense of the type of\n              descriptions that are typically used for this.\n              <br />\n              <br />\n              Suggested abstract points -\n              <div>\n                <ul>\n                  <li>\n                    <b>What</b>- variables that were measured\n                  </li>\n                  <li>\n                    <b>When</b>- temporal coverage of the data, frequency of the\n                    measurements/observations\n                  </li>\n                  <li>\n                    <b>Where</b>- spatial coverage of the data, sampling sites,\n                    sensor tracks, laboratory spaces\n                  </li>\n                  <li>\n                    <b>How</b>- equipment, procedures, protocols, calibrations,\n                    QA/QC\n                  </li>\n                  <li>\n                    <b>Who</b>- participants, staff\n                  </li>\n                  <li>\n                    <b>Why</b>- a high level statement on the outcome this data\n                    is meant to inform\n                  </li>\n                </ul>\n              </div>\n            </En>\n            <Fr>\n              {\" \"}\n              Points abstraits suggérés - Résumé du jeu de données : Quoi-\n              Variables qui ont été mesurés ; Quan- Couverture temporelle des\n              données, fréquence de la mesures/observations ; Où - couverture\n              spatiale des données, les sites d'échantillonnage, les pistes de\n              capteurs, les locaux de laboratoire ; procédures, protocoles,\n              étalonnages, AQ/CQ ; personnel ; pourquoi - un énoncé de haut\n              niveau sur le résultat de ces données est censé pour informer.\n            </Fr>\n          </SupplementalText>\n        </QuestionText>\n\n        <BilingualTextInput\n          name=\"abstract\"\n          value={record.abstract}\n          onChange={handleInputChange}\n          disabled={disabled}\n          multiline\n        />\n      </Paper>\n\n      <Paper style={paperClass}>\n        <QuestionText>\n          <En>\n            Please select all the essential ocean variables that are contained\n            in this dataset.\n          </En>\n          <Fr>\n            Veuillez sélectionner toutes les variables océaniques essentielles\n            contenues dans ce jeu de données.\n          </Fr>\n          <RequiredMark passes={validateField(record, \"eov\")} />\n          <SupplementalText>\n            <En>If none of these apply you can select Other.</En>\n            <Fr>\n              Si aucun de ces éléments ne s'applique, vous pouvez sélectionner «\n              Autre'.\n            </Fr>\n          </SupplementalText>\n        </QuestionText>\n        <CheckBoxList\n          name=\"eov\"\n          value={record.eov || []}\n          onChange={handleInputChange}\n          options={eovList}\n          optionLabels={eovList.map((e) => {\n            return camelToSentenceCase(translate(e, language));\n          })}\n          disabled={disabled}\n        />\n      </Paper>\n      <Paper style={paperClass}>\n        <Grid container spacing={3} direction=\"column\">\n          <Grid item xs>\n            <QuestionText>\n              <En>\n                What are the keywords that describe the dataset? Select from the\n                list or create your own.\n              </En>\n              <Fr>\n                Quels sont les mots-clés qui décrivent le jeu de données ?\n                Sélectionnez dans la liste ou créez le vôtre.\n              </Fr>\n              <RequiredMark passes={validateField(record, \"keywords\")} />\n              <SupplementalText>\n                <En> Enter one at a time, clicking 'Add' after each.</En>\n                <Fr>\n                  Entrez un à la fois, en cliquant sur « Ajouter » après chaque.\n                </Fr>\n              </SupplementalText>\n            </QuestionText>\n          </Grid>\n          <Grid item xs>\n            <KeywordsInput\n              name=\"keywords\"\n              value={record.keywords}\n              onChange={handleInputChange}\n              disabled={disabled}\n            />\n          </Grid>\n        </Grid>\n      </Paper>\n      <Paper style={paperClass}>\n        <QuestionText>\n          <En>What is the status of this dataset?</En>\n          <Fr>Quel est l'état de ce jeu de données?</Fr>\n          <RequiredMark passes={validateField(record, \"progress\")} />\n        </QuestionText>\n        <SelectInput\n          name=\"progress\"\n          value={record.progress || \"\"}\n          onChange={(e) => handleInputChange(e)}\n          options={progressCodes.map(([code]) => code)}\n          optionLabels={progressCodes.map(([code]) => {\n            return camelToSentenceCase(translate(code, language));\n          })}\n          optionTooltips={progressCodes.map(([, description]) => description)}\n          disabled={disabled}\n          fullWidth={false}\n          style={{ width: \"200px\" }}\n        />\n      </Paper>\n\n      <Paper style={paperClass}>\n        <QuestionText>\n          <En>What is the start date when data was first collected?</En>\n          <Fr>\n            Quelle est la date de début à laquelle les données ont été\n            collectées pour la première fois?\n          </Fr>\n        </QuestionText>\n        <DateInput\n          name=\"dateStart\"\n          value={record.dateStart || null}\n          onChange={handleInputChange}\n          disabled={disabled}\n        />\n        <QuestionText>\n          <En>\n            What is the end date when data was last collected? Leave blank if\n            data collection is ongoing.\n          </En>\n          <Fr>\n            Quelle est la date de fin à laquelle les données ont été collectées\n            pour la dernière fois? Laissez vide si la collecte des données est\n            en cours.\n          </Fr>\n        </QuestionText>\n        <DateInput\n          name=\"dateEnd\"\n          value={record.dateEnd || null}\n          onChange={handleInputChange}\n          disabled={disabled}\n        />\n      </Paper>\n      <Paper style={paperClass}>\n        <QuestionText>\n          <En>\n            What is the date when the data was published? Leave blank if dataset\n            hasn't been published.\n          </En>\n          <Fr>\n            Quelle est la date de début à laquelle les données ont été publiées\n            ? Laissez vide si les données n'ont pas été publiées.\n          </Fr>\n        </QuestionText>\n        <DateInput\n          name=\"datePublished\"\n          value={record.datePublished || null}\n          onChange={handleInputChange}\n          disabled={disabled}\n        />\n      </Paper>\n\n      <Paper style={paperClass}>\n        <QuestionText>\n          <En>\n            What is the date when data was revised? Leave blank if dataset\n            hasn't been revised.\n          </En>\n          <Fr>\n            Quelle est la date à laquelle les données ont été révisées ? Laissez\n            vide si le jeu de données n'a pas a été révisé.\n          </Fr>\n        </QuestionText>\n        <DateInput\n          name=\"dateRevised\"\n          value={record.dateRevised || null}\n          onChange={handleInputChange}\n          disabled={disabled}\n        />\n      </Paper>\n\n      <Paper style={paperClass}>\n        <QuestionText>\n          <En>What is the dataset identifier, eg DOI or other unique ID?</En>\n          <Fr>\n            Quel est l'identificateur du jeu de données, par exemple DOI ou\n            autre ID unique?\n          </Fr>\n        </QuestionText>\n        <TextField\n          style={{ marginTop: \"10px\" }}\n          name=\"datasetIdentifier\"\n          value={record.datasetIdentifier}\n          onChange={(e) => handleInputChange(e)}\n          fullWidth\n        />\n      </Paper>\n\n      <Paper style={paperClass}>\n        <QuestionText>\n          <En>How is the dataset licensed?</En>\n          <Fr>Comment le jeu de données est-il sous licence</Fr>\n          <RequiredMark passes={validateField(record, \"license\")} />\n          <SupplementalText>\n            <En>\n              <ul>\n                <li>\n                  <b>\n                    Creative Commons Attribution 4.0 International licence\n                    (CC-BY 4.0)\n                  </b>{\" \"}\n                  - CIOOS recommended. Allows for open sharing and adaptation of\n                  the data provided that the original creator is attributed.\n                </li>\n                <li>\n                  <b>Creative Commons 0</b> - imposes no restrictions of any\n                  kind.\n                </li>\n                <li>\n                  <b>Open Government Licence - Canada</b> - For datasets made\n                  available by Government of Canada departments and agencies, it\n                  is very similar to CC-BY as it allows for open sharing and\n                  adaptation of the data, provided that the original creator of\n                  the data is properly attributed.\n                </li>\n              </ul>\n            </En>\n            <Fr>\n              <ul>\n                <li>\n                  <b>\n                    Licence internationale Creative Commons Attribution 4.0\n                    (CC-BY 4.0){\" \"}\n                  </b>\n                  - CIOOS recommandé.permet le partage ouvert et l'adaptation de\n                  les données fournies que le créateur original est attribué.\n                </li>\n                <li>\n                  <b>Creative Commons 0</b> - n'impose aucune restriction\n                </li>\n                <li>\n                  <b>Licence pour gouvernement ouvert - Canada</b> - Pour les\n                  ensembles de données disponible par les ministères et\n                  organismes du gouvernement du Canada, très similaire à CC-BY\n                  car il permet le partage ouvert et adaptation des données à\n                  condition que le créateur initial du les données sont\n                  correctement attribuées.\n                </li>\n              </ul>\n            </Fr>\n          </SupplementalText>\n        </QuestionText>\n        <SelectInput\n          name=\"license\"\n          value={record.license}\n          onChange={(e) => handleInputChange(e)}\n          optionLabels={[\n            \"Creative Commons Attribution 4.0\",\n            \"Creative Commons 0\",\n            \"Open Government Licence - Canada\",\n            \"Apache License, Version 2.0\",\n          ]}\n          options={[\n            \"CC-BY-4.0\",\n            \"CC0\",\n            \"government-open-license-canada\",\n            \"Apache-2.0\",\n          ]}\n          disabled={disabled}\n        />\n      </Paper>\n      <Paper style={paperClass}>\n        <QuestionText>\n          <En>What are the limitations affecting the dataset?</En>\n          <Fr>Quelles sont les limitations affectant le jeu de données?</Fr>\n          <SupplementalText>\n            <En>\n              For example:\n              <i>\n                <ul>\n                  <li>Not to be used for navigational purposes.</li>\n                  <li>Instrument was not calibrated on day..</li>\n                  <li>Haven’t applied appropriate QC on the data yet.</li>\n                </ul>\n              </i>\n            </En>\n            <Fr>\n              Par exemple:\n              <i>\n                <ul>\n                  <li>Ne pas utiliser à des fins de navigation.</li>\n                  <li>L' instrument n'a pas été étalonné le jour..</li>\n                  <li>\n                    N' ont pas encore appliqué le contrôle de qualité approprié\n                    sur les données.\n                  </li>\n                </ul>\n              </i>\n            </Fr>\n          </SupplementalText>\n        </QuestionText>\n        <BilingualTextInput\n          name=\"limitations\"\n          value={record.limitations}\n          onChange={handleInputChange}\n          multiline\n          disabled={disabled}\n        />\n      </Paper>\n    </div>\n  );\n};\n\nexport default IdentificationTab;\n","import React, { useState } from \"react\";\nimport { Add, Delete } from \"@material-ui/icons\";\nimport {\n  TextField,\n  Grid,\n  Typography,\n  Button,\n  Paper,\n  List,\n  ListItem,\n  ListItemText,\n} from \"@material-ui/core\";\nimport { En, Fr, I18n } from \"../I18n\";\nimport BilingualTextInput from \"./BilingualTextInput\";\nimport { deepCopy } from \"../../utils/misc\";\n\nconst initial = {\n  id: \"\",\n  manufacturer: \"\",\n  version: \"\",\n  type: { en: \"\", fr: \"\" },\n  description: { en: \"\", fr: \"\" },\n};\n\nconst Instruments = ({ onChange, value = [], name, disabled, paperClass }) => {\n  const [activeContact, setActiveContact] = useState(0);\n\n  function addItem() {\n    onChange({\n      target: {\n        name,\n        value: value.concat(deepCopy(initial)),\n      },\n    });\n\n    setActiveContact(value.length);\n  }\n  function handleChange(e) {\n    const newValue = [...value];\n    const propName = e.target.name;\n    newValue[activeContact][propName] = e.target.value;\n    const parentEvent = { target: { name, value: newValue } };\n    onChange(parentEvent);\n  }\n  function removeItem() {\n    onChange({\n      target: {\n        name,\n        value: value.filter((e, index) => index !== activeContact),\n      },\n    });\n\n    if (value.length) setActiveContact(value.length - 2);\n  }\n\n  const manufacturerLabel = <I18n en=\"Manufacturer\" fr=\"Fabricant\" />;\n  const versionLabel = <I18n en=\"Version\" fr=\"Version\" />;\n  const typeLabel = <I18n en=\"Type\" fr=\"Type\" />;\n  const descriptionLabel = <I18n en=\"Description\" fr=\"Description\" />;\n\n  const instrument = value.length > 0 && value[activeContact];\n\n  return (\n    <Grid container direction=\"row\" spacing={3}>\n      <Grid item xs={3}>\n        <Grid container direction=\"column\" spacing={2}>\n          <Grid item xs>\n            Instruments:\n            <List>\n              {value.map((instrumentItem, i) => {\n                return (\n                  <ListItem key={i} button onClick={() => setActiveContact(i)}>\n                    <ListItemText\n                      primary={\n                        <Typography\n                          style={{\n                            fontWeight: activeContact === i ? \"bold\" : \"\",\n                          }}\n                        >\n                          {i + 1}. {instrumentItem.id}\n                        </Typography>\n                      }\n                    />\n                  </ListItem>\n                );\n              })}\n            </List>\n          </Grid>\n\n          <Grid item xs>\n            <Button\n              disabled={disabled}\n              startIcon={<Add />}\n              onClick={addItem}\n              style={{ height: \"56px\", marginLeft: \"10px\" }}\n            >\n              <En>Add instrument</En>\n              <Fr>Ajouter un instrument</Fr>\n            </Button>\n          </Grid>\n        </Grid>\n      </Grid>\n      <Grid item xs>\n        <Grid container direction=\"column\">\n          {instrument && (\n            <Paper style={paperClass}>\n              <Grid container direction=\"column\" spacing={2}>\n                <Grid item xs>\n                  Instrument ID is required\n                  <TextField\n                    label=\"ID\"\n                    name=\"id\"\n                    value={instrument.id}\n                    onChange={handleChange}\n                    fullWidth\n                    disabled={disabled}\n                  />\n                </Grid>\n                <Grid item xs>\n                  <TextField\n                    label={manufacturerLabel}\n                    name=\"manufacturer\"\n                    value={instrument.manufacturer}\n                    onChange={handleChange}\n                    fullWidth\n                    disabled={disabled}\n                  />{\" \"}\n                </Grid>\n                <Grid item xs>\n                  <TextField\n                    label={versionLabel}\n                    value={instrument.version}\n                    name=\"version\"\n                    onChange={handleChange}\n                    fullWidth\n                    disabled={disabled}\n                  />\n                </Grid>\n                <Grid item xs>\n                  <Typography>\n                    <En>Instrument Type</En>\n                    <Fr>Type d'instrument</Fr>\n                  </Typography>\n                  <BilingualTextInput\n                    name=\"type\"\n                    label={typeLabel}\n                    value={instrument.type}\n                    onChange={handleChange}\n                    disabled={disabled}\n                  />\n                </Grid>{\" \"}\n                <Grid item xs>\n                  <Typography>Description</Typography>\n                  <BilingualTextInput\n                    name=\"description\"\n                    label={descriptionLabel}\n                    value={instrument.description}\n                    onChange={handleChange}\n                    disabled={disabled}\n                  />\n                </Grid>\n                <Grid item xs>\n                  <Button\n                    startIcon={<Delete />}\n                    disabled={disabled}\n                    onClick={removeItem}\n                  >\n                    <En>Remove item</En>\n                    <Fr>Supprimer l'article</Fr>\n                  </Button>\n                </Grid>\n              </Grid>\n            </Paper>\n          )}\n          {/* <Paper style={paperClass}>\n            <Button startIcon={<Add />} disabled={disabled} onClick={addItem}>\n              <En>Add Instrument</En>\n              <Fr>Ajouter un article</Fr>\n            </Button>\n          </Paper> */}\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n};\nexport default Instruments;\n","import React from \"react\";\n\nimport { TextField, Grid } from \"@material-ui/core\";\n\nimport BilingualTextInput from \"./BilingualTextInput\";\nimport { QuestionText, SupplementalText, paperClass } from \"./QuestionStyles\";\nimport RequiredMark from \"./RequiredMark\";\nimport { En, Fr, I18n } from \"../I18n\";\nimport { validateField } from \"../../utils/validate\";\n\nconst Platform = ({ record, handleInputChange, disabled }) => (\n  <>\n    {/* TODO remove tacky negative margin */}\n    <Grid item xs style={{ ...paperClass, marginTop: \"-40px\" }}>\n      <QuestionText>\n        <En>Describe the platform</En>\n        <Fr>Décrire la plateforme</Fr>\n        <SupplementalText>\n          <En>Eg, the name or type of platform</En>\n          <Fr>Par exemple, le nom ou le type de plate-forme.</Fr>\n          <RequiredMark passes={validateField(record, \"platformDescription\")} />\n        </SupplementalText>\n      </QuestionText>\n      <BilingualTextInput\n        name=\"platformDescription\"\n        value={record.platformDescription}\n        onChange={handleInputChange}\n        multiline\n        disabled={disabled}\n      />\n    </Grid>\n\n    <Grid item xs style={paperClass}>\n      <QuestionText>\n        <En>What is the platform ID or code?</En>\n        <Fr>Qu'est-ce que l'ID de plate-forme ?</Fr>\n        <SupplementalText>\n          <En>\n            This is a unique identification of the platform. If the platform is\n            registered with ICES, use that identifier\n          </En>\n          <Fr>\n            Il s'agit d'une identification unique de la plateforme. Si la\n            plateforme est enregistrée auprès du CIEM, utilisez cet\n            identificateur\n          </Fr>\n          <RequiredMark passes={validateField(record, \"platformID\")} />\n        </SupplementalText>\n      </QuestionText>\n\n      <TextField\n        label={<I18n en=\"Platform ID\" fr=\"ID de plateforme\" />}\n        name=\"platformID\"\n        value={record.platformID}\n        onChange={handleInputChange}\n        fullWidth\n        disabled={disabled}\n      />\n    </Grid>\n  </>\n);\n\nexport default Platform;\n","import React from \"react\";\n\nimport { Paper, Grid, FormControlLabel, Checkbox } from \"@material-ui/core\";\nimport Instruments from \"../FormComponents/Instruments\";\n\nimport { QuestionText, paperClass } from \"../FormComponents/QuestionStyles\";\nimport RequiredMark from \"../FormComponents/RequiredMark\";\nimport Platform from \"../FormComponents/Platform\";\nimport { En, Fr } from \"../I18n\";\nimport { validateField } from \"../../utils/validate\";\n\nconst PlatformTab = ({ disabled, record, handleInputChange }) => {\n  const { noPlatform = false } = record;\n  return (\n    <div>\n      <Paper style={paperClass}>\n        <Grid container direction=\"column\" spacing={0}>\n          <Grid item xs style={paperClass}>\n            <QuestionText>\n              <En>\n                A platform is anything used in data collection that has\n                instrument(s) attached to it. Eg:\n                <ul>\n                  <li>Glider</li>\n                  <li>Ship</li>\n                  <li>Buoy</li>\n                  <li>Satellite</li>\n                  <li>Rossette</li>\n                  <li>ROV</li>\n                  <li>Mooring</li>\n                </ul>\n                It is strongly encouraged to fill out platform information. If\n                there is no platform, you can enter instruments at the bottom of\n                the page.\n              </En>\n              <Fr>\n                Une plate-forme est tout ce qui est utilisé dans la collecte de\n                données auquel un ou plusieurs instruments sont attachés. Par\n                exemple :\n                <ul>\n                  <li>Planeur</li>\n                  <li>Navire</li>\n                  <li>Bouée</li>\n                  <li>Satellite</li>\n                  <li>Rossette</li>\n                  <li>ROV</li>\n                  <li>Amarrage</li>\n                </ul>\n                Il est fortement encouragé à renseigner les informations sur la\n                plateforme. Si il n'y a pas de plate-forme, vous pouvez entrer\n                des instruments au bas de la page.\n              </Fr>\n            </QuestionText>\n\n            <FormControlLabel\n              disabled={disabled}\n              control={\n                <Checkbox\n                  name=\"noPlatform\"\n                  checked={noPlatform}\n                  onChange={(e) => {\n                    const { checked } = e.target;\n\n                    handleInputChange({\n                      target: { name: \"noPlatform\", value: checked },\n                    });\n                  }}\n                />\n              }\n              label={\n                <>\n                  <En>This dataset doesn't have a platform</En>\n                  <Fr>Ce jeu de données n'a pas de plate-forme</Fr>\n                </>\n              }\n            />\n          </Grid>\n\n          <Grid item xs style={paperClass}>\n            {!noPlatform ? (\n              <>\n                <Platform\n                  record={record}\n                  handleInputChange={handleInputChange}\n                  disabled={disabled}\n                />\n\n                <QuestionText>\n                  <En>\n                    At least one instrument is required if there is a platform.\n                  </En>\n                  <Fr>\n                    Au moins un instrument est requis s'il y a une plate-forme.\n                  </Fr>\n\n                  <RequiredMark passes={validateField(record, \"instruments\")} />\n                </QuestionText>\n              </>\n            ) : (\n              <QuestionText>\n                <En>You can still enter an instrument without a platform</En>\n                <Fr>\n                  Vous pouvez toujours entrer dans un instrument sans\n                  plate-forme\n                </Fr>\n              </QuestionText>\n            )}\n\n            <Instruments\n              value={record.instruments}\n              onChange={handleInputChange}\n              name=\"instruments\"\n              disabled={disabled}\n              paperClass={paperClass}\n              noPlatform={noPlatform}\n            />\n          </Grid>\n        </Grid>\n      </Paper>\n    </div>\n  );\n};\nexport default PlatformTab;\n","/* eslint-disable no-case-declarations */\n/* eslint-disable no-underscore-dangle */\nimport React, { useState } from \"react\";\n\nimport { TextField, Grid, Typography } from \"@material-ui/core\";\nimport L from \"leaflet\";\nimport {\n  Map,\n  TileLayer,\n  FeatureGroup,\n  withLeaflet,\n  Polygon as LeafletPolygon,\n  Rectangle as LeafletRectangle,\n} from \"react-leaflet\";\nimport { EditControl } from \"react-leaflet-draw\";\nimport \"leaflet/dist/leaflet.css\";\nimport \"leaflet-draw/dist/leaflet.draw.css\";\nimport { I18n, En, Fr } from \"../I18n\";\n\nimport { QuestionText, SupplementalText } from \"./QuestionStyles\";\nimport { validateField } from \"../../utils/validate\";\nimport RequiredMark from \"./RequiredMark\";\n\nconst MapSelect = ({ onChange, value = {}, name, disabled, record }) => {\n  function onEditPath() {}\n\n  function onDeleted() {\n    const newVal = {\n      north: \"\",\n      south: \"\",\n      east: \"\",\n      west: \"\",\n      polygon: \"\",\n    };\n\n    onChange({ target: { name, value: newVal } });\n  }\n\n  const [editableFG, setEditableFG] = useState(null);\n  const [, setLayerError] = useState(null);\n\n  const coordTest = /-?\\d+\\.?\\d+/;\n  const polyTest = /-?\\d+\\.?\\d+,\\s*-?\\d+\\.?\\d+\\s*?/g;\n\n  function clearExtraLayers(drawnItems) {\n    // From https://stackoverflow.com/questions/61073568/delete-layer-before-creating-a-new-one-with-react-leaflet-draw-in-leaflet\n    // Only allow one box on the map at a time\n    // if the number of layers is bigger than 1 then delete the first\n    if (Object.keys(drawnItems).length > 1) {\n      Object.keys(drawnItems).forEach((layerid) => {\n        const existingLayers = Object.keys(editableFG.leafletElement._layers)\n          .length;\n\n        if (existingLayers === 1) return;\n\n        const layer = drawnItems[layerid];\n\n        editableFG.leafletElement.removeLayer(layer);\n      });\n    }\n  }\n\n  function handleChange(e) {\n    const drawnItems = editableFG.leafletElement._layers;\n    clearExtraLayers(drawnItems);\n\n    const newData = { ...value, [e.target.name]: e.target.value };\n\n    onChange({ target: { name, value: newData } });\n  }\n\n  function handleChangePoly(e) {\n    const drawnItems = editableFG.leafletElement._layers;\n    clearExtraLayers(drawnItems);\n\n    const newData = { ...value, [e.target.name]: e.target.value };\n    onChange({ target: { name, value: newData } });\n  }\n\n  function limitDecimals(x) {\n    return Number.parseFloat(x).toPrecision(4);\n  }\n\n  function parsePolyString(polygonList) {\n    let coordList = [...polygonList.matchAll(polyTest)].map((match) => {\n      return match[0];\n    });\n\n    try {\n      coordList = coordList.map((point) => {\n        return point.split(\",\").map(Number);\n      });\n    } catch (error) {\n      setLayerError({ error });\n    }\n\n    return coordList;\n  }\n\n  const hasBoundingBox = (\n    test_n = value.north,\n    test_s = value.south,\n    test_e = value.east,\n    test_w = value.west\n  ) => {\n    const test =\n      coordTest.test(test_n) &&\n      coordTest.test(test_s) &&\n      coordTest.test(test_e) &&\n      coordTest.test(test_w);\n\n    return test;\n  };\n\n  const hasPolygon = (test_string = value.polygon) => {\n    return polyTest.test(test_string);\n  };\n\n  const onCreated = (e) => {\n    const { layer, layerType } = e;\n\n    // remove any existing shapes\n    const drawnItems = editableFG.leafletElement._layers;\n    clearExtraLayers(drawnItems);\n\n    switch (layerType) {\n      case \"polygon\":\n        const points = layer.getLatLngs()[0];\n        const polygonStrings = points.map(\n          ({ lat, lng }) => `${limitDecimals(lat)},${limitDecimals(lng)}`\n        );\n        const polygon = polygonStrings.concat(polygonStrings[0]).join(\" \");\n\n        onChange({ target: { name, value: { polygon } } });\n        break;\n\n      default: // Assume rectangle\n      case \"rectangle\":\n        const bounds = layer.getBounds();\n\n        let { lat: north, lng: east } = bounds.getNorthEast().wrap();\n        let { lat: south, lng: west } = bounds.getSouthWest().wrap();\n\n        north = limitDecimals(north);\n        south = limitDecimals(south);\n        east = limitDecimals(east);\n        west = limitDecimals(west);\n\n        const newValue = { north, south, east, west };\n        onChange({ target: { name, value: newValue } });\n    }\n  };\n\n  const onFeatureGroupReady = (reactFGref) => {\n    // store the featureGroup ref for future access to content\n    setEditableFG(reactFGref);\n  };\n  L.EditToolbar.Delete.include({\n    enable() {\n      // eslint-disable-next-line react/no-this-in-sfc\n      this.options.featureGroup.clearLayers();\n      onDeleted();\n    },\n  });\n\n  const bboxIsDrawn = Boolean(\n    value.north || value.south || value.east || value.west\n  );\n\n  const fieldsAreEmpty = !bboxIsDrawn && !value.polygon;\n\n  return (\n    <div>\n      <Map\n        style={{ width: \"100%\", height: \"55vh\" }}\n        center={[50, -100]}\n        zoom={3}\n\n        // whenReady={loadExistingExtent}\n      >\n        <TileLayer\n          attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n        <FeatureGroup\n          ref={(featureGroupRef) => {\n            onFeatureGroupReady(featureGroupRef);\n          }}\n        >\n          {disabled === false && (\n            <EditControl\n              position=\"topleft\"\n              onEdited={onEditPath}\n              onCreated={onCreated}\n              onDeleted={onDeleted}\n              draw={{\n                marker: false,\n                circle: false,\n                polyline: false,\n                circlemarker: false,\n                polygon: true,\n              }}\n              edit={{\n                edit: false,\n              }}\n            />\n          )}\n\n          {hasPolygon() && (\n            <LeafletPolygon positions={parsePolyString(value.polygon)} />\n          )}\n\n          {hasBoundingBox() && (\n            <LeafletRectangle\n              bounds={[\n                [value.north, value.east],\n                [value.south, value.west],\n              ]}\n            />\n          )}\n        </FeatureGroup>\n      </Map>\n      <br />\n      <QuestionText>\n        <En>Bounding Box Coordinates</En>\n        <Fr>\n          Veuillez fournir les coordonnées en degrés décimaux et non en secondes\n          décimales.\n        </Fr>\n        {(bboxIsDrawn || fieldsAreEmpty) && (\n          <RequiredMark passes={validateField(record, \"map\")} />\n        )}\n        <SupplementalText>\n          <En>\n            If you are providing a bounding box, please provide the coordinates\n            in decimal degrees and not in decimal minutes seconds.\n          </En>\n          <Fr>\n            If you are providing a bounding box, please provide the coordinates\n            in decimal degrees and not in decimal minutes seconds.\n          </Fr>\n        </SupplementalText>\n      </QuestionText>\n      <Grid container direction=\"row\" spacing={3}>\n        <Grid item xs={2}>\n          <TextField\n            name=\"north\"\n            label={<I18n en=\"North\" fr=\"Nord\" />}\n            value={value.north || \"\"}\n            inputProps={{ inputMode: \"numeric\", pattern: \"[0-9]*\" }}\n            onChange={handleChange}\n            type=\"number\"\n            disabled={disabled || Boolean(value.polygon)}\n          />\n        </Grid>\n        <Grid item xs={2}>\n          <TextField\n            name=\"south\"\n            label={<I18n en=\"South\" fr=\"Sud\" />}\n            value={value.south || \"\"}\n            onChange={handleChange}\n            type=\"number\"\n            disabled={disabled || Boolean(value.polygon)}\n          />\n        </Grid>\n        <Grid item xs={2}>\n          <TextField\n            name=\"east\"\n            label={<I18n en=\"East\" fr=\"Est\" />}\n            value={value.east || \"\"}\n            onChange={handleChange}\n            type=\"number\"\n            disabled={disabled || Boolean(value.polygon)}\n          />\n        </Grid>\n        <Grid item xs={2}>\n          <TextField\n            name=\"west\"\n            value={value.west || \"\"}\n            label={<I18n en=\"West\" fr=\"Ouest\" />}\n            onChange={handleChange}\n            type=\"number\"\n            disabled={disabled || Boolean(value.polygon)}\n          />\n        </Grid>\n      </Grid>\n\n      <Typography variant=\"h6\" style={{ margin: \"20px\", marginLeft: \"20%\" }}>\n        OR\n      </Typography>\n\n      <QuestionText>\n        <En>Polygon coordinates</En>\n        <Fr>Les coordonnées des polygones</Fr>\n        {(!bboxIsDrawn || fieldsAreEmpty) && (\n          <RequiredMark passes={validateField(record, \"map\")} />\n        )}\n        <SupplementalText>\n          <En>\n            If you are providing polygon coordinates, they must start and end\n            with the same point. Eg,\n          </En>\n          <Fr>\n            Doivent commencer et se terminer par le même point. Par exemple,\n          </Fr>{\" \"}\n          48,-128 56,-133 56,-147 48,-128\n        </SupplementalText>\n      </QuestionText>\n      <TextField\n        name=\"polygon\"\n        value={value.polygon || \"\"}\n        onChange={handleChangePoly}\n        type=\"text\"\n        fullWidth\n        disabled={disabled || bboxIsDrawn}\n      />\n    </div>\n  );\n};\n\nexport default withLeaflet(MapSelect);\n","import { Paper, TextField, Grid } from \"@material-ui/core\";\nimport React from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport { En, Fr } from \"../I18n\";\nimport RequiredMark from \"../FormComponents/RequiredMark\";\n\nimport MapSelect from \"../FormComponents/MapSelect\";\nimport { camelToSentenceCase } from \"../../utils/misc\";\nimport SelectInput from \"../FormComponents/SelectInput\";\nimport { depthDirections } from \"../../isoCodeLists\";\nimport translate from \"../../utils/i18n\";\n\nimport {\n  QuestionText,\n  SupplementalText,\n  paperClass,\n} from \"../FormComponents/QuestionStyles\";\nimport { validateField } from \"../../utils/validate\";\n\nconst SpatialTab = ({ disabled, record, handleInputChange }) => {\n  const { language } = useParams();\n\n  return (\n    <Grid>\n      <Paper style={paperClass}>\n        <QuestionText style={{ paddingBottom: \"15px\" }}>\n          <En>What is the spatial extent of the dataset?</En>\n          <Fr>What is the spatial extent of the dataset?</Fr>{\" \"}\n          <SupplementalText>\n            <En>\n              You can draw a bounding box or polygon for the dataset using the\n              Polygon or Box buttons at the left side of them form.\n              Alternatively you can enter them using the fields below. Either a\n              bounding box or a Polygon is required.\n            </En>\n            <Fr>\n              Vous pouvez dessiner un cadre de sélection ou un polygone pour le\n              jeu de données, ou entrer à l'aide des champs ci-dessous. Le cadre\n              de sélection ou le polygone est requis.\n            </Fr>\n          </SupplementalText>\n        </QuestionText>\n        <MapSelect\n          value={record.map}\n          name=\"map\"\n          onChange={handleInputChange}\n          disabled={disabled}\n          record={record}\n        />\n      </Paper>\n      <Paper style={paperClass}>\n        <QuestionText>\n          <En>What is the vertical extent of the dataset in meters?</En>\n          <Fr>What is the vertical extent of the dataset in meters?</Fr>\n          <RequiredMark\n            passes={\n              validateField(record, \"verticalExtentDirection\") &&\n              validateField(record, \"verticalExtentMin\") &&\n              validateField(record, \"verticalExtentMax\")\n            }\n          />\n\n          <SupplementalText>\n            <En>\n              <p>\n                This captures the minimum and maximum depths (or height from sea\n                floor) where the instrument recorded data.\n              </p>\n              <p>\n                Depth positive: Depth is recorded with positive values (i.e. a\n                maximum value of 150m implies 150m below the surface).\n                <br />\n                Heigth positive: Depth is the elevation from the sea floor (i.e.\n                a maximum value of 150m implies 150m above the sea floor).\n              </p>\n            </En>\n            <Fr>\n              <p>\n                Profondeur positive: La profondeur est enregistrée avec des\n                valeurs positives (c'est-à-dire une valeur maximale de 150 m\n                implique 150 m au-dessous de la surface).\n              </p>\n              <p>\n                Hauteur positive: La profondeur est l'élévation depuis le fond\n                marin (c'est-à-dire une valeur maximale de 150 m implique 150 m\n                au-dessus du fond marin)\n              </p>\n            </Fr>\n          </SupplementalText>\n        </QuestionText>\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"flex-start\"\n          alignItems=\"flex-start\"\n          spacing={4}\n        >\n          <Grid item xs={5}>\n            <SelectInput\n              name=\"verticalExtentDirection\"\n              value={record.verticalExtentDirection || \"\"}\n              onChange={(e) => handleInputChange(e)}\n              options={depthDirections}\n              optionLabels={depthDirections.map((e) =>\n                camelToSentenceCase(translate(e, language))\n              )}\n              disabled={disabled}\n            />\n          </Grid>\n          <Grid item xs={2}>\n            <TextField\n              name=\"verticalExtentMin\"\n              value={record.verticalExtentMin}\n              onChange={handleInputChange}\n              label=\"Min\"\n              fullWidth\n              type=\"number\"\n              disabled={disabled}\n            />\n          </Grid>\n          <Grid item xs={2}>\n            <TextField\n              name=\"verticalExtentMax\"\n              value={record.verticalExtentMax}\n              onChange={handleInputChange}\n              label=\"Max\"\n              fullWidth\n              type=\"number\"\n              disabled={disabled}\n            />\n          </Grid>\n        </Grid>\n      </Paper>\n    </Grid>\n  );\n};\n\nexport default SpatialTab;\n","import React, { useState } from \"react\";\n\nimport {\n  Paper,\n  Grid,\n  List,\n  ListItem,\n  ListItemText,\n  Typography,\n  Button,\n  CircularProgress,\n} from \"@material-ui/core\";\n\nimport { useParams } from \"react-router-dom\";\nimport { camelToSentenceCase } from \"../../utils/misc\";\n\nimport { paperClass } from \"../FormComponents/QuestionStyles\";\n\nimport { En, Fr } from \"../I18n\";\n\nimport { getErrorsByTab, percentValid } from \"../../utils/validate\";\n\nconst SubmitTab = ({ record, submitRecord }) => {\n  const [isSubmitting, setSubmitting] = useState(false);\n\n  const { language } = useParams();\n\n  function submit() {\n    setSubmitting(true);\n    submitRecord().then(() => setSubmitting(false));\n  }\n\n  const percentValidInt = Math.round(percentValid(record) * 100);\n  const recordIsComplete = percentValidInt === 100;\n\n  const validationErrors = getErrorsByTab(record);\n  const submitted = record.status === \"submitted\";\n\n  return (\n    <Paper style={paperClass}>\n      <Grid container direction=\"column\" spacing={3}>\n        <Grid item xs>\n          <Typography>\n            <En>\n              Use this page to submit your metadata record, as well as see which\n              required fields are missing.\n            </En>\n            <Fr>\n              Utilisez cette page pour soumettre votre enregistrement de\n              métadonnées, ainsi que les champs obligatoires sont manquants.\n            </Fr>\n          </Typography>\n        </Grid>\n        {submitted ? (\n          <Grid item xs>\n            <Typography>\n              <En>\n                Thank you for your submission. A reviewer has been notified. You\n                will receive an email when the record is published. You are\n                still able to edit this record by saving it, until it is\n                published.\n              </En>\n              <Fr>\n                Merci pour votre soumission. Un examinateur a été avisé. Vous\n                recevrez un e-mail lors de la publication de l'enregistrement.\n                Vous pouvez toujours modifier cet enregistrement en\n                l'enregistrant, jusqu'à ce qu'il soit publié.\n              </Fr>\n            </Typography>\n          </Grid>\n        ) : (\n          <>\n            {recordIsComplete ? (\n              <>\n                <Grid item xs>\n                  <Typography>\n                    <En>\n                      You have completed all of the required fields, your record\n                      can be submitted now.\n                    </En>\n                    <Fr>\n                      Vous avez rempli tous les champs obligatoires, votre\n                      dossier peut être soumis maintenant.\n                    </Fr>\n                  </Typography>\n                </Grid>\n                <Grid item xs>\n                  {isSubmitting ? (\n                    <CircularProgress />\n                  ) : (\n                    <Button onClick={submit} disabled={submitted}>\n                      <En>Submit</En>\n                      <Fr>Soumettre</Fr>\n                    </Button>\n                  )}\n                </Grid>\n              </>\n            ) : (\n              <>\n                <Grid item xs>\n                  <Typography>\n                    <En>\n                      You haven't completed all of the required fields. You will\n                      need to address the list below before submitting.\n                    </En>\n                    <Fr>\n                      Vous n'avez pas rempli tous les champs obligatoires. Vous\n                      devrez vous adresser à la liste ci-dessous avant de\n                      soumettre votre demande.\n                    </Fr>\n                  </Typography>\n                </Grid>\n\n                <Grid item xs>\n                  {Object.keys(validationErrors).map((tab) => (\n                    <div key={tab}>\n                      <Typography variant=\"h6\">\n                        {camelToSentenceCase(tab)}\n                      </Typography>\n                      <List>\n                        {validationErrors[tab].map(\n                          ({ [language]: error }, i) => (\n                            <ListItem key={i}>\n                              <ListItemText primary={error} />\n                            </ListItem>\n                          )\n                        )}\n                      </List>\n                    </div>\n                  ))}\n                </Grid>\n              </>\n            )}\n          </>\n        )}\n      </Grid>\n    </Paper>\n  );\n};\nexport default SubmitTab;\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React, { Component } from \"react\";\nimport {\n  Box,\n  CircularProgress,\n  Grid,\n  Tab,\n  Tabs,\n  Fab,\n  Tooltip,\n  Typography,\n  LinearProgress,\n} from \"@material-ui/core\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { Save } from \"@material-ui/icons\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { withRouter } from \"react-router-dom\";\nimport { I18n, En, Fr } from \"../I18n\";\nimport StatusChip from \"../FormComponents/StatusChip\";\nimport LastEdited from \"../FormComponents/LastEdited\";\n\nimport StartTab from \"../Tabs/StartTab\";\nimport ContactTab from \"../Tabs/ContactTab\";\nimport DistributionTab from \"../Tabs/DistributionTab\";\nimport IdentificationTab from \"../Tabs/IdentificationTab\";\nimport PlatformTab from \"../Tabs/PlatformTab\";\nimport SpatialTab from \"../Tabs/SpatialTab\";\nimport SubmitTab from \"../Tabs/SubmitTab\";\n\nimport { auth } from \"../../auth\";\nimport firebase from \"../../firebase\";\nimport { firebaseToJSObject } from \"../../utils/misc\";\nimport { UserContext } from \"../../providers/UserProvider\";\nimport { percentValid } from \"../../utils/validate\";\n\nconst LinearProgressWithLabel = ({ value }) => (\n  <Tooltip\n    title={\n      <I18n\n        en=\"Percentage of required fields filled in\"\n        fr=\"Pourcentage de champs obligatoires remplis\"\n      />\n    }\n  >\n    <Box display=\"flex\" width=\"90%\" style={{ margin: \"auto\" }}>\n      <Box width=\"100%\" mr={1}>\n        <LinearProgress\n          variant=\"determinate\"\n          value={value}\n          style={{ marginLeft: \"-30px\" }}\n        />\n      </Box>\n      <Box minWidth={35}>\n        <Typography variant=\"body2\" color=\"textSecondary\">{`${Math.round(\n          value\n        )}%`}</Typography>\n      </Box>\n    </Box>\n  </Tooltip>\n);\n\nfunction TabPanel({ children, value, index, ...other }) {\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box>{children}</Box>}\n    </div>\n  );\n}\n\nconst styles = () => ({\n  tabRoot: {\n    minWidth: \"115px\",\n  },\n});\nclass MetadataForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      record: {\n        title: { en: \"\", fr: \"\" },\n        abstract: { en: \"\", fr: \"\" },\n        identifier: uuidv4(),\n        keywords: { en: [], fr: [] },\n        eov: [],\n        progress: \"\",\n        distribution: [],\n        dateStart: null,\n        map: { north: \"\", south: \"\", east: \"\", west: \"\", polygon: \"\" },\n\n        verticalExtentMin: \"\",\n        verticalExtentMax: \"\",\n        datePublished: null,\n        dateRevised: null,\n        recordID: \"\",\n        instruments: [],\n        platformID: \"\",\n        platformDescription: \"\",\n        language: \"\",\n        license: \"\",\n        contacts: [],\n        status: \"\",\n        comment: \"\",\n        history: \"\",\n        limitations: \"\",\n        created: new Date().toISOString(),\n        category: \"\",\n        verticalExtentDirection: \"\",\n        datasetIdentifier: \"\",\n        noPlatform: false,\n      },\n\n      // contacts saved by user (not the ones saved in the record)\n      // kept in firebase object format instead of array\n      userContacts: {},\n\n      // UI state:\n      loading: false,\n      tabIndex: \"start\",\n\n      // whether the 'save' icon button is greyed out or not\n      saveDisabled: true,\n\n      highlightMissingRequireFields: false,\n\n      userinfo: { email: \"\", displayName: \"\" },\n    };\n  }\n\n  componentDidMount() {\n    const { match } = this.props;\n    this.setState({ loading: true });\n\n    this.unsubscribe = auth.onAuthStateChanged(async (user) => {\n      if (user) {\n        const { region, recordID } = match.params;\n\n        // either from the URL if its a record in review or from auth\n        const recordLoadedFromURL = Boolean(match.params.userID);\n\n        const userID = match.params.userID || user.uid;\n\n        const userDataRef = firebase\n          .database()\n          .ref(region)\n          .child(\"users\")\n          .child(userID);\n\n        if (recordLoadedFromURL)\n          userDataRef.child(\"userinfo\").on(\"value\", (userinfo) => {\n            this.setState({ userinfo: userinfo.toJSON() });\n          });\n\n        // get contacts\n        userDataRef.child(\"contacts\").on(\"value\", (contacts) => {\n          this.setState({ userContacts: contacts.toJSON() });\n        });\n\n        // if recordID is set then the user is editing an existing record\n        if (userID && recordID) {\n          userDataRef\n            .child(\"records\")\n            .child(recordID)\n            .on(\"value\", (recordFireBase) => {\n              const record = firebaseToJSObject(recordFireBase.toJSON());\n              this.setState({\n                record: { ...record, recordID },\n              });\n              this.setState({ loading: false });\n            });\n        } else {\n          this.setState({ loading: false });\n        }\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    // fixes error Can't perform a React state update on an unmounted component\n    if (this.unsubscribe) this.unsubscribe();\n  }\n\n  // genereric handler for updating state, used by most form components\n  handleInputChange = (event) => {\n    const { name, value } = event.target;\n    const changes = { [name]: value };\n\n    this.setState(({ record }) => ({\n      record: { ...record, ...changes },\n      saveDisabled: false,\n    }));\n  };\n\n  // eslint-disable-next-line class-methods-use-this\n  async submitRecord() {\n    const { match } = this.props;\n    const { region } = match.params;\n    const { record } = this.state;\n    const { recordID } = record;\n\n    if (auth.currentUser && recordID) {\n      firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(auth.currentUser.uid)\n        .child(\"records\")\n        .child(recordID)\n        .child(\"status\")\n        .set(\"submitted\");\n    }\n  }\n\n  async handleSubmitClick() {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    const userID = match.params.userID || auth.currentUser.uid;\n\n    const recordsRef = firebase\n      .database()\n      .ref(region)\n      .child(\"users\")\n      .child(userID)\n      .child(\"records\");\n\n    // remove userContacts since they get saved elsewhere\n    const { record } = this.state;\n    record.created = new Date().toISOString();\n\n    if (record.recordID) {\n      await recordsRef.child(record.recordID).update(record);\n    } else {\n      const newNode = await recordsRef.push(record);\n\n      // cheesy workaround to the issue of push() not saving dates\n      await newNode.update(record);\n      const recordID = newNode.key;\n      this.setState({\n        record: { ...record, recordID },\n      });\n    }\n\n    this.setState({ saveDisabled: true });\n  }\n\n  render() {\n    const { match } = this.props;\n    const { language } = match.params;\n    const { isReviewer } = this.context;\n\n    const recordLoadedFromURL = Boolean(match.params.userID);\n\n    const {\n      userContacts,\n      tabIndex,\n      record,\n      saveDisabled,\n      loading,\n      highlightMissingRequireFields,\n      userinfo,\n    } = this.state;\n\n    const { classes } = this.props;\n\n    const disabled =\n      (!isReviewer && record.status === \"submitted\") ||\n      record.status === \"published\";\n\n    const tabProps = {\n      highlightMissingRequireFields,\n      disabled,\n      record,\n      handleInputChange: this.handleInputChange,\n    };\n    const percentValidInt = Math.round(percentValid(record) * 100);\n\n    return loading ? (\n      <CircularProgress />\n    ) : (\n      <Grid\n        container\n        direction=\"column\"\n        justify=\"space-between\"\n        alignItems=\"stretch\"\n        spacing={3}\n      >\n        <Tooltip\n          placement=\"left-start\"\n          title={\n            saveDisabled\n              ? \"Dataset needs a title before it can be saved\"\n              : \"Save record.\"\n          }\n        >\n          <span>\n            <Fab\n              color=\"primary\"\n              aria-label=\"add\"\n              style={{\n                right: 20,\n                bottom: 20,\n                position: \"fixed\",\n              }}\n              disabled={\n                saveDisabled ||\n                !(record.title.en || record.title.fr) ||\n                disabled\n              }\n              onClick={() => this.handleSubmitClick()}\n            >\n              <Save />\n            </Fab>\n          </span>\n        </Tooltip>\n        <Grid container spacing={2} direction=\"row\" alignItems=\"center\">\n          <Grid item xs>\n            <Tabs\n              scrollButtons=\"auto\"\n              variant=\"fullWidth\"\n              value={tabIndex}\n              onChange={(e, newValue) => this.setState({ tabIndex: newValue })}\n              aria-label=\"simple tabs example\"\n            >\n              <Tab\n                fullWidth\n                classes={{ root: classes.tabRoot }}\n                label=\"Start\"\n                value=\"start\"\n              />\n              <Tab\n                fullWidth\n                classes={{ root: classes.tabRoot }}\n                label={\n                  <I18n\n                    en=\"Data Identification\"\n                    fr=\"Identification des données\"\n                  />\n                }\n                value=\"identification\"\n              />\n              <Tab\n                fullWidth\n                classes={{ root: classes.tabRoot }}\n                label=\"Spatial\"\n                value=\"spatial\"\n              />\n              <Tab\n                fullWidth\n                classes={{ root: classes.tabRoot }}\n                label=\"Contact\"\n                value=\"contact\"\n              />\n              <Tab\n                fullWidth\n                classes={{ root: classes.tabRoot }}\n                label={<I18n en=\"Resources\" fr=\"Ressources\" />}\n                value=\"distribution\"\n              />\n              <Tab\n                fullWidth\n                classes={{ root: classes.tabRoot }}\n                label={<I18n en=\"Platform\" fr=\"Plateforme\" />}\n                value=\"platform\"\n              />\n              <Tab\n                fullWidth\n                classes={{ root: classes.tabRoot }}\n                label={<I18n en=\"Submit\" fr=\"Soumettre\" />}\n                value=\"submit\"\n                disabled={\n                  record.status === \"submitted\" || record.status === \"published\"\n                }\n              />\n            </Tabs>\n            <div style={{ marginTop: \"10px\", textAlign: \"center\" }}>\n              <Typography variant=\"h5\">\n                {(language && record.title && record.title[language]) || (\n                  <I18n en=\"New Record\" fr=\"Nouveau Record\" />\n                )}{\" \"}\n                <StatusChip status={record.status} />\n              </Typography>\n              <Typography component=\"div\">\n                <i>\n                  <LastEdited dateStr={record.created} />\n                  {recordLoadedFromURL && (\n                    <>\n                      <En>by {userinfo.displayName}</En>\n                      <Fr>par {userinfo.displayName}</Fr>{\" \"}\n                      {isReviewer && userinfo.email}\n                    </>\n                  )}\n                </i>\n                <LinearProgressWithLabel value={percentValidInt} />\n              </Typography>\n            </div>\n          </Grid>\n        </Grid>\n        <TabPanel value={tabIndex} index=\"start\">\n          <StartTab {...tabProps} />\n        </TabPanel>\n        <TabPanel value={tabIndex} index=\"identification\">\n          <IdentificationTab {...tabProps} />\n        </TabPanel>\n        <TabPanel value={tabIndex} index=\"spatial\">\n          <SpatialTab {...tabProps} />\n        </TabPanel>\n        <TabPanel value={tabIndex} index=\"platform\">\n          <PlatformTab {...tabProps} />\n        </TabPanel>\n        <TabPanel value={tabIndex} index=\"distribution\">\n          <DistributionTab {...tabProps} />\n        </TabPanel>\n        <TabPanel value={tabIndex} index=\"submit\">\n          <SubmitTab {...tabProps} submitRecord={() => this.submitRecord()} />\n        </TabPanel>\n        <TabPanel value={tabIndex} index=\"contact\">\n          {/* userContacts are the ones the user has saved, not necessarily part of the record */}\n          <ContactTab userContacts={userContacts} {...tabProps} />\n        </TabPanel>\n      </Grid>\n    );\n  }\n}\nMetadataForm.contextType = UserContext;\nexport default withStyles(styles)(withRouter(MetadataForm));\n","import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { Grid, Button } from \"@material-ui/core\";\nimport { Save } from \"@material-ui/icons\";\nimport firebase from \"../../firebase\";\nimport { auth } from \"../../auth\";\n\nimport { En, Fr } from \"../I18n\";\n\nimport Contact from \"./Contact\";\n\nclass EditContact extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      orgName: \"\",\n      orgEmail: \"\",\n      orgURL: \"\",\n      orgAdress: \"\",\n      orgCity: \"\",\n      orgCountry: \"\",\n      indName: \"\",\n      indPosition: \"\",\n      indEmail: \"\",\n    };\n  }\n\n  async componentDidMount() {\n    const { match } = this.props;\n\n    const { recordID, region } = match.params;\n\n    if (auth.currentUser && recordID) {\n      this.dbRef = firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(auth.currentUser.uid)\n        .child(\"contacts\")\n        .child(recordID);\n\n      this.setState({ recordID });\n\n      if (auth.currentUser) {\n        this.dbRef.on(\"value\", (record) =>\n          this.setState({ ...record.toJSON() })\n        );\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.dbRef) this.dbRef.off(\"value\");\n  }\n\n  handleChange(event) {\n    const { name, value } = event.target;\n\n    this.setState({ [name]: value });\n  }\n\n  handleCancelClick() {\n    const { match, history } = this.props;\n    const { language, region } = match.params;\n\n    history.push(`/${language}/${region}/contacts`);\n  }\n\n  async handleSubmitClick() {\n    const { history, match } = this.props;\n\n    const { region, language } = match.params;\n\n    if (this.dbRef) this.dbRef.off(\"value\");\n    const baseURL = `/${language}/${region}`;\n\n    const rootRef = firebase\n      .database()\n      .ref(region)\n      .child(\"users\")\n      .child(auth.currentUser.uid)\n      .child(\"contacts\");\n\n    await rootRef.push(this.state);\n    history.push(`${baseURL}/contacts`);\n  }\n\n  // orgName, orgURL, orgAdress, orgCity, orgCountry\n  render() {\n    const { orgName, indName } = this.state;\n    const isFilledEnoughToSave = orgName || indName;\n    return (\n      <Grid container direction=\"column\" spacing={2}>\n        <Grid item xs>\n          <Contact value={this.state} onChange={(e) => this.handleChange(e)} />\n        </Grid>\n\n        <Grid item xs>\n          <Button\n            startIcon={<Save />}\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => this.handleSubmitClick()}\n            disabled={!isFilledEnoughToSave}\n          >\n            <En>Save</En>\n            <Fr>Enregistrer</Fr>\n          </Button>\n\n          <Button\n            style={{ marginLeft: \"10px\" }}\n            variant=\"contained\"\n            color=\"secondary\"\n            onClick={() => this.handleCancelClick()}\n          >\n            <En>Cancel</En>\n            <Fr>Annuler</Fr>\n          </Button>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nexport default withRouter(EditContact);\n","import React from \"react\";\nimport {\n  Typography,\n  List,\n  ListItem,\n  ListItemText,\n  Avatar,\n  ListItemAvatar,\n  Tooltip,\n  ListItemSecondaryAction,\n  IconButton,\n  Grid,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport { Delete, Publish, Description, Edit, Eject } from \"@material-ui/icons\";\nimport firebase from \"../../firebase\";\nimport { auth } from \"../../auth\";\nimport { Fr, En, I18n } from \"../I18n\";\nimport LastEdited from \"../FormComponents/LastEdited\";\n\nimport SimpleModal from \"../FormComponents/SimpleModal\";\n\nconst MetadataRecordListItem = ({\n  record,\n  language,\n  onViewClick,\n  onDeleteClick,\n  onSubmitClick,\n  showPublishAction,\n  showUnPublishAction,\n  onUnPublishClick,\n}) => (\n  <ListItem key={record.key}>\n    <ListItemAvatar>\n      <Avatar>\n        <Description />\n      </Avatar>\n    </ListItemAvatar>\n    <ListItemText\n      onClick={onViewClick}\n      primary={<div style={{ width: \"80%\" }}>{record.title[language]}</div>}\n      secondary={\n        <span>\n          Author: {record.userinfo.displayName} {record.userinfo.email} <br />\n          <LastEdited dateStr={record.created} />\n          <br />\n          UUID: {record.identifier}\n          <br />\n        </span>\n      }\n    />\n    <ListItemSecondaryAction>\n      <Tooltip title={<I18n en=\"View\" fr=\"Vue\" />}>\n        <span>\n          <IconButton onClick={onViewClick} edge=\"end\" aria-label=\"delete\">\n            <Edit />\n          </IconButton>\n        </span>\n      </Tooltip>\n\n      <Tooltip title={<I18n en=\"Delete\" fr=\"Supprimer\" />}>\n        <span>\n          <IconButton onClick={onDeleteClick} edge=\"end\" aria-label=\"delete\">\n            <Delete />\n          </IconButton>\n        </span>\n      </Tooltip>\n      {showPublishAction && (\n        <Tooltip title={<I18n en=\"Publish\" fr=\"Publier\" />}>\n          <span>\n            <IconButton onClick={onSubmitClick} edge=\"end\" aria-label=\"delete\">\n              <Publish />\n            </IconButton>\n          </span>\n        </Tooltip>\n      )}\n      {showUnPublishAction && (\n        <Tooltip title={<I18n en=\"Un-publish\" fr=\"De-Publier\" />}>\n          <span>\n            <IconButton\n              onClick={onUnPublishClick}\n              edge=\"end\"\n              aria-label=\"delete\"\n            >\n              <Eject />\n            </IconButton>\n          </span>\n        </Tooltip>\n      )}\n    </ListItemSecondaryAction>\n  </ListItem>\n);\nclass Submissions extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: {},\n      deleteModalOpen: false,\n      publishModalOpen: false,\n      unPublishModalOpen: false,\n      modalKey: \"\",\n      modalUserID: \"\",\n      loading: false,\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({ loading: true });\n    const { match } = this.props;\n    const { region } = match.params;\n\n    this.unsubscribe = auth.onAuthStateChanged((user) => {\n      if (user) {\n        firebase\n          .database()\n          .ref(region)\n          .child(\"users\")\n          .on(\"value\", (users) =>\n            this.setState({ users: users.toJSON(), loading: false })\n          );\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.unsubscribe) this.unsubscribe();\n  }\n\n  editRecord(key, userID) {\n    const { match, history } = this.props;\n    const { language, region } = match.params;\n    history.push(`/${language}/${region}/review/${userID}/${key}`);\n  }\n\n  async submitRecord(key, userID, status) {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    if (key && userID) {\n      this.setState({ loading: true });\n\n      await firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(userID)\n        .child(\"records\")\n        .child(key)\n        .child(\"status\")\n        .set(status);\n      this.setState({ loading: false });\n    }\n  }\n\n  async deleteRecord(key, userID) {\n    const { match } = this.props;\n    const { region } = match.params;\n    if (key && userID) {\n      this.setState({ loading: true });\n\n      await firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        // this can be any user id\n        .child(userID)\n        .child(\"records\")\n        .child(key)\n        .remove();\n\n      this.setState({ loading: false });\n    }\n  }\n\n  toggleModal(modalName, state, key = \"\", userID) {\n    this.setState({ modalKey: key, [modalName]: state, modalUserID: userID });\n  }\n\n  render() {\n    const { users } = this.state;\n    // eslint-disable-next-line react/destructuring-assignment\n    const { match } = this.props;\n    const { language } = match.params;\n\n    const records = [];\n\n    Object.entries(users).forEach(([userID, user]) => {\n      if (user.records) {\n        Object.entries(user.records).forEach(([k, record]) => {\n          records.push({\n            ...record,\n            userinfo: { ...user.userinfo, userID },\n            key: k,\n          });\n        });\n      }\n    });\n\n    const recordsForReview = records.filter(\n      (record) => record.status === \"submitted\"\n    );\n    const recordsPublished = records.filter(\n      (record) => record.status === \"published\"\n    );\n    const {\n      deleteModalOpen,\n      modalKey,\n      modalUserID,\n      unPublishModalOpen,\n      publishModalOpen,\n      loading,\n    } = this.state;\n\n    return (\n      <Grid container direction=\"column\" spacing={3}>\n        <SimpleModal\n          open={deleteModalOpen}\n          onClose={() => this.toggleModal(\"deleteModalOpen\", false)}\n          onAccept={() => this.deleteRecord(modalKey, modalUserID)}\n          aria-labelledby=\"simple-modal-title\"\n          aria-describedby=\"simple-modal-description\"\n        />\n        <SimpleModal\n          open={publishModalOpen}\n          onClose={() => this.toggleModal(\"publishModalOpen\", false)}\n          onAccept={() => this.submitRecord(modalKey, modalUserID, \"published\")}\n          aria-labelledby=\"simple-modal-title\"\n          aria-describedby=\"simple-modal-description\"\n        />\n        <SimpleModal\n          open={unPublishModalOpen}\n          onClose={() => this.toggleModal(\"unPublishModalOpen\", false)}\n          onAccept={() => this.submitRecord(modalKey, modalUserID, \"submitted\")}\n          aria-labelledby=\"simple-modal-title\"\n          aria-describedby=\"simple-modal-description\"\n        />\n        <Grid item xs>\n          <Typography variant=\"h5\">\n            <En>Review submissions</En>\n            <Fr>Examen des soumissions</Fr>\n          </Typography>\n        </Grid>\n        {loading ? (\n          <CircularProgress />\n        ) : (\n          <>\n            {recordsForReview.length ? (\n              <>\n                <Grid item xs>\n                  <Typography>\n                    <En>\n                      These are the submissions we have received from all users\n                      that have not yet been reviewed. To accept a record, click\n                      the 'Publish' button. Once a record is published, you can\n                      download the xml or yaml\n                    </En>\n                    <Fr>\n                      Ce sont les soumissions que nous avons reçues de tous les\n                      utilisateurs qui n'ont pas encore été examinées. Pour\n                      accepter un enregistrement, cliquez sur le bouton «\n                      Publier ». Une fois qu'un enregistrement est publié, vous\n                      pouvez télécharger le xml ou yaml\n                    </Fr>{\" \"}\n                    .\n                  </Typography>\n                </Grid>\n                <Grid item xs>\n                  <List>\n                    {recordsForReview.map((record) => {\n                      return (\n                        <MetadataRecordListItem\n                          record={record}\n                          key={record.key}\n                          language={language}\n                          onViewClick={() =>\n                            this.editRecord(record.key, record.userinfo.userID)\n                          }\n                          onDeleteClick={() =>\n                            this.toggleModal(\n                              \"deleteModalOpen\",\n                              true,\n                              record.key,\n                              record.userinfo.userID\n                            )\n                          }\n                          onSubmitClick={() =>\n                            this.toggleModal(\n                              \"publishModalOpen\",\n                              true,\n                              record.key,\n                              record.userinfo.userID\n                            )\n                          }\n                          showPublishAction\n                        />\n                      );\n                    })}\n                  </List>\n                </Grid>\n              </>\n            ) : (\n              <Grid item xs>\n                <Typography>\n                  <En>There are no records waiting to be reviewed.</En>\n                  <Fr>Aucun dossier n'attend d'être examiné.</Fr>\n                </Typography>\n              </Grid>\n            )}\n\n            {recordsPublished.length ? (\n              <Grid item xs>\n                <Typography>\n                  <En>Published records:</En>\n                  <Fr>Documents publiés:</Fr>\n                </Typography>\n                <List>\n                  {recordsPublished.map((record, i) => {\n                    return (\n                      <MetadataRecordListItem\n                        record={record}\n                        key={i}\n                        language={language}\n                        onViewClick={() =>\n                          this.editRecord(record.key, record.userinfo.userID)\n                        }\n                        onDeleteClick={() =>\n                          this.toggleModal(\n                            \"deleteModalOpen\",\n                            true,\n                            record.key,\n                            record.userinfo.userID\n                          )\n                        }\n                        onUnPublishClick={() =>\n                          this.toggleModal(\n                            \"unPublishModalOpen\",\n                            true,\n                            record.key,\n                            record.userinfo.userID\n                          )\n                        }\n                        showUnPublishAction\n                      />\n                    );\n                  })}\n                </List>\n              </Grid>\n            ) : (\n              <Grid item xs>\n                <Typography>\n                  <En>There are no published records.</En>\n                  <Fr>Il n'y a pas d'enregistrements publiés</Fr>\n                </Typography>\n              </Grid>\n            )}\n          </>\n        )}\n      </Grid>\n    );\n  }\n}\n\nexport default Submissions;\n","import React from \"react\";\nimport {\n  Typography,\n  Button,\n  CircularProgress,\n  TextField,\n  Grid,\n} from \"@material-ui/core\";\nimport { Save } from \"@material-ui/icons\";\n\nimport firebase from \"../../firebase\";\nimport { auth } from \"../../auth\";\nimport { Fr, En } from \"../I18n\";\n\nconst unique = (arr) => [...new Set(arr)];\n\nclass Admin extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // array of strings which are email addresses or reviewers, admins\n      admins: [],\n      reviewers: [],\n      loading: false,\n    };\n  }\n\n  async componentDidMount() {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    this.setState({ loading: true });\n\n    this.unsubscribe = auth.onAuthStateChanged((user) => {\n      if (user) {\n        firebase\n          .database()\n          .ref(region)\n          .child(`permissions`)\n          .on(\"value\", (permissionsFirebase) => {\n            const permissions = permissionsFirebase.toJSON();\n\n            const admins = Object.values(permissions.admins || {});\n            const reviewers = Object.values(permissions.reviewers || {});\n\n            this.setState({\n              admins,\n              reviewers,\n              loading: false,\n            });\n          });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.unsubscribe) this.unsubscribe();\n  }\n\n  updatePermissions() {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    const { reviewers, admins } = this.state;\n    if (auth.currentUser) {\n      const dbRef = firebase.database().ref(region).child(\"permissions\");\n\n      dbRef.child(\"admins\").set(unique(admins));\n      dbRef.child(\"reviewers\").set(unique(reviewers));\n    }\n  }\n\n  render() {\n    const { loading, reviewers, admins } = this.state;\n    return (\n      <Grid container direction=\"column\" spacing={3}>\n        <Grid item xs>\n          <Typography variant=\"h5\">\n            <En>Admin</En>\n            <Fr>Administrateurs</Fr>\n          </Typography>\n          <Typography>\n            <En>Add each admin or reviewer's email address on it's own line</En>\n            <Fr>\n              Ajouter l'adresse e-mail de chaque administrateur ou réviseur sur\n              sa propre ligne\n            </Fr>\n          </Typography>\n        </Grid>\n\n        {loading ? (\n          <CircularProgress />\n        ) : (\n          <>\n            <Grid item xs>\n              <Typography>\n                <En>Admins</En>\n                <Fr>Administrateurs</Fr>\n              </Typography>\n            </Grid>\n            <Grid item xs>\n              <TextField\n                multiline\n                fullWidth\n                value={admins.join(\"\\n\")}\n                onChange={(e) =>\n                  this.setState({ admins: e.target.value.split(\"\\n\") })\n                }\n              />\n            </Grid>\n            <Grid item xs>\n              <Typography>\n                <En>Reviewers</En>\n                <Fr>Réviseurs</Fr>\n              </Typography>\n            </Grid>\n            <Grid item xs>\n              <TextField\n                multiline\n                fullWidth\n                value={reviewers.join(\"\\n\")}\n                onChange={(e) =>\n                  this.setState({ reviewers: e.target.value.split(\"\\n\") })\n                }\n              />\n            </Grid>\n            <Grid item xs>\n              <Button\n                startIcon={<Save />}\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => this.updatePermissions()}\n              >\n                <En>Save</En>\n                <Fr>Enregistrer</Fr>\n              </Button>\n            </Grid>\n          </>\n        )}\n      </Grid>\n    );\n  }\n}\n\nexport default Admin;\n","import React from \"react\";\nimport { Typography } from \"@material-ui/core\";\n\nconst NotFound = () => {\n  return (\n    <div>\n      <Typography variant=\"h3\">Not Found / Non trouvé</Typography>\n    </div>\n  );\n};\n\nexport default NotFound;\n","import React, { useContext } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport * as Sentry from \"@sentry/react\";\n\nimport { CircularProgress } from \"@material-ui/core\";\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport Submissions from \"./Pages/Submissions\";\nimport Contacts from \"./Pages/Contacts\";\nimport Login from \"./Pages/Login\";\nimport NavDrawer from \"./NavDrawer\";\nimport MetadataForm from \"./Pages/MetadataForm\";\nimport EditContact from \"./FormComponents/EditContact\";\nimport Reviewer from \"./Pages/Reviewer\";\nimport Admin from \"./Pages/Admin\";\nimport NotFound from \"./Pages/NotFound\";\nimport UserProvider, { UserContext } from \"../providers/UserProvider\";\n\nconst theme = createMuiTheme({\n  props: {\n    MuiTextField: {\n      variant: \"outlined\",\n    },\n    MuiSelect: {\n      variant: \"outlined\",\n    },\n    MuiButton: {\n      variant: \"outlined\",\n    },\n  },\n});\nconst Pages = ({ match }) => {\n  const { loggedIn, authIsLoading } = useContext(UserContext);\n\n  return (\n    <>\n      {authIsLoading ? (\n        <CircularProgress />\n      ) : (\n        <>\n          {loggedIn ? (\n            <Switch>\n              <Route path={`${match.path}/`} exact component={Submissions} />\n              <Route\n                path={`${match.path}/new/:recordID`}\n                component={MetadataForm}\n              />\n              <Route path={`${match.path}/new`} component={MetadataForm} />\n              <Route\n                path={`${match.path}/review/:userID/:recordID`}\n                component={MetadataForm}\n              />\n              <Route\n                path={`${match.path}/contacts/new/:recordID`}\n                component={EditContact}\n              />\n              <Route\n                path={`${match.path}/contacts/new`}\n                component={EditContact}\n              />\n              <Route path={`${match.path}/contacts`} component={Contacts} />\n              <Route\n                path={`${match.path}/submissions`}\n                component={Submissions}\n              />\n              <Route path={`${match.path}/reviewer`} component={Reviewer} />\n              <Route path={`${match.path}/admin`} component={Admin} />\n              <Route\n                path={`${match.path}/sentry-test`}\n                component={() => {\n                  Sentry.captureException(new Error(\"Testing sentry\"));\n                  return <h1>Error notification sent</h1>;\n                }}\n              />\n              <Route path=\"*\" component={NotFound} />\n            </Switch>\n          ) : (\n            <Login />\n          )}\n        </>\n      )}\n    </>\n  );\n};\nconst BaseLayout = ({ match }) => {\n  return (\n    <UserProvider>\n      <ThemeProvider theme={theme}>\n        <NavDrawer>\n          <Pages match={match} />\n        </NavDrawer>\n      </ThemeProvider>\n    </UserProvider>\n  );\n};\n\nexport default BaseLayout;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { ButtonBase, Typography, Grid } from \"@material-ui/core\";\n\nimport { useParams, useHistory } from \"react-router-dom\";\nimport regions from \"../../regions\";\n\nconst images = [\n  {\n    url: \"/metadata-entry-form/pacific.jpg\",\n    title: \"pacific\",\n    width: \"30%\",\n  },\n  {\n    url: \"/metadata-entry-form/stlaurent.jpg\",\n    title: \"stlaurent\",\n    width: \"30%\",\n  },\n  {\n    url: \"/metadata-entry-form/atlantic.jpg\",\n    title: \"atlantic\",\n    width: \"30%\",\n  },\n];\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    minWidth: 300,\n    width: \"100%\",\n  },\n  image: {\n    position: \"relative\",\n    height: 200,\n    [theme.breakpoints.down(\"xs\")]: {\n      width: \"100% !important\", // Overrides inline-style\n      height: 100,\n    },\n    \"&:hover, &$focusVisible\": {\n      zIndex: 1,\n      \"& $imageBackdrop\": {\n        opacity: 0.15,\n      },\n      \"& $imageMarked\": {\n        opacity: 0,\n      },\n      \"& $imageTitle\": {\n        border: \"4px solid currentColor\",\n      },\n    },\n  },\n  focusVisible: {},\n  imageButton: {\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    color: theme.palette.common.white,\n  },\n  imageSrc: {\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    backgroundSize: \"cover\",\n    backgroundPosition: \"center 40%\",\n  },\n  imageBackdrop: {\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    backgroundColor: theme.palette.common.black,\n    opacity: 0.4,\n    transition: theme.transitions.create(\"opacity\"),\n  },\n  imageTitle: {\n    position: \"relative\",\n    padding: `${theme.spacing(2)}px ${theme.spacing(4)}px ${\n      theme.spacing(1) + 6\n    }px`,\n  },\n  imageMarked: {\n    height: 3,\n    width: 18,\n    backgroundColor: theme.palette.common.white,\n    position: \"absolute\",\n    bottom: -2,\n    left: \"calc(50% - 9px)\",\n    transition: theme.transitions.create(\"opacity\"),\n  },\n}));\n\nexport default function ButtonBases() {\n  const classes = useStyles();\n  const { language } = useParams();\n\n  const history = useHistory();\n\n  function handleRegionClick(region) {\n    history.push(`/${language}/${region}`);\n  }\n\n  return (\n    <Grid container spacing={2}>\n      {images.map((image) => (\n        <Grid item xs key={image.title}>\n          <ButtonBase\n            focusRipple\n            className={classes.image}\n            onClick={() => handleRegionClick(image.title)}\n            focusVisibleClassName={classes.focusVisible}\n            style={{\n              width: \"100%\",\n            }}\n          >\n            <span\n              className={classes.imageSrc}\n              style={{\n                backgroundImage: `url(${image.url})`,\n              }}\n            />\n            <span className={classes.imageBackdrop} />\n            <span className={classes.imageButton}>\n              <Typography\n                component=\"span\"\n                variant=\"subtitle1\"\n                color=\"inherit\"\n                className={classes.imageTitle}\n              >\n                {regions[image.title][language]}\n                <span className={classes.imageMarked} />\n              </Typography>\n            </span>\n          </ButtonBase>\n        </Grid>\n      ))}\n    </Grid>\n  );\n}\n","import React from \"react\";\nimport {\n  Route,\n  HashRouter as Router,\n  Redirect,\n  Switch,\n} from \"react-router-dom\";\nimport NavDrawer from \"./NavDrawer\";\n\nimport BaseLayout from \"./BaseLayout\";\nimport RegionSelect from \"./Pages/RegionSelect\";\n\nconst languagePath = \":language(en|fr)\";\nconst regionPath = \":region(pacific|atlantic|stlaurent)\";\n\nconst App = () => (\n  <Router basename=\"/\">\n    <Switch>\n      <Route exact path=\"/\">\n        <Redirect to=\"/en/region-select\" />\n      </Route>\n      <Route\n        path={`/${languagePath}/region-select`}\n        exact\n        component={() => (\n          <NavDrawer>\n            <RegionSelect />\n          </NavDrawer>\n        )}\n      />\n      <Route path={`/${languagePath}/${regionPath}`} component={BaseLayout} />\n      <Route path=\"*\">\n        <Redirect to=\"/en/region-select\" />\n      </Route>\n    </Switch>\n  </Router>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as Sentry from \"@sentry/react\";\nimport { Integrations } from \"@sentry/tracing\";\n\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nif (process.env.NODE_ENV === \"production\")\n  Sentry.init({\n    dsn:\n      \"https://8fd4b6885cc447c0b11aa0cb3009b0e3@o56764.ingest.sentry.io/5493983\",\n    integrations: [new Integrations.BrowserTracing()],\n\n    // We recommend adjusting this value in production, or using tracesSampler\n    // for finer control\n    tracesSampleRate: 1.0,\n  });\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}